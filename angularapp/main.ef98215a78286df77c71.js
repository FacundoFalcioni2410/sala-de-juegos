(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{8255:Ge=>{function Te(V){return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+V+"'");throw g.code="MODULE_NOT_FOUND",g})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Ge.exports=Te},3018:(Ge,Te,V)=>{"use strict";V.d(Te,{deG:()=>td,tb:()=>xy,AFp:()=>Po,ip1:()=>zw,CZH:()=>Pl,hGG:()=>ix,z2F:()=>Fl,sBO:()=>ry,Sil:()=>ag,_Vd:()=>wl,EJc:()=>Ny,SBq:()=>ko,qLn:()=>Ve,vpe:()=>_s,gxx:()=>ds,tBr:()=>sa,XFs:()=>Ne,OlP:()=>In,zs3:()=>Wt,ZZ4:()=>zp,aQg:()=>fh,soG:()=>Oy,YKP:()=>Wp,v3s:()=>a0,h0i:()=>Gs,PXZ:()=>$t,R0b:()=>pi,FiY:()=>Ns,Lbi:()=>BS,g9A:()=>VS,Qsj:()=>Ku,FYo:()=>Ea,JOm:()=>To,Tiy:()=>ey,q3G:()=>Sn,tp0:()=>ks,EAV:()=>QM,Rgc:()=>qp,dDg:()=>cc,DyG:()=>Ii,q4F:()=>ZE,GfV:()=>dh,s_b:()=>sy,ifc:()=>nn,eFA:()=>s0,G48:()=>$M,Gpc:()=>ie,f3M:()=>Vv,X6Q:()=>By,_c5:()=>iT,VLi:()=>HM,c2e:()=>Ry,zSh:()=>op,wAp:()=>ot,vHH:()=>it,EiD:()=>vd,mCW:()=>nl,qzn:()=>oa,JVY:()=>pd,pB0:()=>Kv,eBb:()=>pm,L6k:()=>Zv,LAX:()=>Lf,cg1:()=>L_,Tjo:()=>ex,kL8:()=>kp,yhl:()=>fm,dqk:()=>B,sIi:()=>rr,CqO:()=>fE,QGY:()=>Pu,F4k:()=>hE,RDi:()=>Ua,AaK:()=>j,z3N:()=>Si,qOj:()=>nr,TTD:()=>Ur,_Bn:()=>Q_,xp6:()=>_C,uIk:()=>pl,Gre:()=>Mp,ekj:()=>M_,Suo:()=>Ah,Xpm:()=>Oa,lG2:()=>Pg,Yz7:()=>_n,cJS:()=>bs,oAB:()=>ws,Yjl:()=>Yh,Y36:()=>Gd,_UZ:()=>cE,qZA:()=>yp,TgZ:()=>y_,EpF:()=>bp,n5z:()=>Mv,Ikx:()=>P_,LFG:()=>vn,$8M:()=>Jc,NdJ:()=>Ep,CRH:()=>by,kcU:()=>Hc,O4$:()=>jc,oxw:()=>OD,Hsn:()=>Cp,F$t:()=>_E,Q6J:()=>m_,s9C:()=>Fu,DdM:()=>sc,iGM:()=>fS,CHM:()=>uf,LSH:()=>is,kYT:()=>Wl,Udp:()=>A_,WFA:()=>zd,d8E:()=>F_,YNc:()=>vD,_uU:()=>Xd,Oqu:()=>CE,hij:()=>kn,Gf:()=>pS});var g=V(9765),ue=V(5319),G=V(7574),oe=V(6682),be=V(2441);var he=V(1307);function Q(){return new g.xQ}function $(a){for(let l in a)if(a[l]===$)return l;throw Error("Could not find renamed property on target object.")}function q(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function j(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(j).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function K(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const fe=$({__forward_ref__:$});function ie(a){return a.__forward_ref__=ie,a.toString=function(){return j(this())},a}function ae(a){return xe(a)?a():a}function xe(a){return"function"==typeof a&&a.hasOwnProperty(fe)&&a.__forward_ref__===ie}class it extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function Be(a){return"string"==typeof a?a:null==a?"":String(a)}function ve(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Be(a)}function le(a,l){const c=l?` in ${l}`:"";throw new it("201",`No provider for ${ve(a)} found${c}`)}function Rt(a,l){null==a&&function(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function _n(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function bs(a){return{providers:a.providers||[],imports:a.imports||[]}}function hr(a){return Uo(a,Gn)||Uo(a,_i)}function Uo(a,l){return a.hasOwnProperty(l)?a[l]:null}function Es(a){return a&&(a.hasOwnProperty(Ni)||a.hasOwnProperty(Tt))?a[Ni]:null}const Gn=$({\u0275prov:$}),Ni=$({\u0275inj:$}),_i=$({ngInjectableDef:$}),Tt=$({ngInjectorDef:$});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let Gt;function cn(a){const l=Gt;return Gt=a,l}function Qt(a,l,c){const d=hr(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Ne.Optional?null:void 0!==l?l:void le(j(a),"Injector")}function ze(a){return{toString:a}.toString()}var Vr=(()=>((Vr=Vr||{})[Vr.OnPush=0]="OnPush",Vr[Vr.Default=1]="Default",Vr))(),nn=(()=>((nn=nn||{})[nn.Emulated=0]="Emulated",nn[nn.None=2]="None",nn[nn.ShadowDom=3]="ShadowDom",nn))();const Br="undefined"!=typeof globalThis&&globalThis,Zh="undefined"!=typeof window&&window,dn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,W="undefined"!=typeof global&&global,B=Br||W||Zh||dn,X={},Se=[],et=$({\u0275cmp:$}),Ut=$({\u0275dir:$}),Pt=$({\u0275pipe:$}),Ot=$({\u0275mod:$}),Mn=$({\u0275loc:$}),Dn=$({\u0275fac:$}),zn=$({__NG_ELEMENT_ID__:$});let io=0;function Oa(a){return ze(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Vr.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Se,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||nn.Emulated,id:"c",styles:a.styles||Se,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,_=a.features,b=a.pipes;return d.id+=io++,d.inputs=ka(a.inputs,c),d.outputs=ka(a.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Na):null,d.pipeDefs=b?()=>("function"==typeof b?b():b).map(wc):null,d})}function Na(a){return Xn(a)||function(a){return a[Ut]||null}(a)}function wc(a){return function(a){return a[Pt]||null}(a)}const Kh={};function ws(a){return ze(()=>{const l={type:a.type,bootstrap:a.bootstrap||Se,declarations:a.declarations||Se,imports:a.imports||Se,exports:a.exports||Se,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Kh[a.id]=a.type),l})}function Wl(a,l){return ze(()=>{const c=Ht(a,!0);c.declarations=l.declarations||Se,c.imports=l.imports||Se,c.exports=l.exports||Se})}function ka(a,l){if(null==a)return X;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),c[f]=d,l&&(l[f]=_)}return c}const Pg=Oa;function Yh(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Xn(a){return a[et]||null}function Ht(a,l){const c=a[Ot]||null;if(!c&&!0===l)throw new Error(`Type ${j(a)} does not have '\u0275mod' property.`);return c}function Pi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Rn(a){return Array.isArray(a)&&!0===a[1]}function Ei(a){return 0!=(8&a.flags)}function Dc(a){return 2==(2&a.flags)}function Va(a){return 1==(1&a.flags)}function Fi(a){return null!==a.template}function Xh(a){return 0!=(512&a[2])}function lo(a,l){return a.hasOwnProperty(Dn)?a[Dn]:null}class Sc{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ur(){return Tc}function Tc(a){return a.type.prototype.ngOnChanges&&(a.setInput=jg),q0}function q0(){const a=Mc(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===X)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function jg(a,l,c,d){const f=Mc(a)||function(a,l){return a[Ac]=l}(a,{previous:X,current:null}),_=f.current||(f.current={}),b=f.previous,w=this.declaredInputs[c],S=b[w];_[w]=new Sc(S&&S.currentValue,l,b===X),a[d]=l}Ur.ngInherit=!0;const Ac="__ngSimpleChanges__";function Mc(a){return a[Ac]||null}const Rc="http://www.w3.org/2000/svg";let qo;function Ua(a){qo=a}function hn(a){return!!a.listen}const kc={createRenderer:(a,l)=>void 0!==qo?qo:"undefined"!=typeof document?document:void 0};function fn(a){for(;Array.isArray(a);)a=a[0];return a}function Pc(a,l){return fn(l[a])}function ni(a,l){return fn(l[a.index])}function uo(a,l){return a.data[l]}function br(a,l){const c=l[a];return Pi(c)?c:c[0]}function tu(a){return 4==(4&a[2])}function of(a){return 128==(128&a[2])}function ho(a,l){return null==l?null:a[l]}function Lc(a){a[18]=0}function af(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const ht={lFrame:Cv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lf(){return ht.bindingsEnabled}function Me(){return ht.lFrame.lView}function Nt(){return ht.lFrame.tView}function uf(a){return ht.lFrame.contextLView=a,a[8]}function Vn(){let a=Bc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Bc(){return ht.lFrame.currentTNode}function wi(a,l){const c=ht.lFrame;c.currentTNode=a,c.isParent=l}function cf(){return ht.lFrame.isParent}function fo(){ht.lFrame.isParent=!1}function Ko(){return ht.isInCheckNoChangesMode}function po(a){ht.isInCheckNoChangesMode=a}function go(){return ht.lFrame.bindingIndex++}function Is(a){const l=ht.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function iu(a,l){const c=ht.lFrame;c.bindingIndex=c.bindingRootIndex=a,mo(l)}function mo(a){ht.lFrame.currentDirectiveIndex=a}function Uc(a){const l=ht.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Kg(){return ht.lFrame.currentQueryIndex}function Yg(a){ht.lFrame.currentQueryIndex=a}function bv(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Ev(a,l,c){if(c&Ne.SkipSelf){let f=l,_=a;for(;!(f=f.parent,null!==f||c&Ne.Host||(f=bv(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,a=_}const d=ht.lFrame=wv();return d.currentTNode=l,d.lView=a,!0}function su(a){const l=wv(),c=a[1];ht.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function wv(){const a=ht.lFrame,l=null===a?null:a.child;return null===l?Cv(a):l}function Cv(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Qg(){const a=ht.lFrame;return ht.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Z0=Qg;function Jg(){const a=Qg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function er(){return ht.lFrame.selectedIndex}function Hr(a){ht.lFrame.selectedIndex=a}function pn(){const a=ht.lFrame;return uo(a.tView,a.selectedIndex)}function jc(){ht.lFrame.currentNamespace=Rc}function Hc(){ht.lFrame.currentNamespace=null}function $c(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const _=a.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:T,ngOnDestroy:R}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-c,b),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),S&&(a.viewHooks||(a.viewHooks=[])).push(-c,S),T&&((a.viewHooks||(a.viewHooks=[])).push(c,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,T)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(c,R)}}function Yo(a,l,c){em(a,l,3,c)}function Gc(a,l,c,d){(3&a[2])===c&&em(a,l,c,d)}function Xg(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function em(a,l,c,d){const _=null!=d?d:-1,b=l.length-1;let w=0;for(let S=void 0!==d?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(w=l[S],null!=d&&w>=d)break}else l[S]<0&&(a[18]+=65536),(w<_||-1==_)&&(Sv(a,c,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Sv(a,l,c,d){const f=c[d]<0,_=c[d+1],w=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class rs{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function vo(a,l,c){const d=hn(a);let f=0;for(;f<c.length;){const _=c[f];if("number"==typeof _){if(0!==_)break;f++;const b=c[f++],w=c[f++],S=c[f++];d?a.setAttribute(l,w,S,b):l.setAttributeNS(b,w,S)}else{const b=_,w=c[++f];qc(b)?d&&a.setProperty(l,b,w):d?a.setAttribute(l,b,w):l.setAttribute(b,w),f++}}return f}function gf(a){return 3===a||4===a||6===a}function qc(a){return 64===a.charCodeAt(0)}function mf(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Tv(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Tv(a,l,c,d,f){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const w=a[_++];if("number"==typeof w){if(w===l){b=-1;break}if(w>l){b=_-1;break}}}for(;_<a.length;){const w=a[_];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(a[_+1]=f));if(d===a[_+1])return void(a[_+2]=f)}_++,null!==d&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,c),null!==d&&a.splice(_++,0,d),null!==f&&a.splice(_++,0,f)}function _f(a){return-1!==a}function au(a){return 32767&a}function ja(a,l){let c=function(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let Ha=!0;function $a(a){const l=Ha;return Ha=a,l}let On=0;function dt(a,l){const c=vf(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Kc(d.data,a),Kc(l,null),Kc(d.blueprint,null));const f=Jo(a,l),_=a.injectorIndex;if(_f(f)){const b=au(f),w=ja(f,l),S=w[1].data;for(let T=0;T<8;T++)l[_+T]=w[b+T]|S[b+T]}return l[_+8]=f,_}function Kc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function vf(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Jo(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const _=f[1],b=_.type;if(d=2===b?_.declTNode:1===b?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Yc(a,l,c){!function(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(zn)&&(d=c[zn]),null==d&&(d=c[zn]=On++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function Vi(a,l,c){if(c&Ne.Optional)return a;le(l,"NodeInjector")}function nm(a,l,c,d){if(c&Ne.Optional&&void 0===d&&(d=null),0==(c&(Ne.Self|Ne.Host))){const f=a[9],_=cn(void 0);try{return f?f.get(l,d,c&Ne.Optional):Qt(l,d,c&Ne.Optional)}finally{cn(_)}}return Vi(d,l,c)}function bf(a,l,c,d=Ne.Default,f){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(zn)?a[zn]:void 0;return"number"==typeof l?l>=0?255&l:Av:l}(c);if("function"==typeof _){if(!Ev(l,a,d))return d&Ne.Host?Vi(f,c,d):nm(l,c,d,f);try{const b=_(d);if(null!=b||d&Ne.Optional)return b;le(c)}finally{Z0()}}else if("number"==typeof _){let b=null,w=vf(a,l),S=-1,T=d&Ne.Host?l[16][6]:null;for((-1===w||d&Ne.SkipSelf)&&(S=-1===w?Jo(a,l):l[w+8],-1!==S&&Ss(d,!1)?(b=l[1],w=au(S),l=ja(S,l)):w=-1);-1!==w;){const R=l[1];if(Bn(_,w,R.data)){const k=rm(w,l,c,b,d,T);if(k!==Qc)return k}S=l[w+8],-1!==S&&Ss(d,l[1].data[w+8]===T)&&Bn(_,w,l)?(b=R,w=au(S),l=ja(S,l)):w=-1}}}return nm(l,c,d,f)}const Qc={};function Av(){return new Ga(Vn(),Me())}function rm(a,l,c,d,f,_){const b=l[1],w=b.data[a+8],R=bo(w,b,c,null==d?Dc(w)&&Ha:d!=b&&0!=(3&w.type),f&Ne.Host&&_===w);return null!==R?Di(l,b,R,w):Qc}function bo(a,l,c,d,f){const _=a.providerIndexes,b=l.data,w=1048575&_,S=a.directiveStart,R=_>>20,F=f?w+R:a.directiveEnd;for(let U=d?w:w+R;U<F;U++){const Y=b[U];if(U<S&&c===Y||U>=S&&Y.type===c)return U}if(f){const U=b[S];if(U&&Fi(U)&&U.type===c)return S}return null}function Di(a,l,c,d){let f=a[c];const _=l.data;if(function(a){return a instanceof rs}(f)){const b=f;b.resolving&&function(a,l){throw new it("200",`Circular dependency in DI detected for ${a}`)}(ve(_[c]));const w=$a(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?cn(b.injectImpl):null;Ev(a,d,Ne.Default);try{f=a[c]=b.factory(void 0,_,a,d),l.firstCreatePass&&c>=d.directiveStart&&function(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(d){const b=Tc(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_))}(c,_[c],l)}finally{null!==S&&cn(S),$a(w),b.resolving=!1,Z0()}}return f}function Bn(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Ss(a,l){return!(a&Ne.Self||a&Ne.Host&&l)}class Ga{constructor(l,c){this._tNode=l,this._lView=c}get(l,c){return bf(this._tNode,this._lView,l,void 0,c)}}function Mv(a){return ze(()=>{const l=a.prototype.constructor,c=l[Dn]||za(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const _=f[Dn]||za(f);if(_&&_!==c)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function za(a){return xe(a)?()=>{const l=za(ae(a));return l&&l()}:lo(a)}function Jc(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const _=c[f];if(gf(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(_===l)return c[f+1];f+=2}}}return null}(Vn(),a)}const ea="__parameters__";function Eo(a,l,c){return ze(()=>{const d=function(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(..._){if(this instanceof f)return d.apply(this,_),this;const b=new f(..._);return w.annotation=b,w;function w(S,T,R){const k=S.hasOwnProperty(ea)?S[ea]:Object.defineProperty(S,ea,{value:[]})[ea];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(b),S}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class In{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=_n({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const td=new In("AnalyzeForEntryComponents"),Ii=Function;function ri(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),ri(d,l)):l!==a&&l.push(d)}return l}function ii(a,l){a.forEach(c=>Array.isArray(c)?ii(c,l):l(c))}function Er(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Ts(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function si(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function wr(a,l,c){let d=As(a,l);return d>=0?a[1|d]=c:(d=~d,function(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Cf(a,l){const c=As(a,l);if(c>=0)return a[1|c]}function As(a,l){return function(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const _=d+(f-d>>1),b=a[_<<c];if(l===b)return _<<c;b>l?f=_:d=_+1}return~(f<<c)}(a,l,1)}const Bi={},xs="__NG_DI_FLAG__",oi="ngTempTokenPath",Tf=/\n/gm,fu="__source",pu=$({provide:String,useValue:$});let ia;function Rs(a){const l=ia;return ia=a,l}function Ja(a,l=Ne.Default){if(void 0===ia)throw new Error("inject() must be called from an injection context");return null===ia?Qt(a,void 0,l):ia.get(a,l&Ne.Optional?null:void 0,l)}function vn(a,l=Ne.Default){return(Gt||Ja)(ae(a),l)}const Vv=vn;function Co(a){const l=[];for(let c=0;c<a.length;c++){const d=ae(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let f,_=Ne.Default;for(let b=0;b<d.length;b++){const w=d[b],S=ad(w);"number"==typeof S?-1===S?f=w.token:_|=S:f=w}l.push(vn(f,_))}else l.push(vn(d))}return l}function Os(a,l){return a[xs]=l,a.prototype[xs]=l,a}function ad(a){return a[xs]}function ld(a,l,c,d){const f=a[oi];throw l[fu]&&f.unshift(l[fu]),a.message=function(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=j(l);if(Array.isArray(l))f=l.map(j).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let w=l[b];_.push(b+":"+("string"==typeof w?JSON.stringify(w):j(w)))}f=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(Tf,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[oi]=null,a}const sa=Os(Eo("Inject",a=>({token:a})),-1),Ns=Os(Eo("Optional"),8),ks=Os(Eo("SkipSelf"),4);let Do;function Ps(a){var l;return(null===(l=function(){if(void 0===Do&&(Do=null,B.trustedTypes))try{Do=B.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Do}())||void 0===l?void 0:l.createHTML(a))||a}class tl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Io extends tl{getTypeName(){return"HTML"}}class qv extends tl{getTypeName(){return"Style"}}class X0 extends tl{getTypeName(){return"Script"}}class _u extends tl{getTypeName(){return"URL"}}class Wv extends tl{getTypeName(){return"ResourceURL"}}function Si(a){return a instanceof tl?a.changingThisBreaksApplicationSecurity:a}function oa(a,l){const c=fm(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function fm(a){return a instanceof tl&&a.getTypeName()||null}function pd(a){return new Io(a)}function Zv(a){return new qv(a)}function pm(a){return new X0(a)}function Lf(a){return new _u(a)}function Kv(a){return new Wv(a)}class gm{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Ps(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Yv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ps(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Ps(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const _m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nl(a){return(a=String(a)).match(_m)||a.match(Qv)?a:"unsafe:"+a}function ai(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function md(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Jv=ai("area,br,col,hr,img,wbr"),_d=ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bf=ai("rp,rt"),ym=md(Jv,md(_d,ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),md(Bf,ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),md(Bf,_d)),vm=ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rt=ai("srcset"),li=md(vm,rt,ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vu=ai("script,style,template");class $r{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!ym.hasOwnProperty(c))return this.sanitizedSomething=!0,!vu.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const _=d.item(f),b=_.name,w=b.toLowerCase();if(!li.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let S=_.value;vm[w]&&(S=nl(S)),rt[w]&&(a=S,S=(a=String(a)).split(",").map(l=>nl(l.trim())).join(", ")),this.buf.push(" ",b,'="',bm(S),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();ym.hasOwnProperty(c)&&!Jv.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(bm(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Xv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eb=/([^\#-~ |!])/g;function bm(a){return a.replace(/&/g,"&amp;").replace(Xv,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(eb,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bu;function vd(a,l){let c=null;try{bu=bu||function(a){const l=new Yv(a);return function(){try{return!!(new window.DOMParser).parseFromString(Ps(""),"text/html")}catch(a){return!1}}()?new gm(l):l}(a);let d=l?String(l):"";c=bu.getInertBodyElement(d);let f=5,_=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=_,_=c.innerHTML,c=bu.getInertBodyElement(d)}while(d!==_);return Ps((new $r).sanitizeChildren(rl(c)||c))}finally{if(c){const d=rl(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function rl(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Sn=(()=>((Sn=Sn||{})[Sn.NONE=0]="NONE",Sn[Sn.HTML=1]="HTML",Sn[Sn.STYLE=2]="STYLE",Sn[Sn.SCRIPT=3]="SCRIPT",Sn[Sn.URL=4]="URL",Sn[Sn.RESOURCE_URL=5]="RESOURCE_URL",Sn))();function is(a){const l=function(){const a=Me();return a&&a[12]}();return l?l.sanitize(Sn.URL,a)||"":oa(a,"URL")?Si(a):nl(Be(a))}const Fs="__ngContext__";function qt(a,l){a[Fs]=l}function ji(a){const l=function(a){return a[Fs]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function P(a){return a.ngOriginalError}function we(a,...l){a.error(...l)}class Ve{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=this._findContext(l),f=(a=l)&&a.ngErrorLogger||we;var a;f(this._console,"ERROR",l),c&&f(this._console,"ORIGINAL ERROR",c),d&&f(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(P(l)):null}_findOriginalError(l){let c=l&&P(l);for(;c&&P(c);)c=P(c);return c||null}}const ca=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function ls(a){return a instanceof Function?a():a}var To=(()=>((To=To||{})[To.Important=1]="Important",To[To.DashCase=2]="DashCase",To))();function lb(a,l){return undefined(a,l)}function Mt(a){const l=a[3];return Rn(l)?l[3]:l}function Am(a){return rC(a[13])}function zf(a){return rC(a[4])}function rC(a){for(;null!==a&&!Rn(a);)a=a[4];return a}function wd(a,l,c,d,f){if(null!=d){let _,b=!1;Rn(d)?_=d:Pi(d)&&(b=!0,d=d[0]);const w=fn(d);0===a&&null!==c?null==f?Cd(l,c,w):xt(l,c,w,f||null,!0):1===a&&null!==c?xt(l,c,w,f||null,!0):2===a?function(a,l,c){const d=xm(a,l);d&&function(a,l,c,d){hn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,w,b):3===a&&l.destroyNode(w),null!=_&&function(a,l,c,d,f){const _=c[7];_!==fn(c)&&wd(l,a,d,_,f);for(let w=10;w<c.length;w++){const S=c[w];Zf(S[1],S,a,l,d,_)}}(l,a,_,c,f)}}function Mm(a,l,c){return hn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function db(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,af(f,-1)),c.splice(d,1)}function hb(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&db(f,d),l>0&&(a[c-1][4]=d[4]);const _=Ts(a,10+l);!function(a,l){Zf(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const b=_[19];null!==b&&b.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function fb(a,l){if(!(256&l[2])){const c=l[11];hn(c)&&c.destroyNode&&Zf(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return pb(a[1],a);for(;l;){let c=null;if(Pi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Pi(l)&&pb(l[1],l),l=l[3];null===l&&(l=a),Pi(l)&&pb(l[1],l),c=l&&l[4]}l=c}}(l)}}function pb(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof rs)){const _=c[d+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const w=f[_[b]],S=_[b+1];try{S.call(w)}finally{}}else try{_.call(f)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const b=c[_+1],w="function"==typeof b?b(l):fn(l[b]),S=d[f=c[_+2]],T=c[_+3];"boolean"==typeof T?w.removeEventListener(c[_],S,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),_+=2}else{const b=d[f=c[_+1]];c[_].call(b)}if(null!==d){for(let _=f+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&hn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Rn(l[3])){c!==l[3]&&db(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function qf(a,l,c){return function(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===nn.None||f===nn.Emulated)return null}return ni(d,c)}(a,l.parent,c)}function xt(a,l,c,d,f){hn(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function Cd(a,l,c){hn(a)?a.appendChild(l,c):l.appendChild(c)}function lC(a,l,c,d,f){null!==d?xt(a,l,c,d,f):Cd(a,l,c)}function xm(a,l){return hn(a)?a.parentNode(l):l.parentNode}function mb(a,l,c){return Wf(a,l,c)}let Wf=function(a,l,c){return 40&a.type?ni(a,c):null};function Du(a,l,c,d){const f=qf(a,d,l),_=l[11],w=mb(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let S=0;S<c.length;S++)lC(_,f,c[S],w,!1);else lC(_,f,c,w,!1)}function Rm(a,l){if(null!==l){const c=l.type;if(3&c)return ni(l,a);if(4&c)return Dd(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Rm(a,d);{const f=a[l.index];return Rn(f)?Dd(-1,f):fn(f)}}if(32&c)return lb(l,a)()||fn(a[l.index]);{const d=Om(a,l);return null!==d?Array.isArray(d)?d[0]:Rm(Mt(a[16]),d):Rm(a,l.next)}}return null}function Om(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Dd(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Rm(d,f)}return l[7]}function Nm(a,l,c,d,f,_,b){for(;null!=c;){const w=d[c.index],S=c.type;if(b&&0===l&&(w&&qt(fn(w),d),c.flags|=4),64!=(64&c.flags))if(8&S)Nm(a,l,c.child,d,f,_,!1),wd(l,a,f,w,_);else if(32&S){const T=lb(c,d);let R;for(;R=T();)wd(l,a,f,R,_);wd(l,a,f,w,_)}else 16&S?cC(a,l,d,c,f,_):wd(l,a,f,w,_);c=b?c.projectionNext:c.next}}function Zf(a,l,c,d,f,_){Nm(c,d,a.firstChild,l,f,_,!1)}function cC(a,l,c,d,f,_){const b=c[16],S=b[6].projection[d.projection];if(Array.isArray(S))for(let T=0;T<S.length;T++)wd(l,a,f,S[T],_);else Nm(a,l,S,b[3],f,_,!0)}function dC(a,l,c){hn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function vb(a,l,c){hn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function hC(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=l.length;if(f+_===d||a.charCodeAt(f+_)<=32)return f}c=f+1}}const bb="ng-template";function Eb(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==hC(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function Pm(a){return 4===a.type&&a.value!==bb}function da(a,l,c){return l===(4!==a.type||c?a.value:bb)}function Kf(a,l,c){let d=4;const f=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(gf(a[l]))return l;return a.length}(f);let b=!1;for(let w=0;w<l.length;w++){const S=l[w];if("number"!=typeof S){if(!b)if(4&d){if(d=2|1&d,""!==S&&!da(a,S,c)||""===S&&1===l.length){if(cs(d))return!1;b=!0}}else{const T=8&d?S:l[++w];if(8&d&&null!==a.attrs){if(!Eb(a.attrs,T,c)){if(cs(d))return!1;b=!0}continue}const k=fC(8&d?"class":S,f,Pm(a),c);if(-1===k){if(cs(d))return!1;b=!0;continue}if(""!==T){let F;F=k>_?"":f[k+1].toLowerCase();const U=8&d?F:null;if(U&&-1!==hC(U,T,0)||2&d&&T!==F){if(cs(d))return!1;b=!0}}}}else{if(!b&&!cs(d)&&!cs(S))return!1;if(b&&cs(S))continue;b=!1,d=S|1&d}}return cs(d)||b}function cs(a){return 0==(1&a)}function fC(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let _=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let w=l[++f];for(;"string"==typeof w;)w=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function pC(a,l,c=!1){for(let d=0;d<l.length;d++)if(Kf(a,l[d],c))return!0;return!1}function Fm(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function wb(a,l){return a?":not("+l.trim()+")":l}function Cb(a){let l=a[0],c=1,d=2,f="",_=!1;for(;c<a.length;){let b=a[c];if("string"==typeof b)if(2&d){const w=a[++c];f+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!cs(b)&&(l+=wb(_,f),f=""),d=b,_=_||!cs(d);c++}return""!==f&&(l+=wb(_,f)),l}const _t={};function _C(a){Yf(Nt(),Me(),er()+a,Ko())}function Yf(a,l,c,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Yo(l,_,c)}else{const _=a.preOrderHooks;null!==_&&Gc(l,_,0,c)}Hr(c)}function Qf(a,l){return a<<17|l<<2}function Ls(a){return a>>17&32767}function Sd(a){return 2|a}function Hi(a){return(131068&a)>>2}function Jf(a,l){return-131069&a|l<<2}function Lm(a){return 1|a}function Rb(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],_=c[d+1];if(-1!==_){const b=a.data[_];Yg(f),b.contentQueries(2,l[_],_)}}}function dl(a,l,c,d,f,_,b,w,S,T){const R=l.blueprint.slice();return R[0]=f,R[2]=140|d,Lc(R),R[3]=R[15]=a,R[8]=c,R[10]=b||a&&a[10],R[11]=w||a&&a[11],R[12]=S||a&&a[12]||null,R[9]=T||a&&a[9]||null,R[6]=_,R[16]=2==l.type?a[16]:R,R}function Su(a,l,c,d,f){let _=a.data[l];if(null===_)_=function(a,l,c,d,f){const _=Bc(),b=cf(),S=a.data[l]=function(a,l,c,d,f,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=S),null!==_&&(b?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S)),S}(a,l,c,d,f),ht.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=f;const b=function(){const a=ht.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return wi(_,!0),_}function Rd(a,l,c,d){if(0===c)return-1;const f=l.length;for(let _=0;_<c;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function np(a,l,c){su(l);try{const d=a.viewQuery;null!==d&&ip(1,d,c);const f=a.template;null!==f&&Gm(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Rb(a,l),a.staticViewQueries&&ip(2,a.viewQuery,c);const _=a.components;null!==_&&function(a,l){for(let c=0;c<l.length;c++)FA(a,l[c])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Jg()}}function Od(a,l,c,d){const f=l[2];if(256==(256&f))return;su(l);const _=Ko();try{Lc(l),function(a){ht.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&Gm(a,l,c,2,d);const b=3==(3&f);if(!_)if(b){const T=a.preOrderCheckHooks;null!==T&&Yo(l,T,null)}else{const T=a.preOrderHooks;null!==T&&Gc(l,T,0,null),Xg(l,0)}if(function(a){for(let l=Am(a);null!==l;l=zf(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],_=f[3];0==(1024&f[2])&&af(_,1),f[2]|=1024}}}(l),function(a){for(let l=Am(a);null!==l;l=zf(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];of(d)&&Od(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&Rb(a,l),!_)if(b){const T=a.contentCheckHooks;null!==T&&Yo(l,T)}else{const T=a.contentHooks;null!==T&&Gc(l,T,1),Xg(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Hr(~f);else{const _=f,b=c[++d],w=c[++d];iu(b,_),w(2,l[_])}}}finally{Hr(-1)}}(a,l);const w=a.components;null!==w&&function(a,l){for(let c=0;c<l.length;c++)PA(a,l[c])}(l,w);const S=a.viewQuery;if(null!==S&&ip(2,S,d),!_)if(b){const T=a.viewCheckHooks;null!==T&&Yo(l,T)}else{const T=a.viewHooks;null!==T&&Gc(l,T,2),Xg(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,af(l[3],-1))}finally{Jg()}}function CA(a,l,c,d){const f=l[10],_=!Ko(),b=tu(l);try{_&&!b&&f.begin&&f.begin(),b&&np(a,l,d),Od(a,l,c,d)}finally{_&&!b&&f.end&&f.end()}}function Gm(a,l,c,d,f){const _=er(),b=2&d;try{Hr(-1),b&&l.length>20&&Yf(a,l,20,Ko()),c(d,f)}finally{Hr(_)}}function zm(a,l,c){!lf()||(function(a,l,c,d){const f=c.directiveStart,_=c.directiveEnd;a.firstCreatePass||dt(c,l),qt(d,l);const b=c.initialInputs;for(let w=f;w<_;w++){const S=a.data[w],T=Fi(S);T&&NA(l,c,S);const R=Di(l,a,w,c);qt(R,l),null!==b&&Fb(0,w-f,R,S,0,b),T&&(br(c.index,l)[8]=R)}}(a,l,c,ni(c,l)),128==(128&c.flags)&&function(a,l,c){const d=c.directiveStart,f=c.directiveEnd,b=c.index,w=ht.lFrame.currentDirectiveIndex;try{Hr(b);for(let S=d;S<f;S++){const T=a.data[S],R=l[S];mo(S),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&OA(T,R)}}finally{Hr(-1),mo(w)}}(a,l,c))}function Nd(a,l,c=ni){const d=l.localNames;if(null!==d){let f=l.index+1;for(let _=0;_<d.length;_+=2){const b=d[_+1],w=-1===b?c(l,a):a[b];a[f++]=w}}}function SC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=qm(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function qm(a,l,c,d,f,_,b,w,S,T){const R=20+d,k=R+f,F=function(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:_t);return c}(R,k),U="function"==typeof T?T():T;return F[1]={type:a,blueprint:F,template:c,queries:null,viewQuery:w,declTNode:l,data:F.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:U,incompleteFirstPass:!1}}function MC(a,l,c,d){const f=HC(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&$C(a).push(d,f.length-1))}function xC(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Gi(a,l,c,d,f,_,b,w){const S=ni(l,c);let R,T=l.inputs;!w&&null!=T&&(R=T[d])?(jb(a,c,R,d,f),Dc(l)&&function(a,l){const c=br(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=b?b(f,l.value||"",d):f,hn(_)?_.setProperty(S,d,f):qc(d)||(S.setProperty?S.setProperty(d,f):S[d]=f))}function Nb(a,l,c,d){let f=!1;if(lf()){const _=function(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];pC(c,b.selectors,!1)&&(f||(f=[]),Yc(dt(c,l),a,b.type),Fi(b)?(kb(a,c),f.unshift(b)):f.push(b))}return f}(a,l,c),b=null===d?null:{"":-1};if(null!==_){f=!0,LC(c,a.data.length,_.length);for(let R=0;R<_.length;R++){const k=_[R];k.providersResolver&&k.providersResolver(k)}let w=!1,S=!1,T=Rd(a,l,_.length,null);for(let R=0;R<_.length;R++){const k=_[R];c.mergedAttrs=mf(c.mergedAttrs,k.hostAttrs),VC(a,c,l,T,k),FC(T,k,b),null!==k.contentQueries&&(c.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=128);const F=k.type.prototype;!w&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!S&&(F.ngOnChanges||F.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),S=!0),T++}!function(a,l){const d=l.directiveEnd,f=a.data,_=l.attrs,b=[];let w=null,S=null;for(let T=l.directiveStart;T<d;T++){const R=f[T],k=R.inputs,F=null===_||Pm(l)?null:kA(k,_);b.push(F),w=xC(k,T,w),S=xC(R.outputs,T,S)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=w,l.outputs=S}(a,c)}b&&function(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const _=c[l[f+1]];if(null==_)throw new it("301",`Export of name '${l[f+1]}' not found!`);d.push(l[f],_)}}}(c,d,b)}return c.mergedAttrs=mf(c.mergedAttrs,c.attrs),f}function OC(a,l,c,d,f,_){const b=_.hostBindings;if(b){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const S=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=S&&w.push(S),w.push(d,f,b)}}function OA(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function kb(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function FC(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Fi(l)&&(c[""]=a)}}function LC(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function VC(a,l,c,d,f){a.data[d]=f;const _=f.factory||(f.factory=lo(f.type)),b=new rs(_,Fi(f),null);a.blueprint[d]=b,c[d]=b,OC(a,l,0,d,Rd(a,c,f.hostVars,_t),f)}function NA(a,l,c){const d=ni(l,a),f=SC(c),_=a[10],b=Km(a,dl(a,f,null,c.onPush?64:16,d,l,_,_.createRenderer(d,c),null,null));a[l.index]=b}function Mo(a,l,c,d,f,_){const b=ni(a,l);!function(a,l,c,d,f,_,b){if(null==_)hn(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const w=null==b?Be(_):b(_,d||"",f);hn(a)?a.setAttribute(l,f,w,c):c?l.setAttributeNS(c,f,w):l.setAttribute(f,w)}}(l[11],b,_,a.value,c,d,f)}function Fb(a,l,c,d,f,_){const b=_[l];if(null!==b){const w=d.setInput;for(let S=0;S<b.length;){const T=b[S++],R=b[S++],k=b[S++];null!==w?d.setInput(c,k,T,R):c[R]=k}}}function kA(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function BC(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function PA(a,l){const c=br(l,a);if(of(c)){const d=c[1];80&c[2]?Od(d,c,d.template,c[8]):c[5]>0&&hl(c)}}function hl(a){for(let d=Am(a);null!==d;d=zf(d))for(let f=10;f<d.length;f++){const _=d[f];if(1024&_[2]){const b=_[1];Od(b,_,b.template,_[8])}else _[5]>0&&hl(_)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=br(c[d],a);of(f)&&f[5]>0&&hl(f)}}function FA(a,l){const c=br(l,a),d=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),np(d,c,c[8])}function Km(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Vb(a){for(;a;){a[2]|=64;const l=Mt(a);if(Xh(a)&&!l)return a;a=l}return null}function Ub(a,l,c){const d=l[10];d.begin&&d.begin();try{Od(a,l,a.template,c)}catch(f){throw GC(l,f),f}finally{d.end&&d.end()}}function tr(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=ji(c),f=d[1];CA(f,d,f.template,c)}}(a[8])}function ip(a,l,c){Yg(0),l(a,c)}const kd=(()=>Promise.resolve(null))();function HC(a){return a[7]||(a[7]=[])}function $C(a){return a.cleanup||(a.cleanup=[])}function Jm(a,l,c){return(null===a||Fi(a))&&(c=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function GC(a,l){const c=a[9],d=c?c.get(Ve,null):null;d&&d.handleError(l)}function jb(a,l,c,d,f){for(let _=0;_<c.length;){const b=c[_++],w=c[_++],S=l[b],T=a.data[b];null!==T.setInput?T.setInput(S,f,d,w):S[w]=f}}function fa(a,l,c){const d=Pc(l,a);!function(a,l,c){hn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function sp(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const w=l[b];"number"==typeof w?_=w:1==_?f=K(f,w):2==_&&(d=K(d,w+": "+l[++b]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const ds=new In("INJECTOR",-1);class $b{get(l,c=Bi){if(c===Bi){const d=new Error(`NullInjectorError: No provider for ${j(l)}!`);throw d.name="NullInjectorError",d}return c}}const op=new In("Set Injector scope."),ap={},BA={};let Xm;function qC(){return void 0===Xm&&(Xm=new $b),Xm}function WC(a,l=null,c=null,d){return new ZC(a,c,l||qC(),d)}class ZC{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&ii(c,w=>this.processProvider(w,l,c)),ii([l],w=>this.processInjectorType(w,[],_)),this.records.set(ds,Pd(void 0,this));const b=this.records.get(op);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof l?null:j(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Bi,d=Ne.Default){this.assertNotDestroyed();const f=Rs(this),_=cn(void 0);try{if(!(d&Ne.SkipSelf)){let w=this.records.get(l);if(void 0===w){const S=("function"==typeof(a=l)||"object"==typeof a&&a instanceof In)&&hr(l);w=S&&this.injectableDefInScope(S)?Pd(Gb(l),ap):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&Ne.Self?qC():this.parent).get(l,c=d&Ne.Optional&&c===Bi?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[oi]=b[oi]||[]).unshift(j(l)),f)throw b;return ld(b,l,"R3InjectorError",this.source)}throw b}finally{cn(_),Rs(f)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(j(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=ae(l)))return!1;let f=Es(l);const _=null==f&&l.ngModule||void 0,b=void 0===_?l:_,w=-1!==d.indexOf(b);if(void 0!==_&&(f=Es(_)),null==f)return!1;if(null!=f.imports&&!w){let R;d.push(b);try{ii(f.imports,k=>{this.processInjectorType(k,c,d)&&(void 0===R&&(R=[]),R.push(k))})}finally{}if(void 0!==R)for(let k=0;k<R.length;k++){const{ngModule:F,providers:U}=R[k];ii(U,Y=>this.processProvider(Y,F,U||Se))}}this.injectorDefTypes.add(b);const S=lo(b)||(()=>new b);this.records.set(b,Pd(S,ap));const T=f.providers;if(null!=T&&!w){const R=l;ii(T,k=>this.processProvider(k,R,T))}return void 0!==_&&void 0!==l.providers}processProvider(l,c,d){let f=lp(l=ae(l))?l:ae(l&&l.provide);const _=KC(a=l)?Pd(void 0,a.useValue):Pd(e_(a),ap);var a;if(lp(l)||!0!==l.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Pd(void 0,ap,!0),b.factory=()=>Co(b.multi),this.records.set(f,b)),f=l,b.multi.push(l)}this.records.set(f,_)}hydrate(l,c){return c.value===ap&&(c.value=BA,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ae(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Gb(a){const l=hr(a),c=null!==l?l.factory:lo(a);if(null!==c)return c;if(a instanceof In)throw new Error(`Token ${j(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const d=si(l,"?");throw new Error(`Can't resolve all parameters for ${j(a)}: (${d.join(", ")}).`)}const c=function(a){const l=a&&(a[Gn]||a[_i]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function e_(a,l,c){let d;if(lp(a)){const f=ae(a);return lo(f)||Gb(f)}if(KC(a))d=()=>ae(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Co(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>vn(ae(a.useExisting));else{const f=ae(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return lo(f)||Gb(f);d=()=>new f(...Co(a.deps))}return d}function Pd(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function KC(a){return null!==a&&"object"==typeof a&&pu in a}function lp(a){return"function"==typeof a}const JC=function(a,l,c){return function(a,l=null,c=null,d){const f=WC(a,l,c,d);return f._resolveInjectorDefTypes(),f}({name:c},l,a,c)};class Wt{static create(l,c){return Array.isArray(l)?JC(l,c,""):JC(l.providers,l.parent,l.name||"")}}function JA(a,l){$c(ji(a)[1],Vn())}function nr(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(Fi(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");f=l.\u0275dir}if(f){if(c){d.push(f);const b=a;b.inputs=Qb(a.inputs),b.declaredInputs=Qb(a.declaredInputs),b.outputs=Qb(a.outputs);const w=f.hostBindings;w&&cD(a,w);const S=f.viewQuery,T=f.contentQueries;if(S&&XA(a,S),T&&uD(a,T),q(a.inputs,f.inputs),q(a.declaredInputs,f.declaredInputs),q(a.outputs,f.outputs),Fi(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const w=_[b];w&&w.ngInherit&&w(a),w===nr&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=mf(f.hostAttrs,c=mf(c,f.hostAttrs))}}(d)}function Qb(a){return a===X?{}:a===Se?[]:a}function XA(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function uD(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,_)=>{l(d,f,_),c(d,f,_)}:l}function cD(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}Wt.THROW_IF_NOT_FOUND=Bi,Wt.NULL=new $b,Wt.\u0275prov=_n({token:Wt,providedIn:"any",factory:()=>vn(ds)}),Wt.__NG_ELEMENT_ID__=-1;let Au=null;function Mu(){if(!Au){const a=B.Symbol;if(a&&a.iterator)Au=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Au=d)}}}return Au}function rr(a){return!!hp(a)&&(Array.isArray(a)||!(a instanceof Map)&&Mu()in a)}function hp(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Tr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function pl(a,l,c,d){const f=Me();return Tr(f,go(),l)&&(Nt(),Mo(pn(),f,a,l,c,d)),pl}function gl(a,l,c,d){return Tr(a,go(),c)?l+Be(c)+d:_t}function vD(a,l,c,d,f,_,b,w){const S=Me(),T=Nt(),R=a+20,k=T.firstCreatePass?function(a,l,c,d,f,_,b,w,S){const T=l.consts,R=Su(l,a,4,b||null,ho(T,w));Nb(l,c,R,ho(T,S)),$c(l,R);const k=R.tViews=qm(2,R,d,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,R),k.queries=l.queries.embeddedTView(R)),R}(R,T,S,l,c,d,f,_,b):T.data[R];wi(k,!1);const F=S[11].createComment("");Du(T,S,F,k),qt(F,S),Km(S,S[R]=BC(F,S,F,k)),Va(k)&&zm(T,S,k),null!=b&&Nd(S,k,w)}function Gd(a,l=Ne.Default){const c=Me();return null===c?vn(a,l):bf(Vn(),c,ae(a),l)}function m_(a,l,c){const d=Me();return Tr(d,go(),l)&&Gi(Nt(),pn(),d,a,l,d[11],c,!1),m_}function ku(a,l,c,d,f){const b=f?"class":"style";jb(a,c,l.inputs[b],b,d)}function y_(a,l,c,d){const f=Me(),_=Nt(),b=20+a,w=f[11],S=f[b]=Mm(w,l,ht.lFrame.currentNamespace),T=_.firstCreatePass?function(a,l,c,d,f,_,b){const w=l.consts,T=Su(l,a,2,f,ho(w,_));return Nb(l,c,T,ho(w,b)),null!==T.attrs&&sp(T,T.attrs,!1),null!==T.mergedAttrs&&sp(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(b,_,f,0,l,c,d):_.data[b];wi(T,!0);const R=T.mergedAttrs;null!==R&&vo(w,S,R);const k=T.classes;null!==k&&vb(w,S,k);const F=T.styles;null!==F&&dC(w,S,F),64!=(64&T.flags)&&Du(_,f,S,T),0===ht.lFrame.elementDepthCount&&qt(S,f),ht.lFrame.elementDepthCount++,Va(T)&&(zm(_,f,T),function(a,l,c){if(Ei(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,c[_],_)}}}(_,T,f)),null!==d&&Nd(f,T)}function yp(){let a=Vn();cf()?fo():(a=a.parent,wi(a,!1));const l=a;ht.lFrame.elementDepthCount--;const c=Nt();c.firstCreatePass&&($c(c,a),Ei(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&ku(c,l,Me(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&ku(c,l,Me(),l.stylesWithoutHost,!1)}function cE(a,l,c,d){y_(a,l,c,d),yp()}function bp(){return Me()}function Pu(a){return!!a&&"function"==typeof a.then}function hE(a){return!!a&&"function"==typeof a.subscribe}const fE=hE;function Ep(a,l,c,d){const f=Me(),_=Nt(),b=Vn();return gE(_,f,f[11],b,a,l,!!c,d),Ep}function zd(a,l){const c=Vn(),d=Me(),f=Nt();return gE(f,d,Jm(Uc(f.data),c,d),c,a,l,!1),zd}function gE(a,l,c,d,f,_,b,w){const S=Va(d),R=a.firstCreatePass&&$C(a),k=l[8],F=HC(l);let U=!0;if(3&d.type||w){const ne=ni(d,l),ke=w?w(ne):ne,De=F.length,Je=w?ut=>w(fn(ut[d.index])):d.index;if(hn(c)){let ut=null;if(!w&&S&&(ut=function(a,l,c,d){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===c&&f[_+1]===d){const w=l[7],S=f[_+2];return w.length>S?w[S]:null}"string"==typeof b&&(_+=2)}return null}(a,l,f,d.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=_,ut.__ngLastListenerFn__=_,U=!1;else{_=E_(d,l,k,_,!1);const Ct=c.listen(ke,f,_);F.push(_,Ct),R&&R.push(f,Je,De,De+1)}}else _=E_(d,l,k,_,!0),ke.addEventListener(f,_,b),F.push(_),R&&R.push(f,Je,De,b)}else _=E_(d,l,k,_,!1);const Y=d.outputs;let de;if(U&&null!==Y&&(de=Y[f])){const ne=de.length;if(ne)for(let ke=0;ke<ne;ke+=2){const dr=l[de[ke]][de[ke+1]].subscribe(_),vs=F.length;F.push(_,dr),R&&R.push(f,d.index,vs,-(vs+1))}}}function mE(a,l,c,d){try{return!1!==c(d)}catch(f){return GC(a,f),!1}}function E_(a,l,c,d,f){return function _(b){if(b===Function)return d;const w=2&a.flags?br(a.index,l):l;0==(32&l[2])&&Vb(w);let S=mE(l,0,d,b),T=_.__ngNextListenerFn__;for(;T;)S=mE(l,0,T,b)&&S,T=T.__ngNextListenerFn__;return f&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function OD(a=1){return function(a){return(ht.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,ht.lFrame.contextLView))[8]}(a)}function wp(a,l){let c=null;const d=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===d?pC(a,_,!0):Fm(d,_))return f}else c=f}return c}function _E(a){const l=Me()[16][6];if(!l.projection){const d=l.projection=si(a?a.length:1,null),f=d.slice();let _=l.child;for(;null!==_;){const b=a?wp(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:d[b]=_,f[b]=_),_=_.next}}}function Cp(a,l=0,c){const d=Me(),f=Nt(),_=Su(f,20+a,16,null,c||null);null===_.projection&&(_.projection=l),fo(),64!=(64&_.flags)&&function(a,l,c){cC(l[11],0,l,c,qf(a,c,l),mb(c.parent||l[6],c,l))}(f,d,_)}function Fu(a,l,c){return _a(a,"",l,"",c),Fu}function _a(a,l,c,d,f){const _=Me(),b=gl(_,l,c,d);return b!==_t&&Gi(Nt(),pn(),_,a,b,_[11],f,!1),_a}function Dp(a,l,c,d,f){const _=a[c+1],b=null===l;let w=d?Ls(_):Hi(_),S=!1;for(;0!==w&&(!1===S||b);){const R=a[w+1];S_(a[w],l)&&(S=!0,a[w+1]=d?Lm(R):Sd(R)),w=d?Ls(R):Hi(R)}S&&(a[c+1]=d?Sd(_):Lm(_))}function S_(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&As(a,l)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wn(a){return a.substring(Wn.key,Wn.keyEnd)}function PD(a,l){const c=Wn.textEnd;return c===l?-1:(l=Wn.keyEnd=function(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,Wn.key=l,c),Vu(a,l,c))}function Vu(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function A_(a,l,c){return fs(a,l,c,!1),A_}function M_(a,l){return fs(a,l,null,!0),M_}function xo(a,l){for(let c=function(a){return function(a){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=a.length}(a),PD(a,Vu(a,0,Wn.textEnd))}(l);c>=0;c=PD(l,c))wr(a,wn(l),!0)}function fs(a,l,c,d){const f=Me(),_=Nt(),b=Is(2);_.firstUpdatePass&&bE(_,a,b,d),l!==_t&&Tr(f,b,l)&&Yd(_,_.data[er()],f,f[11],a,f[b+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=j(Si(a)))),a}(l,c),d,b)}function vE(a,l){return l>=a.expandoStartIndex}function bE(a,l,c,d){const f=a.data;if(null===f[c+1]){const _=f[er()],b=vE(a,c);Jd(_,d)&&null===l&&!b&&(l=!1),l=function(a,l,c,d){const f=Uc(a);let _=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Tp(c=Sp(null,a,l,c,d),l.attrs,d),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(c=Sp(f,a,l,c,d),null===_){let S=function(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Hi(d))return a[Ls(d)]}(a,l,d);void 0!==S&&Array.isArray(S)&&(S=Sp(null,a,l,S[1],d),S=Tp(S,l.attrs,d),function(a,l,c,d){a[Ls(c?l.classBindings:l.styleBindings)]=d}(a,l,d,S))}else _=function(a,l,c){let d;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)d=Tp(d,a[_].hostAttrs,c);return Tp(d,l.attrs,c)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),c}(f,_,l,d),function(a,l,c,d,f,_){let b=_?l.classBindings:l.styleBindings,w=Ls(b),S=Hi(b);a[d]=c;let R,T=!1;if(Array.isArray(c)){const k=c;R=k[1],(null===R||As(k,R)>0)&&(T=!0)}else R=c;if(f)if(0!==S){const F=Ls(a[w+1]);a[d+1]=Qf(F,w),0!==F&&(a[F+1]=Jf(a[F+1],d)),a[w+1]=function(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=Qf(w,0),0!==w&&(a[w+1]=Jf(a[w+1],d)),w=d;else a[d+1]=Qf(S,0),0===w?w=d:a[S+1]=Jf(a[S+1],d),S=d;T&&(a[d+1]=Sd(a[d+1])),Dp(a,R,d,!0),Dp(a,R,d,!1),function(a,l,c,d,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&As(_,l)>=0&&(c[d+1]=Lm(c[d+1]))}(l,R,a,d,_),b=Qf(w,S),_?l.classBindings=b:l.styleBindings=b}(f,_,l,c,b,d)}}function Sp(a,l,c,d,f){let _=null;const b=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<b&&(_=l[w],d=Tp(d,_.hostAttrs,f),_!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function Tp(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?f=b:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),wr(a,b,!!c||l[++_]))}return void 0===a?null:a}function Yd(a,l,c,d,f,_,b,w){if(!(3&l.type))return;const S=a.data,T=S[w+1];Qd(function(a){return 1==(1&a)}(T)?Ap(S,l,c,f,Hi(T),b):void 0)||(Qd(_)||function(a){return 2==(2&a)}(T)&&(_=Ap(S,null,c,f,w,b)),function(a,l,c,d,f){const _=hn(a);if(l)f?_?a.addClass(c,d):c.classList.add(d):_?a.removeClass(c,d):c.classList.remove(d);else{let b=-1===d.indexOf("-")?void 0:To.DashCase;if(null==f)_?a.removeStyle(c,d,b):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),b|=To.Important),_?a.setStyle(c,d,f,b):c.style.setProperty(d,f,w?"important":"")}}}(d,b,Pc(er(),c),f,_))}function Ap(a,l,c,d,f,_){const b=null===l;let w;for(;f>0;){const S=a[f],T=Array.isArray(S),R=T?S[1]:S,k=null===R;let F=c[f+1];F===_t&&(F=k?Se:void 0);let U=k?Cf(F,d):R===d?F:void 0;if(T&&!Qd(U)&&(U=Cf(S,d)),Qd(U)&&(w=U,b))return w;const Y=a[f+1];f=b?Ls(Y):Hi(Y)}if(null!==l){let S=_?l.residualClasses:l.residualStyles;null!=S&&(w=Cf(S,d))}return w}function Qd(a){return void 0!==a}function Jd(a,l){return 0!=(a.flags&(l?16:32))}function Xd(a,l=""){const c=Me(),d=Nt(),f=a+20,_=d.firstCreatePass?Su(d,f,1,l,null):d.data[f],b=c[f]=function(a,l){return hn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);Du(d,c,b,_),wi(_,!1)}function CE(a){return kn("",a,""),CE}function kn(a,l,c){const d=Me(),f=gl(d,a,l,c);return f!==_t&&fa(d,er(),f),kn}function Mp(a,l,c){!function(a,l,c,d){const f=Nt(),_=Is(2);f.firstUpdatePass&&bE(f,null,_,d);const b=Me();if(c!==_t&&Tr(b,_,c)){const w=f.data[er()];if(Jd(w,d)&&!vE(f,_)){let S=d?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(c=K(S,c||"")),ku(f,w,b,c,d)}else!function(a,l,c,d,f,_,b,w){f===_t&&(f=Se);let S=0,T=0,R=0<f.length?f[0]:null,k=0<_.length?_[0]:null;for(;null!==R||null!==k;){const F=S<f.length?f[S+1]:void 0,U=T<_.length?_[T+1]:void 0;let de,Y=null;R===k?(S+=2,T+=2,F!==U&&(Y=k,de=U)):null===k||null!==R&&R<k?(S+=2,Y=R):(T+=2,Y=k,de=U),null!==Y&&Yd(a,l,c,d,Y,de,b,w),R=S<f.length?f[S]:null,k=T<_.length?_[T]:null}}(f,w,b,b[11],b[_+1],b[_+1]=function(a,l,c){if(null==c||""===c)return Se;const d=[],f=Si(c);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(d,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(d,_,f[_]);else"string"==typeof f&&l(d,f);return d}(a,l,c),d,_)}}(wr,xo,gl(Me(),a,l,c),!0)}function P_(a,l,c){const d=Me();return Tr(d,go(),l)&&Gi(Nt(),pn(),d,a,l,d[11],c,!0),P_}function F_(a,l,c){const d=Me();if(Tr(d,go(),l)){const _=Nt(),b=pn();Gi(_,b,d,a,l,Jm(Uc(_.data),b,d),c,!0)}return F_}const Ro=void 0;var XD=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Uu={};function L_(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=FE(l);if(c)return c;const d=l.split("-")[0];if(c=FE(d),c)return c;if("en"===d)return XD;throw new Error(`Missing locale data for the locale "${a}".`)}function kp(a){return L_(a)[ot.PluralCase]}function FE(a){return a in Uu||(Uu[a]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[a]),Uu[a]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const LE="en-US";let rI=LE;function Le(a){Rt(a,"Expected localeId to be defined"),"string"==typeof a&&(rI=a.toLowerCase().replace(/_/g,"-"))}function zE(a,l,c,d,f){if(a=ae(a),Array.isArray(a))for(let _=0;_<a.length;_++)zE(a[_],l,c,d,f);else{const _=Nt(),b=Me();let w=lp(a)?a:ae(a.provide),S=e_(a);const T=Vn(),R=1048575&T.providerIndexes,k=T.directiveStart,F=T.providerIndexes>>20;if(lp(a)||!a.multi){const U=new rs(S,f,Gd),Y=$s(w,l,f?R:R+F,k);-1===Y?(Yc(dt(T,b),_,w),K_(_,a,l.length),l.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(U),b.push(U)):(c[Y]=U,b[Y]=U)}else{const U=$s(w,l,R+F,k),Y=$s(w,l,R,R+F),de=U>=0&&c[U],ne=Y>=0&&c[Y];if(f&&!ne||!f&&!de){Yc(dt(T,b),_,w);const ke=function(a,l,c,d,f){const _=new rs(a,c,Gd);return _.multi=[],_.index=l,_.componentProviders=0,qE(_,f,d&&!c),_}(f?ah:mI,c.length,f,d,S);!f&&ne&&(c[Y].providerFactory=ke),K_(_,a,l.length,0),l.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(ke),b.push(ke)}else K_(_,a,U>-1?U:Y,qE(c[f?Y:U],S,!f&&d));!f&&d&&ne&&c[Y].componentProviders++}}}function K_(a,l,c,d){const f=lp(l);if(f||function(a){return!!a.useClass}(l)){const b=(l.useClass||l).prototype.ngOnDestroy;if(b){const w=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const S=w.indexOf(c);-1===S?w.push(c,[d,b]):w[S+1].push(d,b)}else w.push(c,b)}}}function qE(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function $s(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function mI(a,l,c,d){return lh(this.multi,[])}function ah(a,l,c,d){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=Di(c,c[1],this.providerFactory.index,d);_=w.slice(0,b),lh(f,_);for(let S=b;S<w.length;S++)_.push(w[S])}else _=[],lh(f,_);return _}function lh(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Q_(a,l=[]){return c=>{c.providersResolver=(d,f)=>function(a,l,c){const d=Nt();if(d.firstCreatePass){const f=Fi(a);zE(c,d.data,d.blueprint,f,!0),zE(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class J_{}const Zi="ngComponent";class Hp{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${j(a)}. Did you add it to @NgModule.entryComponents?`);return l[Zi]=a,l}(l)}}class wl{}function $p(...a){}function Zu(a,l){return new ko(ni(a,l))}wl.NULL=new Hp;const X_=function(){return Zu(Vn(),Me())};let ko=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=X_,a})();function vI(a){return a instanceof ko?a.nativeElement:a}class Ea{}let Ku=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>EI(),a})();const EI=function(){const a=Me(),c=br(Vn().index,a);return function(a){return a[11]}(Pi(c)?c:a)};let ey=(()=>{class a{}return a.\u0275prov=_n({token:a,providedIn:"root",factory:()=>null}),a})();class dh{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const ZE=new dh("12.2.3");class CI{constructor(){}supports(l){return rr(l)}create(l){return new ty(l)}}const Qn=(a,l)=>l;class ty{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Qn}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,_=null;for(;c||d;){const b=!d||c&&c.currentIndex<QE(d,f,_)?c:d,w=QE(b,f,_),S=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{_||(_=[]);const T=w-f,R=S-f;if(T!=R){for(let F=0;F<T;F++){const U=F<_.length?_[F]:_[F]=0,Y=U+F;R<=Y&&Y<T&&(_[F]=U+1)}_[b.previousIndex]=R-T}}w!==S&&l(b,w,S)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!rr(l))throw new Error(`Error trying to diff '${j(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,b,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)_=l[w],b=this._trackByFn(w,_),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,_,b,w)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,b,w),d=!0),c=c._next}else f=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Mu()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{b=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,w,b,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,b,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,f)):l=this._addAfter(new k1(c,d),_,f),l}_verifyReinsertion(l,c,d,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new DI),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DI),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class k1{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YE{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class DI{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new YE,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QE(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class JE{constructor(){}supports(l){return l instanceof Map||hp(l)}create(){return new Gp}}class Gp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||hp(l)))throw new Error(`Error trying to diff '${j(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const d=new Cl(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class Cl{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XE(){return new zp([new CI])}let zp=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||XE()),deps:[[a,new ks,new Ns]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=_n({token:a,providedIn:"root",factory:XE}),a})();function hh(){return new fh([new JE])}let fh=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||hh()),deps:[[a,new ks,new Ns]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=_n({token:a,providedIn:"root",factory:hh}),a})();function ny(a,l,c,d,f=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&d.push(fn(_)),Rn(_))for(let w=10;w<_.length;w++){const S=_[w],T=S[1].firstChild;null!==T&&ny(S[1],S,T,d)}const b=c.type;if(8&b)ny(a,l,c.child,d);else if(32&b){const w=lb(c,l);let S;for(;S=w();)d.push(S)}else if(16&b){const w=Om(l,c);if(Array.isArray(w))d.push(...w);else{const S=Mt(l[16]);ny(S[1],S,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class An{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return ny(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Rn(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(hb(l,d),Ts(c,d))}this._attachedToViewContainer=!1}fb(this._lView[1],this._lView)}onDestroy(l){MC(this._lView[1],this._lView,null,l)}markForCheck(){Vb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ub(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){po(!0);try{Ub(a,l,c)}finally{po(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Zf(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class jt extends An{constructor(l){super(l),this._view=l}detectChanges(){tr(this._view)}checkNoChanges(){!function(a){po(!0);try{tr(a)}finally{po(!1)}}(this._view)}get context(){return null}}const or=function(a){return function(a,l,c){if(Dc(a)&&!c){const d=br(a.index,l);return new An(d,d)}return 47&a.type?new An(l[16],l):null}(Vn(),Me(),16==(16&a))};let ry=(()=>{class a{}return a.__NG_ELEMENT_ID__=or,a})();const TI=[new JE],ps=new zp([new CI]),L1=new fh(TI),AI=function(){return Dl(Vn(),Me())};let qp=(()=>{class a{}return a.__NG_ELEMENT_ID__=AI,a})();const en=qp,V1=class extends en{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=dl(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),np(c,d,l),new An(d)}};function Dl(a,l){return 4&a.type?new V1(l,a,Zu(a,l)):null}class Gs{}class Wp{}const xI=function(){return ph(Vn(),Me())};let sy=(()=>{class a{}return a.__NG_ELEMENT_ID__=xI,a})();const OI=sy,NI=class extends OI{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Zu(this._hostTNode,this._hostLView)}get injector(){return new Ga(this._hostTNode,this._hostLView)}get parentInjector(){const l=Jo(this._hostTNode,this._hostLView);if(_f(l)){const c=ja(l,this._hostLView),d=au(l);return new Ga(c[1].data[d+8],c)}return new Ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=kI(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,_){const b=d||this.parentInjector;if(!_&&null==l.ngModule&&b){const S=b.get(Gs,null);S&&(_=S)}const w=l.create(b,f,void 0,_);return this.insert(w.hostView,c),w}insert(l,c){const d=l._lView,f=d[1];if(Rn(d[3])){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const k=d[3],F=new NI(k,k[6],k[3]);F.detach(F.indexOf(l))}}const _=this._adjustIndex(c),b=this._lContainer;!function(a,l,c,d){const f=10+d,_=c.length;d>0&&(c[f-1][4]=l),d<_-10?(l[4]=c[f],Er(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const b=l[17];null!==b&&c!==b&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(b,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(f,d,b,_);const w=Dd(_,b),S=d[11],T=xm(S,b[7]);return null!==T&&function(a,l,c,d,f,_){d[0]=f,d[6]=l,Zf(a,d,c,1,f,_)}(f,b[6],S,d,T,w),l.attachToViewContainerRef(),Er(tw(b),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=kI(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=hb(this._lContainer,c);d&&(Ts(tw(this._lContainer),c),fb(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=hb(this._lContainer,c);return d&&null!=Ts(tw(this._lContainer),c)?new An(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function kI(a){return a[8]}function tw(a){return a[8]||(a[8]=[])}function ph(a,l){let c;const d=l[a.index];if(Rn(d))c=d;else{let f;if(8&a.type)f=fn(d);else{const _=l[11];f=_.createComment("");const b=ni(a,l);xt(_,xm(_,b),f,function(a,l){return hn(a)?a.nextSibling(l):l.nextSibling}(_,b),!1)}l[a.index]=c=BC(d,l,f,a),Km(l,c)}return new NI(c,a,l)}const Ch={};class gy extends wl{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=Xn(l);return new mw(c,this.ngModule)}}function Dh(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const gw=new In("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ca});class mw extends J_{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(Cb).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Dh(this.componentDef.inputs)}get outputs(){return Dh(this.componentDef.outputs)}create(l,c,d,f){const _=(f=f||this.ngModule)?function(a,l){return{get:(c,d,f)=>{const _=a.get(c,Ch,f);return _!==Ch||d===Ch?_:l.get(c,d,f)}}}(l,f.injector):l,b=_.get(Ea,kc),w=_.get(ey,null),S=b.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",R=d?function(a,l,c){if(hn(a))return a.selectRootElement(l,c===nn.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(S,d,this.componentDef.encapsulation):Mm(b.createRenderer(null,this.componentDef),T,function(a){const l=a.toLowerCase();return"svg"===l?Rc:"math"===l?"http://www.w3.org/1998/MathML/":null}(T)),k=this.componentDef.onPush?576:528,F=function(a,l){return{components:[],scheduler:a||ca,clean:kd,playerHandler:l||null,flags:0}}(),U=qm(0,null,null,1,0,null,null,null,null,null),Y=dl(null,U,F,k,null,null,b,S,w,_);let de,ne;su(Y);try{const ke=function(a,l,c,d,f,_){const b=c[1];c[20]=a;const S=Su(b,20,2,"#host",null),T=S.mergedAttrs=l.hostAttrs;null!==T&&(sp(S,T,!0),null!==a&&(vo(f,a,T),null!==S.classes&&vb(f,a,S.classes),null!==S.styles&&dC(f,a,S.styles)));const R=d.createRenderer(a,l),k=dl(c,SC(l),null,l.onPush?64:16,c[20],S,d,R,_||null,null);return b.firstCreatePass&&(Yc(dt(S,c),b,l.type),kb(b,S),LC(S,c.length,1)),Km(c,k),c[20]=k}(R,this.componentDef,Y,b,S);if(R)if(d)vo(S,R,["ng-version",ZE.full]);else{const{attrs:De,classes:Je}=function(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===f?""!==_&&l.push(_,a[++d]):8===f&&c.push(_);else{if(!cs(f))break;f=_}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);De&&vo(S,R,De),Je&&Je.length>0&&vb(S,R,Je.join(" "))}if(ne=uo(U,20),void 0!==c){const De=ne.projection=[];for(let Je=0;Je<this.ngContentSelectors.length;Je++){const ut=c[Je];De.push(null!=ut?Array.from(ut):null)}}de=function(a,l,c,d,f){const _=c[1],b=function(a,l,c){const d=Vn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),VC(a,d,l,Rd(a,l,1,null),c));const f=Di(l,a,d.directiveStart,d);qt(f,l);const _=ni(d,l);return _&&qt(_,l),f}(_,c,l);if(d.components.push(b),a[8]=b,f&&f.forEach(S=>S(b,l)),l.contentQueries){const S=Vn();l.contentQueries(1,b,S.directiveStart)}const w=Vn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Hr(w.index),OC(c[1],w,0,w.directiveStart,w.directiveEnd,l),OA(l,b)),b}(ke,this.componentDef,Y,F,[JA]),np(U,Y,null)}finally{Jg()}return new uM(this.componentType,de,Zu(ne,Y),Y,ne)}}class uM extends class{}{constructor(l,c,d,f,_){super(),this.location=d,this._rootLView=f,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new jt(f),this.componentType=l}get injector(){return new Ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const ic=new Map;class cM extends Gs{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gy(this);const d=Ht(l),f=l[Mn]||null;f&&Le(f),this._bootstrapComponents=ls(d.bootstrap),this._r3Injector=WC(l,c,[{provide:Gs,useValue:this},{provide:wl,useValue:this.componentFactoryResolver}],j(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Wt.THROW_IF_NOT_FOUND,d=Ne.Default){return l===Wt||l===Gs||l===ds?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Ol extends Wp{constructor(l){super(),this.moduleType=l,null!==Ht(l)&&function(a){const l=new Set;!function c(d){const f=Ht(d,!0),_=f.id;null!==_&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${j(l)} vs ${j(l.name)}`)}(_,ic.get(_),d),ic.set(_,d));const b=ls(f.imports);for(const w of b)l.has(w)||(l.add(w),c(w))}(a)}(l)}create(l){return new cM(this.moduleType,l)}}function sc(a,l,c){const d=function(){const a=ht.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}()+a,f=Me();return f[d]===_t?function(a,l,c){return a[l]=c}(f,d,c?l.call(c):l()):function(a,l){return a[l]}(f,d)}function Ih(a){return l=>{setTimeout(a,void 0,l)}}const _s=class extends g.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var f,_,b;let w=l,S=c||(()=>null),T=d;if(l&&"object"==typeof l){const k=l;w=null===(f=k.next)||void 0===f?void 0:f.bind(k),S=null===(_=k.error)||void 0===_?void 0:_.bind(k),T=null===(b=k.complete)||void 0===b?void 0:b.bind(k)}this.__isAsync&&(S=Ih(S),w&&(w=Ih(w)),T&&(T=Ih(T)));const R=super.subscribe({next:w,error:S,complete:T});return l instanceof ue.w&&l.add(R),R}};function Cw(){return this._results[Mu()]()}class Sh{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Mu(),d=Sh.prototype;d[c]||(d[c]=Cw)}get changes(){return this._changes||(this._changes=new _s)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=ri(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],_=l[d];if(c&&(f=c(f),_=c(_)),_!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Dw{constructor(l){this.queryList=l,this.matches=null}clone(){return new Dw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iw{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let _=0;_<d;_++){const b=c.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new Iw(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==wy(l,c).matches&&this.queries[c].setDirty()}}class cS{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class vy{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(l,f);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new vy(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Th{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Th(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const _=d[f];this.matchTNodeWithReadOption(l,c,Xp(c,_)),this.matchTNodeWithReadOption(l,c,bo(c,l,_,!1,!1))}else d===qp?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,bo(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===ko||f===sy||f===qp&&4&c.type)this.addMatch(c.index,-2);else{const _=bo(c,l,f,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function Xp(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function dS(a,l,c,d){return-1===c?function(a,l){return 11&a.type?Zu(a,l):4&a.type?Dl(a,l):null}(l,a):-2===c?function(a,l,c){return c===ko?Zu(l,a):c===qp?Dl(l,a):c===sy?ph(l,a):void 0}(a,l,d):Di(a,a[1],c,l)}function hS(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const _=a.data,b=c.matches,w=[];for(let S=0;S<b.length;S+=2){const T=b[S];w.push(T<0?null:dS(l,_[T],b[S+1],c.metadata.read))}f.matches=w}return f.matches}function Tw(a,l,c,d){const f=a.queries.getByIndex(c),_=f.matches;if(null!==_){const b=hS(a,l,f,c);for(let w=0;w<_.length;w+=2){const S=_[w];if(S>0)d.push(b[w/2]);else{const T=_[w+1],R=l[-S];for(let k=10;k<R.length;k++){const F=R[k];F[17]===F[3]&&Tw(F[1],F,T,d)}if(null!==R[9]){const k=R[9];for(let F=0;F<k.length;F++){const U=k[F];Tw(U[1],U,T,d)}}}}}return d}function fS(a){const l=Me(),c=Nt(),d=Kg();Yg(d+1);const f=wy(c,d);if(a.dirty&&tu(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?Tw(c,l,d,[]):hS(c,l,f,d);a.reset(_,vI),a.notifyOnChanges()}return!0}return!1}function pS(a,l,c){const d=Nt();d.firstCreatePass&&(eg(d,new cS(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Ey(d,Me(),l)}function Ah(a,l,c,d){const f=Nt();if(f.firstCreatePass){const _=Vn();eg(f,new cS(l,c,d),_.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Ey(f,Me(),c)}function by(){return a=Me(),l=Kg(),a[19].queries[l].queryList;var a,l}function Ey(a,l,c){const d=new Sh(4==(4&c));MC(a,l,d,d.destroy),null===l[19]&&(l[19]=new Iw),l[19].queries.push(new Dw(d))}function eg(a,l,c){null===a.queries&&(a.queries=new vy),a.queries.track(new Th(l,c))}function wy(a,l){return a.queries.getByIndex(l)}const zw=new In("Application Initializer");let Pl=(()=>{class a{constructor(c){this.appInits=c,this.resolve=$p,this.reject=$p,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Pu(_))c.push(_);else if(fE(_)){const b=new Promise((w,S)=>{_.subscribe({complete:w,error:S})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(vn(zw,8))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();const Po=new In("AppId"),OM={provide:Po,useFactory:function(){return`${sg()}${sg()}${sg()}`},deps:[]};function sg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VS=new In("Platform Initializer"),BS=new In("Platform ID"),xy=new In("appBootstrapListener");let Ry=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();const Oy=new In("LocaleId"),Ny=new In("DefaultCurrencyCode");class PM{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}const og=function(a){return new Ol(a)},Zw=og,$S=function(a){return Promise.resolve(og(a))},GS=function(a){const l=og(a),d=ls(Ht(a).declarations).reduce((f,_)=>{const b=Xn(_);return b&&f.push(new mw(b)),f},[]);return new PM(l,d)},Kw=GS,VM=function(a){return Promise.resolve(GS(a))};let ag=(()=>{class a{constructor(){this.compileModuleSync=Zw,this.compileModuleAsync=$S,this.compileModuleAndAllComponentsSync=Kw,this.compileModuleAndAllComponentsAsync=VM}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();const zS=(()=>Promise.resolve(0))();function lg(a){"undefined"==typeof Zone?zS.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class pi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _s(!1),this.onMicrotaskEmpty=new _s(!1),this.onStable=new _s(!1),this.onError=new _s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let a=B.requestAnimationFrame,l=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(B,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Fy(a),a.isCheckStableRunning=!0,ug(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Fy(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,_,b,w)=>{try{return Ly(a),c.invokeTask(f,_,b,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),Xw(a)}},onInvoke:(c,d,f,_,b,w,S)=>{try{return Ly(a),c.invoke(f,_,b,w,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),Xw(a)}},onHasTask:(c,d,f,_)=>{c.hasTask(f,_),d===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Fy(a),ug(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,f,_)=>(c.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,l,Qw,$p,$p);try{return _.runTask(b,c,d)}finally{_.cancelTask(b)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const Qw={};function ug(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Fy(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ly(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Xw(a){a._nesting--,ug(a)}class e0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _s,this.onMicrotaskEmpty=new _s,this.onStable=new _s,this.onError=new _s}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let cc=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),lg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lg(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(vn(pi))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})(),Vy=(()=>{class a{constructor(){this._applications=new Map,t0.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return t0.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();class jM{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function HM(a){t0=a}let t0=new jM,n0=!0,WS=!1;function By(){return WS=!0,n0}function $M(){if(WS)throw new Error("Cannot enable prod mode after platform setup.");n0=!1}let Zs;const dg=new In("AllowMultipleToken");class $t{constructor(l,c){this.name=l,this.token=c}}function s0(a,l,c=[]){const d=`Platform: ${l}`,f=new In(d);return(_=[])=>{let b=mn();if(!b||b.injector.get(dg,!1))if(a)a(c.concat(_).concat({provide:f,useValue:!0}));else{const w=c.concat(_).concat({provide:f,useValue:!0},{provide:op,useValue:"platform"});!function(a){if(Zs&&!Zs.destroyed&&!Zs.injector.get(dg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zs=a.get(Pr);const l=a.get(VS,null);l&&l.forEach(c=>c())}(Wt.create({providers:w,name:d}))}return function(a){const l=mn();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(f)}}function mn(){return Zs&&!Zs.destroyed?Zs:null}let Pr=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function(a,l){let c;return c="noop"===a?new e0:("zone.js"===a?void 0:a)||new pi({enableLongStackTrace:By(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),S=[{provide:pi,useValue:w}];return w.run(()=>{const T=Wt.create({providers:S,parent:this.injector,name:c.moduleType.name}),R=c.create(T),k=R.injector.get(Ve,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const F=w.onError.subscribe({next:U=>{k.handleError(U)}});R.onDestroy(()=>{Uy(this._modules,R),F.unsubscribe()})}),function(a,l,c){try{const d=c();return Pu(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(k,w,()=>{const F=R.injector.get(Pl);return F.runInitializers(),F.donePromise.then(()=>(Le(R.injector.get(Oy,LE)||LE),this._moduleDoBootstrap(R),R))})})}bootstrapModule(c,d=[]){const f=XS({},d);return function(a,l,c){const d=new Ol(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(c){const d=c.injector.get(Fl);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${j(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(vn(Wt))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();function XS(a,l){return Array.isArray(l)?l.reduce(XS,a):Object.assign(Object.assign({},a),l)}let Fl=(()=>{class a{constructor(c,d,f,_,b){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=_,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new G.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),S=new G.y(T=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),lg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{R.unsubscribe(),k.unsubscribe()}});this.isStable=(0,oe.T)(w,S.pipe(a=>(0,he.x)()(function(a,l){return function(d){let f;f="function"==typeof a?a:function(){return a};const _=Object.create(d,be.N);return _.source=d,_.subjectFactory=f,_}}(Q)(a))))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=c instanceof J_?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const _=function(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Gs),w=f.create(Wt.NULL,[],d||f.selector,_),S=w.location.nativeElement,T=w.injector.get(cc,null),R=T&&w.injector.get(Vy);return T&&R&&R.registerApplication(S,T),w.onDestroy(()=>{this.detachView(w.hostView),Uy(this.components,w),R&&R.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Uy(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(xy,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(vn(pi),vn(Wt),vn(Ve),vn(wl),vn(Pl))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();function Uy(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}class a0{}class eT{}const YM={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let QM=(()=>{class a{constructor(c,d){this._compiler=c,this._config=d||YM}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,f]=c.split("#");return void 0===f&&(f="default"),V(8255)(d).then(_=>_[f]).then(_=>l0(_,d,f)).then(_=>this._compiler.compileModuleAsync(_))}loadFactory(c){let[d,f]=c.split("#"),_="NgFactory";return void 0===f&&(f="default",_=""),V(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(b=>b[f+_]).then(b=>l0(b,d,f))}}return a.\u0275fac=function(c){return new(c||a)(vn(ag),vn(eT,8))},a.\u0275prov=_n({token:a,factory:a.\u0275fac}),a})();function l0(a,l,c){if(!a)throw new Error(`Cannot find '${c}' in '${l}'`);return a}const ex=function(a){return null},iT=s0(null,"core",[{provide:BS,useValue:"unknown"},{provide:Pr,deps:[Wt]},{provide:Vy,deps:[]},{provide:Ry,deps:[]}]),sT=[{provide:Fl,useClass:Fl,deps:[pi,Wt,Ve,wl,Pl]},{provide:gw,deps:[pi],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Pl,useClass:Pl,deps:[[new Ns,zw]]},{provide:ag,useClass:ag,deps:[]},OM,{provide:zp,useFactory:function(){return ps},deps:[]},{provide:fh,useFactory:function(){return L1},deps:[]},{provide:Oy,useFactory:function(a){return Le(a=a||"undefined"!=typeof $localize&&$localize.locale||LE),a},deps:[[new sa(Oy),new Ns,new ks]]},{provide:Ny,useValue:"USD"}];let ix=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(vn(Fl))},a.\u0275mod=ws({type:a}),a.\u0275inj=bs({providers:sT}),a})()},9958:(Ge,Te,V)=>{"use strict";V.d(Te,{hO:()=>fe,xv:()=>$,Dh:()=>L,GT:()=>he,on:()=>q,pX:()=>se});var g=V(3018),ue=V(4486);ue.Z.registerVersion("firebase","9.0.1","app-compat");var be=V(9126);Ge=V.hmd(Ge);const ce=["ngOnDestroy"],se=(ie,ae,xe,Pe={})=>new Proxy(ie,{get:(it,nt)=>xe.runOutsideAngular(()=>{var Xe;if(ie[nt])return(null===(Xe=null==Pe?void 0:Pe.spy)||void 0===Xe?void 0:Xe.get)&&Pe.spy.get(nt,ie[nt]),ie[nt];if(ce.indexOf(nt)>-1)return()=>{};const Be=ae.toPromise().then(ve=>{const It=ve&&ve[nt];return"function"==typeof It?It.bind(ve):It&&It.then?It.then(mt=>xe.run(()=>mt)):xe.run(()=>It)});return new Proxy(()=>{},{get:(ve,It)=>Be[It],apply:(ve,It,mt)=>Be.then(ge=>{var le;const me=ge&&ge(...mt);return(null===(le=null==Pe?void 0:Pe.spy)||void 0===le?void 0:le.apply)&&Pe.spy.apply(nt,mt,me),me})})})}),he=(ie,ae)=>{ae.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(Pe=>{Object.defineProperty(ie.prototype,Pe,Object.getOwnPropertyDescriptor(xe.prototype||xe,Pe))})})};class Q{constructor(ae){return ae}}const L=new g.OlP("angularfire2.app.options"),$=new g.OlP("angularfire2.app.name");function q(ie,ae,xe){const it="object"==typeof xe&&xe||{};it.name=it.name||"string"==typeof xe&&xe||"[DEFAULT]";const Xe=ue.Z.apps.filter(Be=>Be&&Be.name===it.name)[0]||ae.runOutsideAngular(()=>ue.Z.initializeApp(ie,it));try{JSON.stringify(ie)!==JSON.stringify(Xe.options)&&j("error",`${Xe.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new Q(Xe)}const j=(ie,...ae)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[ie](...ae)},K={provide:Q,useFactory:q,deps:[L,g.R0b,[new g.FiY,$]]};let fe=(()=>{class ie{constructor(xe){ue.Z.registerVersion("angularfire",be.q4.full,`compat-${xe.toString()}`),ue.Z.registerVersion("angular",g.q4F.full)}static initializeApp(xe,Pe){return{ngModule:ie,providers:[{provide:L,useValue:xe},{provide:$,useValue:Pe}]}}}return ie.\u0275fac=function(xe){return new(xe||ie)(g.LFG(g.Lbi))},ie.\u0275mod=g.oAB({type:ie}),ie.\u0275inj=g.cJS({providers:[K]}),ie})()},9126:(Ge,Te,V)=>{"use strict";V.d(Te,{q4:()=>L,iC:()=>ge,f6:()=>mt,HU:()=>nt,cc:()=>j});var g=V(3018);(0,V(5452).registerVersion)("firebase","9.0.1","app");var be=V(7771),ce=V(3637),se=V(3342),he=V(309),Q=V(9673);Ge=V.hmd(Ge);const L=new g.GfV("7.0.2"),$=!!Ge.hot,q=(_e,...te)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[_e](...te)};function j(_e,te,Fe,Ye,kt){const[,Qe,St]=globalThis.\u0275AngularfireInstanceCache.find(tn=>tn[0]===_e)||[];if(Qe)return function(_e,te){try{return _e.toString()===te.toString()}catch(Fe){return _e===te}}(kt,St)||(q("error",`${te} was already initialized on the ${Fe} Firebase App with different settings.${$?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:kt,was:St})),Qe;{const tn=Ye();return globalThis.\u0275AngularfireInstanceCache.push([_e,tn,kt]),tn}}function xe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Pe{constructor(te,Fe=be.N){this.zone=te,this.delegate=Fe}now(){return this.delegate.now()}schedule(te,Fe,Ye){const kt=this.zone;return this.delegate.schedule(function(St){kt.runGuarded(()=>{te.apply(this,[St])})},Fe,Ye)}}class it{constructor(te){this.zone=te,this.task=null}call(te,Fe){const Ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xe,{},xe,xe)),Fe.pipe((0,se.b)({next:Ye,complete:Ye,error:Ye})).subscribe(te).add(Ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nt=(()=>{class _e{constructor(Fe){this.ngZone=Fe,this.outsideAngular=Fe.runOutsideAngular(()=>new Pe(Zone.current)),this.insideAngular=Fe.run(()=>new Pe(Zone.current,ce.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _e.\u0275fac=function(Fe){return new(Fe||_e)(g.LFG(g.R0b))},_e.\u0275prov=g.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();function Xe(){const _e=globalThis.\u0275AngularFireScheduler;if(!_e)throw new Error("AngularFireModule has not been provided");return _e}function mt(_e){return _e.pipe((0,he.QV)(Xe().insideAngular))}function ge(_e){return Xe(),function(_e){return function(Fe){return(Fe=Fe.lift(new it(_e.ngZone))).pipe((0,Q.R)(_e.outsideAngular),(0,he.QV)(_e.insideAngular))}}(Xe())(_e)}},4486:(Ge,Te,V)=>{"use strict";V.d(Te,{Z:()=>ie});var g=V(4685),ue=V(6034),G=V(5452),oe=V(300);class be{constructor(xe,Pe){this._delegate=xe,this.firebase=Pe,(0,G._addComponent)(xe,new ue.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(xe,Pe=G._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(xe);return!nt.isInitialized()&&"EXPLICIT"===(null===(it=nt.getComponent())||void 0===it?void 0:it.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:Pe})}_removeServiceInstance(xe,Pe=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(Pe)}_addComponent(xe){(0,G._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,G._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function Q(){const ae=function(ae){const xe={},Pe={__esModule:!0,initializeApp:function(mt,ge={}){const le=G.initializeApp(mt,ge);if((0,g.r3)(xe,le.name))return xe[le.name];const me=new ae(le,Pe);return xe[le.name]=me,me},app:nt,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const ge=mt.name,le=ge.replace("-compat","");if(G._registerComponent(mt)&&"PUBLIC"===mt.type){const me=(Ee=nt())=>{if("function"!=typeof Ee[le])throw se.create("invalid-app-argument",{appName:ge});return Ee[le]()};void 0!==mt.serviceProps&&(0,g.ZB)(me,mt.serviceProps),Pe[le]=me,ae.prototype[le]=function(...Ee){return this._getService.bind(this,ge).apply(this,mt.multipleInstances?Ee:[])}}return"PUBLIC"===mt.type?Pe[le]:null},removeApp:function(mt){delete xe[mt]},useAsService:function(mt,ge){return"serverAuth"===ge?null:ge},modularAPIs:G}};function nt(mt){if(!(0,g.r3)(xe,mt=mt||G._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:mt});return xe[mt]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function(){return Object.keys(xe).map(mt=>xe[mt])}}),nt.App=ae,Pe}(be);return ae.INTERNAL=Object.assign(Object.assign({},ae.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function(Pe){(0,g.ZB)(ae,Pe)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),ae}(),$=new oe.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ae=self.firebase.SDK_VERSION;ae&&ae.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const fe=L;(0,G.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ie=fe},5452:(Ge,Te,V)=>{"use strict";V.r(Te),V.d(Te,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>zl,_DEFAULT_ENTRY_NAME:()=>kt,_addComponent:()=>Fn,_addOrOverwriteComponent:()=>es,_apps:()=>St,_clearComponents:()=>yr,_components:()=>tn,_getProvider:()=>Rt,_registerComponent:()=>sn,_removeServiceInstance:()=>Lt,deleteApp:()=>Ra,getApp:()=>hr,getApps:()=>Uo,initializeApp:()=>bs,onLog:()=>Gn,registerVersion:()=>Es,setLogLevel:()=>Ni});var g=V(8239),ue=V(6034),G=V(300),oe=V(4685);class be{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function(Tt){const Ne=Tt.getComponent();return"VERSION"===(null==Ne?void 0:Ne.type)}(Gt)){const on=Gt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Gt=>Gt).join(" ")}}const se="@firebase/app",Q=new G.Yd("@firebase/app"),kt="[DEFAULT]",Qe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,tn=new Map;function Fn(Tt,Ne){try{Tt.container.addComponent(Ne)}catch(Gt){Q.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Tt.name}`,Gt)}}function es(Tt,Ne){Tt.container.addOrOverwriteComponent(Ne)}function sn(Tt){const Ne=Tt.name;if(tn.has(Ne))return Q.debug(`There were multiple attempts to register component ${Ne}.`),!1;tn.set(Ne,Tt);for(const Gt of St.values())Fn(Gt,Tt);return!0}function Rt(Tt,Ne){return Tt.container.getProvider(Ne)}function Lt(Tt,Ne,Gt=kt){Rt(Tt,Ne).clearInstance(Gt)}function yr(){tn.clear()}const Lr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class _n{constructor(Ne,Gt,on){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}const zl="9.0.0";function bs(Tt,Ne={}){"object"!=typeof Ne&&(Ne={name:Ne});const Gt=Object.assign({name:kt,automaticDataCollectionEnabled:!1},Ne),on=Gt.name;if("string"!=typeof on||!on)throw Lr.create("bad-app-name",{appName:String(on)});const cn=St.get(on);if(cn){if((0,oe.vZ)(Tt,cn.options)&&(0,oe.vZ)(Gt,cn.config))return cn;throw Lr.create("duplicate-app",{appName:on})}const Qt=new ue.H0(on);for(const ze of tn.values())Qt.addComponent(ze);const $e=new _n(Tt,Gt,Qt);return St.set(on,$e),$e}function hr(Tt=kt){const Ne=St.get(Tt);if(!Ne)throw Lr.create("no-app",{appName:Tt});return Ne}function Uo(){return Array.from(St.values())}function Ra(Tt){return jo.apply(this,arguments)}function jo(){return(jo=(0,g.Z)(function*(Tt){const Ne=Tt.name;St.has(Ne)&&(St.delete(Ne),yield Promise.all(Tt.container.getProviders().map(Gt=>Gt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function Es(Tt,Ne,Gt){var on;let cn=null!==(on=Qe[Tt])&&void 0!==on?on:Tt;Gt&&(cn+=`-${Gt}`);const Qt=cn.match(/\s|\//),$e=Ne.match(/\s|\//);if(Qt||$e){const ze=[`Unable to register library "${cn}" with version "${Ne}":`];return Qt&&ze.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),Qt&&$e&&ze.push("and"),$e&&ze.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void Q.warn(ze.join(" "))}sn(new ue.wA(`${cn}-version`,()=>({library:cn,version:Ne}),"VERSION"))}function Gn(Tt,Ne){if(null!==Tt&&"function"!=typeof Tt)throw Lr.create("invalid-log-argument");(0,G.Am)(Tt,Ne)}function Ni(Tt){(0,G.Ub)(Tt)}sn(new ue.wA("platform-logger",Ne=>new be(Ne),"PRIVATE")),Es(se,"0.7.0",undefined),Es("fire-js","")},6034:(Ge,Te,V)=>{"use strict";V.d(Te,{wA:()=>G,H0:()=>he});var g=V(4762),ue=V(4685),G=function(){function Q(L,$,q){this.name=L,this.instanceFactory=$,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Q.prototype.setInstantiationMode=function(L){return this.instantiationMode=L,this},Q.prototype.setMultipleInstances=function(L){return this.multipleInstances=L,this},Q.prototype.setServiceProps=function(L){return this.serviceProps=L,this},Q.prototype.setInstanceCreatedCallback=function(L){return this.onInstanceCreated=L,this},Q}(),oe="[DEFAULT]",be=function(){function Q(L,$){this.name=L,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Q.prototype.get=function(L){var $=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has($)){var q=new ue.BH;if(this.instancesDeferred.set($,q),this.isInitialized($)||this.shouldAutoInitialize())try{var j=this.getOrInitializeService({instanceIdentifier:$});j&&q.resolve(j)}catch(K){}}return this.instancesDeferred.get($).promise},Q.prototype.getImmediate=function(L){var $,q=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),j=null!==($=null==L?void 0:L.optional)&&void 0!==$&&$;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(j)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(K){if(j)return null;throw K}},Q.prototype.getComponent=function(){return this.component},Q.prototype.setComponent=function(L){var $,q;if(L.name!==this.name)throw Error("Mismatching Component "+L.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=L,this.shouldAutoInitialize()){if(function(Q){return"EAGER"===Q.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(it){}try{for(var j=(0,g.XA)(this.instancesDeferred.entries()),K=j.next();!K.done;K=j.next()){var fe=(0,g.CR)(K.value,2),ae=fe[1],xe=this.normalizeInstanceIdentifier(fe[0]);try{var Pe=this.getOrInitializeService({instanceIdentifier:xe});ae.resolve(Pe)}catch(it){}}}catch(it){$={error:it}}finally{try{K&&!K.done&&(q=j.return)&&q.call(j)}finally{if($)throw $.error}}}},Q.prototype.clearInstance=function(L){void 0===L&&(L=oe),this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)},Q.prototype.delete=function(){return(0,g.mG)(this,void 0,void 0,function(){var L;return(0,g.Jh)(this,function($){switch($.label){case 0:return L=Array.from(this.instances.values()),[4,Promise.all((0,g.ev)((0,g.ev)([],(0,g.CR)(L.filter(function(q){return"INTERNAL"in q}).map(function(q){return q.INTERNAL.delete()}))),(0,g.CR)(L.filter(function(q){return"_delete"in q}).map(function(q){return q._delete()}))))];case 1:return $.sent(),[2]}})})},Q.prototype.isComponentSet=function(){return null!=this.component},Q.prototype.isInitialized=function(L){return void 0===L&&(L=oe),this.instances.has(L)},Q.prototype.getOptions=function(L){return void 0===L&&(L=oe),this.instancesOptions.get(L)||{}},Q.prototype.initialize=function(L){var $,q;void 0===L&&(L={});var j=L.options,K=void 0===j?{}:j,fe=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(fe))throw Error(this.name+"("+fe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ie=this.getOrInitializeService({instanceIdentifier:fe,options:K});try{for(var ae=(0,g.XA)(this.instancesDeferred.entries()),xe=ae.next();!xe.done;xe=ae.next()){var Pe=(0,g.CR)(xe.value,2),nt=Pe[1];fe===this.normalizeInstanceIdentifier(Pe[0])&&nt.resolve(ie)}}catch(Be){$={error:Be}}finally{try{xe&&!xe.done&&(q=ae.return)&&q.call(ae)}finally{if($)throw $.error}}return ie},Q.prototype.onInit=function(L,$){var q,j=this.normalizeInstanceIdentifier($),K=null!==(q=this.onInitCallbacks.get(j))&&void 0!==q?q:new Set;K.add(L),this.onInitCallbacks.set(j,K);var fe=this.instances.get(j);return fe&&L(fe,j),function(){K.delete(L)}},Q.prototype.invokeOnInitCallbacks=function(L,$){var q,j,K=this.onInitCallbacks.get($);if(K)try{for(var fe=(0,g.XA)(K),ie=fe.next();!ie.done;ie=fe.next()){var ae=ie.value;try{ae(L,$)}catch(xe){}}}catch(xe){q={error:xe}}finally{try{ie&&!ie.done&&(j=fe.return)&&j.call(fe)}finally{if(q)throw q.error}}},Q.prototype.getOrInitializeService=function(L){var $=L.instanceIdentifier,q=L.options,j=void 0===q?{}:q,K=this.instances.get($);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:ce($),options:j}),this.instances.set($,K),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(K,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,K)}catch(fe){}return K||null},Q.prototype.normalizeInstanceIdentifier=function(L){return void 0===L&&(L=oe),this.component?this.component.multipleInstances?L:oe:L},Q.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Q}();function ce(Q){return Q===oe?void 0:Q}var he=function(){function Q(L){this.name=L,this.providers=new Map}return Q.prototype.addComponent=function(L){var $=this.getProvider(L.name);if($.isComponentSet())throw new Error("Component "+L.name+" has already been registered with "+this.name);$.setComponent(L)},Q.prototype.addOrOverwriteComponent=function(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)},Q.prototype.getProvider=function(L){if(this.providers.has(L))return this.providers.get(L);var $=new be(L,this);return this.providers.set(L,$),$},Q.prototype.getProviders=function(){return Array.from(this.providers.values())},Q}()},300:(Ge,Te,V)=>{"use strict";function g(){for(var q=0,j=0,K=arguments.length;j<K;j++)q+=arguments[j].length;var fe=Array(q),ie=0;for(j=0;j<K;j++)for(var ae=arguments[j],xe=0,Pe=ae.length;xe<Pe;xe++,ie++)fe[ie]=ae[xe];return fe}V.d(Te,{in:()=>oe,Yd:()=>Q,Ub:()=>L,Am:()=>$});var ue,G=[],oe=(()=>{return(q=oe||(oe={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",oe;var q})(),be={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},ce=oe.INFO,se=((ue={})[oe.DEBUG]="log",ue[oe.VERBOSE]="log",ue[oe.INFO]="info",ue[oe.WARN]="warn",ue[oe.ERROR]="error",ue),he=function(q,j){for(var K=[],fe=2;fe<arguments.length;fe++)K[fe-2]=arguments[fe];if(!(j<q.logLevel)){var ie=(new Date).toISOString(),ae=se[j];if(!ae)throw new Error("Attempted to log a message with an invalid logType (value: "+j+")");console[ae].apply(console,g(["["+ie+"]  "+q.name+":"],K))}},Q=function(){function q(j){this.name=j,this._logLevel=ce,this._logHandler=he,this._userLogHandler=null,G.push(this)}return Object.defineProperty(q.prototype,"logLevel",{get:function(){return this._logLevel},set:function(j){if(!(j in oe))throw new TypeError('Invalid value "'+j+'" assigned to `logLevel`');this._logLevel=j},enumerable:!1,configurable:!0}),q.prototype.setLogLevel=function(j){this._logLevel="string"==typeof j?be[j]:j},Object.defineProperty(q.prototype,"logHandler",{get:function(){return this._logHandler},set:function(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(j){this._userLogHandler=j},enumerable:!1,configurable:!0}),q.prototype.debug=function(){for(var j=[],K=0;K<arguments.length;K++)j[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,g([this,oe.DEBUG],j)),this._logHandler.apply(this,g([this,oe.DEBUG],j))},q.prototype.log=function(){for(var j=[],K=0;K<arguments.length;K++)j[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,g([this,oe.VERBOSE],j)),this._logHandler.apply(this,g([this,oe.VERBOSE],j))},q.prototype.info=function(){for(var j=[],K=0;K<arguments.length;K++)j[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,g([this,oe.INFO],j)),this._logHandler.apply(this,g([this,oe.INFO],j))},q.prototype.warn=function(){for(var j=[],K=0;K<arguments.length;K++)j[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,g([this,oe.WARN],j)),this._logHandler.apply(this,g([this,oe.WARN],j))},q.prototype.error=function(){for(var j=[],K=0;K<arguments.length;K++)j[K]=arguments[K];this._userLogHandler&&this._userLogHandler.apply(this,g([this,oe.ERROR],j)),this._logHandler.apply(this,g([this,oe.ERROR],j))},q}();function L(q){G.forEach(function(j){j.setLogLevel(q)})}function $(q,j){for(var K=function(xe){var Pe=null;j&&j.level&&(Pe=be[j.level]),xe.userLogHandler=null===q?null:function(it,nt){for(var Xe=[],Be=2;Be<arguments.length;Be++)Xe[Be-2]=arguments[Be];var ve=Xe.map(function(It){if(null==It)return null;if("string"==typeof It)return It;if("number"==typeof It||"boolean"==typeof It)return It.toString();if(It instanceof Error)return It.message;try{return JSON.stringify(It)}catch(mt){return null}}).filter(function(It){return It}).join(" ");nt>=(null!=Pe?Pe:it.logLevel)&&q({level:oe[nt].toLowerCase(),message:ve,args:Xe,type:it.name})}},fe=0,ie=G;fe<ie.length;fe++)K(ie[fe])}},4685:(Ge,Te,V)=>{"use strict";V.d(Te,{BH:()=>K,LL:()=>Fe,ZR:()=>te,tV:()=>L,r3:()=>Lt,Sg:()=>fe,ne:()=>jo,vZ:()=>_n,ZB:()=>q,pd:()=>Uo,m9:()=>dn,z$:()=>ie,jU:()=>Pe,ru:()=>it,d:()=>Xe,xb:()=>ro,w1:()=>Be,hl:()=>ge,uI:()=>ae,UG:()=>xe,b$:()=>nt,G6:()=>mt,Mn:()=>ve,xO:()=>bs,zd:()=>hr});var g=V(4762),be=function(W){for(var B=[],re=0,pe=0;pe<W.length;pe++){var X=W.charCodeAt(pe);X<128?B[re++]=X:X<2048?(B[re++]=X>>6|192,B[re++]=63&X|128):55296==(64512&X)&&pe+1<W.length&&56320==(64512&W.charCodeAt(pe+1))?(X=65536+((1023&X)<<10)+(1023&W.charCodeAt(++pe)),B[re++]=X>>18|240,B[re++]=X>>12&63|128,B[re++]=X>>6&63|128,B[re++]=63&X|128):(B[re++]=X>>12|224,B[re++]=X>>6&63|128,B[re++]=63&X|128)}return B},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(W,B){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var re=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[],X=0;X<W.length;X+=3){var Se=W[X],et=X+1<W.length,Ut=et?W[X+1]:0,Pt=X+2<W.length,Ot=Pt?W[X+2]:0,zn=(15&Ut)<<2|Ot>>6,io=63&Ot;Pt||(io=64,et||(zn=64)),pe.push(re[Se>>2],re[(3&Se)<<4|Ut>>4],re[zn],re[io])}return pe.join("")},encodeString:function(W,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(W):this.encodeByteArray(be(W),B)},decodeString:function(W,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(W):function(W){for(var B=[],re=0,pe=0;re<W.length;){var X=W[re++];if(X<128)B[pe++]=String.fromCharCode(X);else if(X>191&&X<224){var Se=W[re++];B[pe++]=String.fromCharCode((31&X)<<6|63&Se)}else if(X>239&&X<365){var Pt=((7&X)<<18|(63&(Se=W[re++]))<<12|(63&(et=W[re++]))<<6|63&W[re++])-65536;B[pe++]=String.fromCharCode(55296+(Pt>>10)),B[pe++]=String.fromCharCode(56320+(1023&Pt))}else{Se=W[re++];var et=W[re++];B[pe++]=String.fromCharCode((15&X)<<12|(63&Se)<<6|63&et)}}return B.join("")}(this.decodeStringToByteArray(W,B))},decodeStringToByteArray:function(W,B){this.init_();for(var re=B?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[],X=0;X<W.length;){var Se=re[W.charAt(X++)],Ut=X<W.length?re[W.charAt(X)]:0,Ot=++X<W.length?re[W.charAt(X)]:64,Dn=++X<W.length?re[W.charAt(X)]:64;if(++X,null==Se||null==Ut||null==Ot||null==Dn)throw Error();pe.push(Se<<2|Ut>>4),64!==Ot&&(pe.push(Ut<<4&240|Ot>>2),64!==Dn&&pe.push(Ot<<6&192|Dn))}return pe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},Q=function(W){return function(W){var B=be(W);return se.encodeByteArray(B,!0)}(W).replace(/\./g,"")},L=function(W){try{return se.decodeString(W,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function q(W,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return B}for(var pe in B)!B.hasOwnProperty(pe)||!j(pe)||(W[pe]=q(W[pe],B[pe]));return W}function j(W){return"__proto__"!==W}var K=function(){function W(){var B=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(re,pe){B.resolve=re,B.reject=pe})}return W.prototype.wrapCallback=function(B){var re=this;return function(pe,X){pe?re.reject(pe):re.resolve(X),"function"==typeof B&&(re.promise.catch(function(){}),1===B.length?B(pe):B(pe,X))}},W}();function fe(W,B){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var pe=B||"demo-project",X=W.iat||0,Se=W.sub||W.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var et=(0,g.pi)({iss:"https://securetoken.google.com/"+pe,aud:pe,iat:X,exp:X+3600,auth_time:X,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},W);return[Q(JSON.stringify({alg:"none",type:"JWT"})),Q(JSON.stringify(et)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Pe(){return"object"==typeof self&&self.self===self}function it(){var W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return ie().indexOf("Electron/")>=0}function Be(){var W=ie();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ve(){return ie().indexOf("MSAppHost/")>=0}function mt(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ge(){return"indexedDB"in self&&null!=indexedDB}var te=function(W){function B(re,pe,X){var Se=W.call(this,pe)||this;return Se.code=re,Se.customData=X,Se.name="FirebaseError",Object.setPrototypeOf(Se,B.prototype),Error.captureStackTrace&&Error.captureStackTrace(Se,Fe.prototype.create),Se}return(0,g.ZT)(B,W),B}(Error),Fe=function(){function W(B,re,pe){this.service=B,this.serviceName=re,this.errors=pe}return W.prototype.create=function(B){for(var re=[],pe=1;pe<arguments.length;pe++)re[pe-1]=arguments[pe];var X=re[0]||{},Se=this.service+"/"+B,et=this.errors[B],Ut=et?Ye(et,X):"Error",Pt=this.serviceName+": "+Ut+" ("+Se+").",Ot=new te(Se,Pt,X);return Ot},W}();function Ye(W,B){return W.replace(kt,function(re,pe){var X=B[pe];return null!=X?String(X):"<"+pe+"?>"})}var kt=/\{\$([^}]+)}/g;function Lt(W,B){return Object.prototype.hasOwnProperty.call(W,B)}function ro(W){for(var B in W)if(Object.prototype.hasOwnProperty.call(W,B))return!1;return!0}function _n(W,B){if(W===B)return!0;for(var re=Object.keys(W),pe=Object.keys(B),X=0,Se=re;X<Se.length;X++){if(!pe.includes(et=Se[X]))return!1;var Ut=W[et],Pt=B[et];if(zl(Ut)&&zl(Pt)){if(!_n(Ut,Pt))return!1}else if(Ut!==Pt)return!1}for(var Ot=0,Mn=pe;Ot<Mn.length;Ot++){var et;if(!re.includes(et=Mn[Ot]))return!1}return!0}function zl(W){return null!==W&&"object"==typeof W}function bs(W){for(var B=[],re=function(Pt,Ot){Array.isArray(Ot)?Ot.forEach(function(Mn){B.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Mn))}):B.push(encodeURIComponent(Pt)+"="+encodeURIComponent(Ot))},pe=0,X=Object.entries(W);pe<X.length;pe++){var Se=X[pe];re(Se[0],Se[1])}return B.length?"&"+B.join("&"):""}function hr(W){var B={};return W.replace(/^\?/,"").split("&").forEach(function(pe){if(pe){var X=pe.split("="),et=X[1];B[decodeURIComponent(X[0])]=decodeURIComponent(et)}}),B}function Uo(W){var B=W.indexOf("?");if(!B)return"";var re=W.indexOf("#",B);return W.substring(B,re>0?re:void 0)}function jo(W,B){var re=new Es(W,B);return re.subscribe.bind(re)}!function(){function W(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}W.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},W.prototype.compress_=function(B,re){re||(re=0);var pe=this.W_;if("string"==typeof B)for(var X=0;X<16;X++)pe[X]=B.charCodeAt(re)<<24|B.charCodeAt(re+1)<<16|B.charCodeAt(re+2)<<8|B.charCodeAt(re+3),re+=4;else for(X=0;X<16;X++)pe[X]=B[re]<<24|B[re+1]<<16|B[re+2]<<8|B[re+3],re+=4;for(X=16;X<80;X++)pe[X]=4294967295&((Se=pe[X-3]^pe[X-8]^pe[X-14]^pe[X-16])<<1|Se>>>31);var Dn,zn,et=this.chain_[0],Ut=this.chain_[1],Pt=this.chain_[2],Ot=this.chain_[3],Mn=this.chain_[4];for(X=0;X<80;X++){X<40?X<20?(Dn=Ot^Ut&(Pt^Ot),zn=1518500249):(Dn=Ut^Pt^Ot,zn=1859775393):X<60?(Dn=Ut&Pt|Ot&(Ut|Pt),zn=2400959708):(Dn=Ut^Pt^Ot,zn=3395469782);var Se=(et<<5|et>>>27)+Dn+Mn+zn+pe[X]&4294967295;Mn=Ot,Ot=Pt,Pt=4294967295&(Ut<<30|Ut>>>2),Ut=et,et=Se}this.chain_[0]=this.chain_[0]+et&4294967295,this.chain_[1]=this.chain_[1]+Ut&4294967295,this.chain_[2]=this.chain_[2]+Pt&4294967295,this.chain_[3]=this.chain_[3]+Ot&4294967295,this.chain_[4]=this.chain_[4]+Mn&4294967295},W.prototype.update=function(B,re){if(null!=B){void 0===re&&(re=B.length);for(var pe=re-this.blockSize,X=0,Se=this.buf_,et=this.inbuf_;X<re;){if(0===et)for(;X<=pe;)this.compress_(B,X),X+=this.blockSize;if("string"==typeof B){for(;X<re;)if(Se[et]=B.charCodeAt(X),++X,++et===this.blockSize){this.compress_(Se),et=0;break}}else for(;X<re;)if(Se[et]=B[X],++X,++et===this.blockSize){this.compress_(Se),et=0;break}}this.inbuf_=et,this.total_+=re}},W.prototype.digest=function(){var B=[],re=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&re,re/=256;this.compress_(this.buf_);var X=0;for(pe=0;pe<5;pe++)for(var Se=24;Se>=0;Se-=8)B[X]=this.chain_[pe]>>Se&255,++X;return B}}();var Es=function(){function W(B,re){var pe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(function(){B(pe)}).catch(function(X){pe.error(X)})}return W.prototype.next=function(B){this.forEachObserver(function(re){re.next(B)})},W.prototype.error=function(B){this.forEachObserver(function(re){re.error(B)}),this.close(B)},W.prototype.complete=function(){this.forEachObserver(function(B){B.complete()}),this.close()},W.prototype.subscribe=function(B,re,pe){var Se,X=this;if(void 0===B&&void 0===re&&void 0===pe)throw new Error("Missing Observer.");void 0===(Se=function(W,B){if("object"!=typeof W||null===W)return!1;for(var re=0,pe=["next","error","complete"];re<pe.length;re++){var X=pe[re];if(X in W&&"function"==typeof W[X])return!0}return!1}(B)?B:{next:B,error:re,complete:pe}).next&&(Se.next=_i),void 0===Se.error&&(Se.error=_i),void 0===Se.complete&&(Se.complete=_i);var et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{X.finalError?Se.error(X.finalError):Se.complete()}catch(Ut){}}),this.observers.push(Se),et},W.prototype.unsubscribeOne=function(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},W.prototype.forEachObserver=function(B){if(!this.finalized)for(var re=0;re<this.observers.length;re++)this.sendOne(re,B)},W.prototype.sendOne=function(B,re){var pe=this;this.task.then(function(){if(void 0!==pe.observers&&void 0!==pe.observers[B])try{re(pe.observers[B])}catch(X){"undefined"!=typeof console&&console.error&&console.error(X)}})},W.prototype.close=function(B){var re=this;this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(function(){re.observers=void 0,re.onNoObservers=void 0}))},W}();function _i(){}function dn(W){return W&&W._delegate?W._delegate:W}},9083:(Ge,Te,V)=>{"use strict";V.r(Te);var g=V(8239),ue=V(4486),G=V(4685),oe=V(5452),be=V(4762),ce=V(300),se=V(6034);const fe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ae=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pe=new ce.Yd("@firebase/auth");function it(C,...y){Pe.logLevel<=ce.in.ERROR&&Pe.error(`Auth (${oe.SDK_VERSION}): ${C}`,...y)}function nt(C,...y){throw Be(C,...y)}function Xe(C,...y){return Be(C,...y)}function Be(C,...y){if("string"!=typeof C){const E=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(E,...I)}return ae.create(C,...y)}function ve(C,y,...E){if(!C)throw Be(y,...E)}function It(C){const y="INTERNAL ASSERTION FAILED: "+C;throw it(y),new Error(y)}function mt(C,y){C||It(y)}const ge=new Map;function le(C){mt(C instanceof Function,"Expected a class definition");let y=ge.get(C);return y?(mt(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ge.set(C,y),y)}function _e(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function te(){return"http:"===Fe()||"https:"===Fe()}function Fe(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Qe{constructor(y,E){this.shortDelay=y,this.longDelay=E,mt(E>y,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(te()||(0,G.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function St(C,y){mt(C.emulator,"Emulator should always be set here");const{url:E}=C.emulator;return y?`${E}${y.startsWith("/")?y.slice(1):y}`:E}class tn{static initialize(y,E,I){this.fetchImpl=y,E&&(this.headersImpl=E),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void It("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void It("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void It("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},es=new Qe(3e4,6e4);function sn(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function Rt(C,y,E,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,g.Z)(function*(C,y,E,I,O={}){return yr(C,O,()=>{let P={},J={};I&&("GET"===y?J=I:P={body:JSON.stringify(I)});const we=(0,G.xO)(Object.assign({key:C.config.apiKey},J)).slice(1),Ve=new(tn.headers());return Ve.set("Content-Type","application/json"),Ve.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&Ve.set("X-Firebase-Locale",C.languageCode),tn.fetch()(zl(C,C.config.apiHost,E,we),Object.assign({method:y,headers:Ve,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function yr(C,y,E){return ro.apply(this,arguments)}function ro(){return(ro=(0,g.Z)(function*(C,y,E){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},Fn),y);try{const O=new bs(C),P=yield Promise.race([E(),O.promise]);O.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw hr(C,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const Ve=(P.ok?J.errorMessage:J.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw hr(C,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ve)throw hr(C,"email-already-in-use",J);nt(C,I[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(O){if(O instanceof G.ZR)throw O;nt(C,"network-request-failed")}})).apply(this,arguments)}function Lr(C,y,E,I){return _n.apply(this,arguments)}function _n(){return(_n=(0,g.Z)(function*(C,y,E,I,O={}){const P=yield Rt(C,y,E,I,O);return"mfaPendingCredential"in P&&nt(C,"multi-factor-auth-required",{serverResponse:P}),P})).apply(this,arguments)}function zl(C,y,E,I){const O=`${y}${E}?${I}`;return C.config.emulator?St(C.config,O):`${C.config.apiScheme}://${O}`}class bs{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((E,I)=>{this.timer=setTimeout(()=>I(Xe(this.auth,"timeout")),es.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hr(C,y,E){const I={appName:C.name};E.email&&(I.email=E.email),E.phoneNumber&&(I.phoneNumber=E.phoneNumber);const O=Xe(C,y,I);return O.customData._tokenResponse=E,O}function Ra(){return(Ra=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function jo(C,y){return Es.apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Gn(C,y){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function _i(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Gt(){return(Gt=(0,g.Z)(function*(C,y=!1){const E=(0,G.m9)(C),I=yield E.getIdToken(y),O=cn(I);ve(O&&O.exp&&O.auth_time&&O.iat,E.auth,"internal-error");const P="object"==typeof O.firebase?O.firebase:void 0,J=null==P?void 0:P.sign_in_provider;return{claims:O,token:I,authTime:_i(on(O.auth_time)),issuedAtTime:_i(on(O.iat)),expirationTime:_i(on(O.exp)),signInProvider:J||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function on(C){return 1e3*Number(C)}function cn(C){const[y,E,I]=C.split(".");if(void 0===y||void 0===E||void 0===I)return it("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,G.tV)(E);return O?JSON.parse(O):(it("Failed to decode base64 JWT payload"),null)}catch(O){return it("Caught error parsing JWT payload as JSON",O),null}}function $e(C,y){return ze.apply(this,arguments)}function ze(){return(ze=(0,g.Z)(function*(C,y,E=!1){if(E)return y;try{return yield y}catch(I){throw I instanceof G.ZR&&Vr(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Vr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ql{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var E;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const O=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(y=!1){var E=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,g.Z)(function*(){yield E.iteration()}),I)}iteration(){var y=this;return(0,g.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&y.schedule(!0))}y.schedule()})()}}class ki{constructor(y,E){this.createdAt=y,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=_i(this.lastLoginAt),this.creationTime=_i(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nn(C){return Br.apply(this,arguments)}function Br(){return(Br=(0,g.Z)(function*(C){var y;const E=C.auth,I=yield C.getIdToken(),O=yield $e(C,Gn(E,{idToken:I}));ve(null==O?void 0:O.users.length,E,"internal-error");const P=O.users[0];C._notifyReloadListener(P);const J=(null===(y=P.providerUserInfo)||void 0===y?void 0:y.length)?B(P.providerUserInfo):[],we=W(C.providerData,J),pt=!!C.isAnonymous&&!(C.email&&P.passwordHash||(null==we?void 0:we.length)),st={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:we,metadata:new ki(P.createdAt,P.lastLoginAt),isAnonymous:pt};Object.assign(C,st)})).apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(C){const y=(0,G.m9)(C);yield nn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function W(C,y){return[...C.filter(I=>!y.some(O=>O.providerId===I.providerId)),...y]}function B(C){return C.map(y=>{var{providerId:E}=y,I=(0,be._T)(y,["providerId"]);return{providerId:E,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function pe(){return(pe=(0,g.Z)(function*(C,y){const E=yield yr(C,{},()=>{const I=(0,G.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:O,apiKey:P}=C.config,J=zl(C,O,"/v1/token",`key=${P}`);return tn.fetch()(J,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class X{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ve(y.idToken,"internal-error"),ve(void 0!==y.idToken,"internal-error"),ve(void 0!==y.refreshToken,"internal-error");const E="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(C){const y=cn(C);return ve(y,"internal-error"),ve(void 0!==y.exp,"internal-error"),ve(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,E)}getToken(y,E=!1){var I=this;return(0,g.Z)(function*(){return ve(!I.accessToken||I.refreshToken,y,"user-token-expired"),E||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,E){var I=this;return(0,g.Z)(function*(){const{accessToken:O,refreshToken:P,expiresIn:J}=yield function(C,y){return pe.apply(this,arguments)}(y,E);I.updateTokensAndExpiration(O,P,Number(J))})()}updateTokensAndExpiration(y,E,I){this.refreshToken=E||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,E){const{refreshToken:I,accessToken:O,expirationTime:P}=E,J=new X;return I&&(ve("string"==typeof I,"internal-error",{appName:y}),J.refreshToken=I),O&&(ve("string"==typeof O,"internal-error",{appName:y}),J.accessToken=O),P&&(ve("number"==typeof P,"internal-error",{appName:y}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new X,this.toJSON())}_performRefresh(){return It("not implemented")}}function Se(C,y){ve("string"==typeof C||void 0===C,"internal-error",{appName:y})}class et{constructor(y){var{uid:E,auth:I,stsTokenManager:O}=y,P=(0,be._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ql(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=I,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.metadata=new ki(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(y){var E=this;return(0,g.Z)(function*(){const I=yield $e(E,E.stsTokenManager.getToken(E.auth,y));return ve(I,E.auth,"internal-error"),E.accessToken!==I&&(E.accessToken=I,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),I})()}getIdTokenResult(y){return function(C){return Gt.apply(this,arguments)}(this,y)}reload(){return function(C){return dn.apply(this,arguments)}(this)}_assign(y){this!==y&&(ve(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(E=>Object.assign({},E)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new et(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,E=!1){var I=this;return(0,g.Z)(function*(){let O=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),O=!0),E&&(yield nn(I)),yield I.auth._persistUserIfCurrent(I),O&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,g.Z)(function*(){const E=yield y.getIdToken();return yield $e(y,function(C,y){return Ra.apply(this,arguments)}(y.auth,{idToken:E})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,E){var I,O,P,J,we,Ve,qe,pt;const st=null!==(I=E.displayName)&&void 0!==I?I:void 0,ln=null!==(O=E.email)&&void 0!==O?O:void 0,En=null!==(P=E.phoneNumber)&&void 0!==P?P:void 0,ua=null!==(J=E.photoURL)&&void 0!==J?J:void 0,Nn=null!==(we=E.tenantId)&&void 0!==we?we:void 0,bd=null!==(Ve=E._redirectEventId)&&void 0!==Ve?Ve:void 0,Im=null!==(qe=E.createdAt)&&void 0!==qe?qe:void 0,Sm=null!==(pt=E.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:Ai,emailVerified:Gf,isAnonymous:ca,providerData:Ed,stsTokenManager:Tm}=E;ve(Ai&&Tm,y,"internal-error");const sb=X.fromJSON(this.name,Tm);ve("string"==typeof Ai,y,"internal-error"),Se(st,y.name),Se(ln,y.name),ve("boolean"==typeof Gf,y,"internal-error"),ve("boolean"==typeof ca,y,"internal-error"),Se(En,y.name),Se(ua,y.name),Se(Nn,y.name),Se(bd,y.name),Se(Im,y.name),Se(Sm,y.name);const So=new et({uid:Ai,auth:y,email:ln,emailVerified:Gf,displayName:st,isAnonymous:ca,photoURL:ua,phoneNumber:En,tenantId:Nn,stsTokenManager:sb,createdAt:Im,lastLoginAt:Sm});return Ed&&Array.isArray(Ed)&&(So.providerData=Ed.map(ls=>Object.assign({},ls))),bd&&(So._redirectEventId=bd),So}static _fromIdTokenResponse(y,E,I=!1){return(0,g.Z)(function*(){const O=new X;O.updateFromServerResponse(E);const P=new et({uid:E.localId,auth:y,stsTokenManager:O,isAnonymous:I});return yield nn(P),P})()}}const Pt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(E,I){var O=this;return(0,g.Z)(function*(){O.storage[E]=I})()}_get(E){var I=this;return(0,g.Z)(function*(){const O=I.storage[E];return void 0===O?null:O})()}_remove(E){var I=this;return(0,g.Z)(function*(){delete I.storage[E]})()}_addListener(E,I){}_removeListener(E,I){}}return C.type="NONE",C})();function Ot(C,y,E){return`firebase:${C}:${y}:${E}`}class Mn{constructor(y,E,I){this.persistence=y,this.auth=E,this.userKey=I;const{config:O,name:P}=this.auth;this.fullUserKey=Ot(this.userKey,O.apiKey,P),this.fullPersistenceKey=Ot("persistence",O.apiKey,P),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,g.Z)(function*(){const E=yield y.persistence._get(y.fullUserKey);return E?et._fromJSON(y.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var E=this;return(0,g.Z)(function*(){if(E.persistence===y)return;const I=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=y,I?E.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,E,I="authUser"){return(0,g.Z)(function*(){if(!E.length)return new Mn(le(Pt),y,I);const O=(yield Promise.all(E.map(function(){var qe=(0,g.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let P=O[0]||le(Pt);const J=Ot(I,y.config.apiKey,y.name);let we=null;for(const qe of E)try{const pt=yield qe._get(J);if(pt){const st=et._fromJSON(y,pt);qe!==P&&(we=st),P=qe;break}}catch(pt){}const Ve=O.filter(qe=>qe._shouldAllowMigration);return P._shouldAllowMigration&&Ve.length?(P=Ve[0],we&&(yield P._set(J,we.toJSON())),yield Promise.all(E.map(function(){var qe=(0,g.Z)(function*(pt){if(pt!==P)try{yield pt._remove(J)}catch(st){}});return function(pt){return qe.apply(this,arguments)}}())),new Mn(P,y,I)):new Mn(P,y,I)})()}}function Dn(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(kg(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(zn(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(wc(y))return"Blackberry";if(Kh(y))return"Webos";if(io(y))return"Safari";if((y.includes("chrome/")||Oa(y))&&!y.includes("edge/"))return"Chrome";if(Na(y))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function zn(C=(0,G.z$)()){return/firefox\//i.test(C)}function io(C=(0,G.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Oa(C=(0,G.z$)()){return/crios\//i.test(C)}function kg(C=(0,G.z$)()){return/iemobile/i.test(C)}function Na(C=(0,G.z$)()){return/android/i.test(C)}function wc(C=(0,G.z$)()){return/blackberry/i.test(C)}function Kh(C=(0,G.z$)()){return/webos/i.test(C)}function ws(C=(0,G.z$)()){return/iphone|ipad|ipod/i.test(C)}function Yh(C=(0,G.z$)()){return ws(C)||Na(C)||Kh(C)||wc(C)||/windows phone/i.test(C)||kg(C)}function ts(C,y=[]){let E;switch(C){case"Browser":E=Dn((0,G.z$)());break;case"Worker":E=`${Dn((0,G.z$)())}-${C}`;break;default:E=C}const I=y.length?y.join(","):"FirebaseCore-web";return`${E}/JsCore/${oe.SDK_VERSION}/${I}`}class Ho{constructor(y,E){this.app=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fg(this),this.idTokenSubscription=new Fg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(y,E){var I=this;return E&&(this._popupRedirectResolver=le(E)),this._initializationPromise=this.queue((0,g.Z)(function*(){var O;I._deleted||(I.persistenceManager=yield Mn.create(I,y),!I._deleted&&((null===(O=I._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(E),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,g.Z)(function*(){if(y._deleted)return;const E=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||E){if(y.currentUser&&E&&y.currentUser.uid===E.uid)return y._currentUser._assign(E),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(E)}})()}initializeCurrentUser(y){var E=this;return(0,g.Z)(function*(){var I;let O=yield E.assertedPersistence.getCurrentUser();if(y&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const P=null===(I=E.redirectUser)||void 0===I?void 0:I._redirectEventId,J=null==O?void 0:O._redirectEventId,we=yield E.tryRedirectSignIn(y);(!P||P===J)&&(null==we?void 0:we.user)&&(O=we.user)}return O?O._redirectEventId?(ve(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===O._redirectEventId?E.directlySetCurrentUser(O):E.reloadAndSetCurrentUserOrClear(O)):E.reloadAndSetCurrentUserOrClear(O):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var E=this;return(0,g.Z)(function*(){let I=null;try{I=yield E._popupRedirectResolver._completeRedirectFn(E,y,!0)}catch(O){yield E._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var E=this;return(0,g.Z)(function*(){try{yield nn(y)}catch(I){if("auth/network-request-failed"!==I.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,g.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var E=this;return(0,g.Z)(function*(){const I=y?(0,G.m9)(y):null;return I&&ve(I.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(I&&I._clone(E))})()}_updateCurrentUser(y){var E=this;return(0,g.Z)(function*(){if(!E._deleted)return y&&ve(E.tenantId===y.tenantId,E,"tenant-id-mismatch"),E.queue((0,g.Z)(function*(){yield E.directlySetCurrentUser(y),E.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,g.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var E=this;return this.queue((0,g.Z)(function*(){yield E.assertedPersistence.setPersistence(le(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new G.LL("auth","Firebase",y())}onAuthStateChanged(y,E,I){return this.registerStateListener(this.authStateSubscription,y,E,I)}onIdTokenChanged(y,E,I){return this.registerStateListener(this.idTokenSubscription,y,E,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,E){var I=this;return(0,g.Z)(function*(){const O=yield I.getOrInitRedirectPersistenceManager(E);return null===y?O.removeCurrentUser():O.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var E=this;return(0,g.Z)(function*(){if(!E.redirectPersistenceManager){const I=y&&le(y)||E._popupRedirectResolver;ve(I,E,"argument-error"),E.redirectPersistenceManager=yield Mn.create(E,[le(I._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(y){var E=this;return(0,g.Z)(function*(){var I,O;return E._isInitialized&&(yield E.queue((0,g.Z)(function*(){}))),(null===(I=E._currentUser)||void 0===I?void 0:I._redirectEventId)===y?E._currentUser:(null===(O=E.redirectUser)||void 0===O?void 0:O._redirectEventId)===y?E.redirectUser:null})()}_persistUserIfCurrent(y){var E=this;return(0,g.Z)(function*(){if(y===E.currentUser)return E.queue((0,g.Z)(function*(){return E.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(E=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,E,I,O){if(this._deleted)return()=>{};const P="function"==typeof E?E:E.next.bind(E),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof E?y.addObserver(E,I,O):y.addObserver(E)}directlySetCurrentUser(y){var E=this;return(0,g.Z)(function*(){E.currentUser&&E.currentUser!==y&&(E._currentUser._stopProactiveRefresh(),y&&E.isProactiveRefreshEnabled&&y._startProactiveRefresh()),E.currentUser=y,y?yield E.assertedPersistence.setCurrentUser(y):yield E.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=ts(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ht(C){return(0,G.m9)(C)}class Fg{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,G.ne)(E=>this.observer=E)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function je(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function an(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class vi{constructor(y,E){this.providerId=y,this.signInMethod=E}toJSON(){return It("not implemented")}_getIdTokenResponse(y){return It("not implemented")}_linkToIdToken(y,E){return It("not implemented")}_getReauthenticationResolver(y){return It("not implemented")}}function xn(C,y){return bi.apply(this,arguments)}function bi(){return(bi=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:resetPassword",sn(C,y))})).apply(this,arguments)}function yn(C,y){return $o.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Zl(C,y){return vt.apply(this,arguments)}function vt(){return(vt=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",sn(C,y))})).apply(this,arguments)}function so(){return(so=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithPassword",sn(C,y))})).apply(this,arguments)}function Pa(C,y){return oo.apply(this,arguments)}function oo(){return(oo=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:sendOobCode",sn(C,y))})).apply(this,arguments)}function vr(C,y){return Go.apply(this,arguments)}function Go(){return(Go=(0,g.Z)(function*(C,y){return Pa(C,y)})).apply(this,arguments)}function ns(C,y){return ei.apply(this,arguments)}function ei(){return(ei=(0,g.Z)(function*(C,y){return Pa(C,y)})).apply(this,arguments)}function Jt(C,y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,g.Z)(function*(C,y){return Pa(C,y)})).apply(this,arguments)}function Qh(C,y){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,g.Z)(function*(C,y){return Pa(C,y)})).apply(this,arguments)}function La(){return(La=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithEmailLink",sn(C,y))})).apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithEmailLink",sn(C,y))})).apply(this,arguments)}class Ln extends vi{constructor(y,E,I,O=null){super("password",I),this._email=y,this._password=E,this._tenantId=O}static _fromEmailAndPassword(y,E){return new Ln(y,E,"password")}static _fromEmailAndCode(y,E,I=null){return new Ln(y,E,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(y){var E=this;return(0,g.Z)(function*(){switch(E.signInMethod){case"password":return function(C,y){return so.apply(this,arguments)}(y,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(C,y){return La.apply(this,arguments)}(y,{email:E._email,oobCode:E._password});default:nt(y,"internal-error")}})()}_linkToIdToken(y,E){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return yn(y,{idToken:E,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(C,y){return Cs.apply(this,arguments)}(y,{idToken:E,email:I._email,oobCode:I._password});default:nt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Ds(C,y){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithIdp",sn(C,y))})).apply(this,arguments)}class Ei extends vi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const E=new Ei(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(E.idToken=y.idToken),y.accessToken&&(E.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(E.nonce=y.nonce),y.pendingToken&&(E.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(E.accessToken=y.oauthToken,E.secret=y.oauthTokenSecret):nt("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:O}=E,P=(0,be._T)(E,["providerId","signInMethod"]);if(!I||!O)return null;const J=new Ei(I,O);return Object.assign(J,P),J}_getIdTokenResponse(y){return Ds(y,this.buildRequest())}_linkToIdToken(y,E){const I=this.buildRequest();return I.idToken=E,Ds(y,I)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,Ds(y,E)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),y.postBody=(0,G.xO)(E)}return y}}function Dc(C,y){return Va.apply(this,arguments)}function Va(){return(Va=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:sendVerificationCode",sn(C,y))})).apply(this,arguments)}function Xh(){return(Xh=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithPhoneNumber",sn(C,y))})).apply(this,arguments)}function ef(){return(ef=(0,g.Z)(function*(C,y){const E=yield Lr(C,"POST","/v1/accounts:signInWithPhoneNumber",sn(C,y));if(E.temporaryProof)throw hr(C,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const pv={USER_NOT_FOUND:"user-not-found"};function Lg(){return(Lg=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithPhoneNumber",sn(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),pv)})).apply(this,arguments)}class Ba extends vi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,E){return new Ba({verificationId:y,verificationCode:E})}static _fromTokenResponse(y,E){return new Ba({phoneNumber:y,temporaryProof:E})}_getIdTokenResponse(y){return function(C,y){return Xh.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,E){return function(C,y){return ef.apply(this,arguments)}(y,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(C,y){return Lg.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:E,verificationId:I,verificationCode:O}=this.params;return y&&E?{temporaryProof:y,phoneNumber:E}:{sessionInfo:I,code:O}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:E,verificationCode:I,phoneNumber:O,temporaryProof:P}=y;return I||E||O||P?new Ba({verificationId:E,verificationCode:I,phoneNumber:O,temporaryProof:P}):null}}class Ic{constructor(y){var E,I,O,P,J,we;const Ve=(0,G.zd)((0,G.pd)(y)),qe=null!==(E=Ve.apiKey)&&void 0!==E?E:null,pt=null!==(I=Ve.oobCode)&&void 0!==I?I:null,st=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=Ve.mode)&&void 0!==O?O:null);ve(qe&&pt&&st,"argument-error"),this.apiKey=qe,this.operation=st,this.code=pt,this.continueUrl=null!==(P=Ve.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=Ve.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(we=Ve.tenantId)&&void 0!==we?we:null}static parseLink(y){const E=function(C){const y=(0,G.zd)((0,G.pd)(C)).link,E=y?(0,G.zd)((0,G.pd)(y)).deep_link_id:null,I=(0,G.zd)((0,G.pd)(C)).deep_link_id;return(I?(0,G.zd)((0,G.pd)(I)).link:null)||I||E||y||C}(y);try{return new Ic(E)}catch(I){return null}}}let Vg=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(E,I){return Ln._fromEmailAndPassword(E,I)}static credentialWithLink(E,I){const O=Ic.parseLink(I);return ve(O,"argument-error"),Ln._fromEmailAndCode(E,O.code,O.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class ao{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ql extends ao{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Jl extends Ql{static credentialFromJSON(y){const E="string"==typeof y?JSON.parse(y):y;return ve("providerId"in E&&"signInMethod"in E,"argument-error"),Ei._fromParams(E)}credential(y){return this._credential(y)}_credential(y){return ve(y.idToken||y.accessToken,"argument-error"),Ei._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Jl.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Jl.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:I,oauthTokenSecret:O,pendingToken:P,nonce:J,providerId:we}=y;if(!I&&!O&&!E&&!P||!we)return null;try{return new Jl(we)._credential({idToken:E,accessToken:I,rawNonce:J,pendingToken:P})}catch(Ve){return null}}}let gv=(()=>{class C extends Ql{constructor(){super("facebook.com")}static credential(E){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),tf=(()=>{class C extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(E,I){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:I,oauthAccessToken:O}=E;if(!I&&!O)return null;try{return C.credential(I,O)}catch(P){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),nf=(()=>{class C extends Ql{constructor(){super("github.com")}static credential(E){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return C.credential(E.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class zo extends vi{constructor(y,E){super(y,y),this.pendingToken=E}_getIdTokenResponse(y){return Ds(y,this.buildRequest())}_linkToIdToken(y,E){const I=this.buildRequest();return I.idToken=E,Ds(y,I)}_getReauthenticationResolver(y){const E=this.buildRequest();return E.autoCreate=!1,Ds(y,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const E="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:O,pendingToken:P}=E;return I&&O&&P&&I===O?new zo(I,P):null}static _create(y,E){return new zo(y,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let mv=(()=>{class C extends Ql{constructor(){super("twitter.com")}static credential(E,I){return Ei._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:I})}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:I,oauthTokenSecret:O}=E;if(!I||!O)return null;try{return C.credential(I,O)}catch(P){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function lo(C,y){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signUp",sn(C,y))})).apply(this,arguments)}class Ur{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,E,I,O=!1){return(0,g.Z)(function*(){const P=yield et._fromIdTokenResponse(y,I,O),J=Tc(I);return new Ur({user:P,providerId:J,_tokenResponse:I,operationType:E})})()}static _forOperation(y,E,I){return(0,g.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const O=Tc(I);return new Ur({user:y,providerId:O,_tokenResponse:I,operationType:E})})()}}function Tc(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function jg(){return(jg=(0,g.Z)(function*(C){var y;const E=Ht(C);if(yield E._initializationPromise,null===(y=E.currentUser)||void 0===y?void 0:y.isAnonymous)return new Ur({user:E.currentUser,providerId:null,operationType:"signIn"});const I=yield lo(E,{returnSecureToken:!0}),O=yield Ur._fromIdTokenResponse(E,"signIn",I,!0);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}class Ac extends G.ZR{constructor(y,E,I,O){var P;super(E.code,E.message),this.operationType=I,this.user=O,this.name="FirebaseError",Object.setPrototypeOf(this,Ac.prototype),this.appName=y.name,this.code=E.code,this.tenantId=null!==(P=y.tenantId)&&void 0!==P?P:void 0,this.serverResponse=E.customData.serverResponse}static _fromErrorAndOperation(y,E,I,O){return new Ac(y,E,I,O)}}function Mc(C,y,E,I){return("reauthenticate"===y?E._getReauthenticationResolver(C):E._getIdTokenResponse(C)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ac._fromErrorAndOperation(C,P,y,I):P})}function Hg(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function sf(){return(sf=(0,g.Z)(function*(C,y){const E=(0,G.m9)(C);yield Xl(!0,E,y);const{providerUserInfo:I}=yield jo(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[y]}),O=Hg(I||[]);return E.providerData=E.providerData.filter(P=>O.has(P.providerId)),O.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function ti(C,y){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,g.Z)(function*(C,y,E=!1){const I=yield $e(C,y._linkToIdToken(C.auth,yield C.getIdToken()),E);return Ur._forOperation(C,"link",I)})).apply(this,arguments)}function Xl(C,y,E){return qo.apply(this,arguments)}function qo(){return(qo=(0,g.Z)(function*(C,y,E){yield nn(y);const O=!1===C?"provider-already-linked":"no-such-provider";ve(Hg(y.providerData).has(E)===C,y.auth,O)})).apply(this,arguments)}function Ua(C,y){return eu.apply(this,arguments)}function eu(){return(eu=(0,g.Z)(function*(C,y,E=!1){const{auth:I}=C,O="reauthenticate";try{const P=yield $e(C,Mc(I,O,y,C),E);ve(P.idToken,I,"internal-error");const J=cn(P.idToken);ve(J,I,"internal-error");const{sub:we}=J;return ve(C.uid===we,I,"user-mismatch"),Ur._forOperation(C,O,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&nt(I,"user-mismatch"),P}})).apply(this,arguments)}function Oc(C,y){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(C,y,E=!1){const I="signIn",O=yield Mc(C,I,y),P=yield Ur._fromIdTokenResponse(C,I,O);return E||(yield C._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Nc(C,y){return kc.apply(this,arguments)}function kc(){return(kc=(0,g.Z)(function*(C,y){return Oc(Ht(C),y)})).apply(this,arguments)}function $g(C,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(C,y){const E=(0,G.m9)(C);return yield Xl(!1,E,y.providerId),ti(E,y)})).apply(this,arguments)}function Gg(C,y){return zg.apply(this,arguments)}function zg(){return(zg=(0,g.Z)(function*(C,y){return Ua((0,G.m9)(C),y)})).apply(this,arguments)}function Pc(C,y){return ni.apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(C,y){return Lr(C,"POST","/v1/accounts:signInWithCustomToken",sn(C,y))})).apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(C,y){const E=Ht(C),I=yield Pc(E,{token:y,returnSecureToken:!0}),O=yield Ur._fromIdTokenResponse(E,"signIn",I);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}class co{constructor(y,E){this.factorId=y,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(y,E){return"phoneInfo"in E?br._fromServerResponse(y,E):nt(y,"internal-error")}}class br extends co{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,E){return new br(E)}}function tu(C,y,E){var I;ve((null===(I=E.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),ve(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=E.url,y.dynamicLinkDomain=E.dynamicLinkDomain,y.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(ve(E.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iosBundleId=E.iOS.bundleId),E.android&&(ve(E.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=E.android.installApp,y.androidMinimumVersionCode=E.android.minimumVersion,y.androidPackageName=E.android.packageName)}function Fc(){return(Fc=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C),O={requestType:"PASSWORD_RESET",email:y};E&&tu(I,O,E),yield ns(I,O)})).apply(this,arguments)}function Lc(){return(Lc=(0,g.Z)(function*(C,y,E){yield xn((0,G.m9)(C),{oobCode:y,newPassword:E})})).apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(C,y){yield Zl((0,G.m9)(C),{oobCode:y})})).apply(this,arguments)}function _v(C,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,g.Z)(function*(C,y){const E=(0,G.m9)(C),I=yield xn(E,{oobCode:y}),O=I.requestType;switch(ve(O,E,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(I.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(I.mfaInfo,E,"internal-error");default:ve(I.email,E,"internal-error")}let P=null;return I.mfaInfo&&(P=co._fromServerResponse(Ht(E),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:O}})).apply(this,arguments)}function nu(){return(nu=(0,g.Z)(function*(C,y){const{data:E}=yield _v((0,G.m9)(C),y);return E.email})).apply(this,arguments)}function Zo(){return(Zo=(0,g.Z)(function*(C,y,E){const I=Ht(C),O=yield lo(I,{returnSecureToken:!0,email:y,password:E}),P=yield Ur._fromIdTokenResponse(I,"signIn",O);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C),O={requestType:"EMAIL_SIGNIN",email:y};ve(E.handleCodeInApp,I,"argument-error"),E&&tu(I,O,E),yield Jt(I,O)})).apply(this,arguments)}function Bc(){return(Bc=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C),O=Vg.credentialWithLink(y,E||_e());return ve(O._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Nc(I,O)})).apply(this,arguments)}function ru(C,y){return wi.apply(this,arguments)}function wi(){return(wi=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:createAuthUri",sn(C,y))})).apply(this,arguments)}function fo(){return(fo=(0,g.Z)(function*(C,y){const I={identifier:y,continueUri:te()?_e():"http://localhost"},{signinMethods:O}=yield ru((0,G.m9)(C),I);return O||[]})).apply(this,arguments)}function Wg(){return(Wg=(0,g.Z)(function*(C,y){const E=(0,G.m9)(C),O={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&tu(E.auth,O,y);const{email:P}=yield vr(E.auth,O);P!==C.email&&(yield C.reload())})).apply(this,arguments)}function po(){return(po=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};E&&tu(I.auth,P,E);const{email:J}=yield Qh(I.auth,P);J!==C.email&&(yield C.reload())})).apply(this,arguments)}function jr(C,y){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(C,y){return Rt(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(C,{displayName:y,photoURL:E}){if(void 0===y&&void 0===E)return;const I=(0,G.m9)(C),P={idToken:yield I.getIdToken(),displayName:y,photoUrl:E,returnSecureToken:!0},J=yield $e(I,jr(I.auth,P));I.displayName=J.displayName||null,I.photoURL=J.photoUrl||null;const we=I.providerData.find(({providerId:Ve})=>"password"===Ve);we&&(we.displayName=I.displayName,we.photoURL=I.photoURL),yield I._updateTokensIfNecessary(J)})).apply(this,arguments)}function hf(C,y,E){return iu.apply(this,arguments)}function iu(){return(iu=(0,g.Z)(function*(C,y,E){const{auth:I}=C,P={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(P.email=y),E&&(P.password=E);const J=yield $e(C,yn(I,P));yield C._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class mo{constructor(y,E,I={}){this.isNewUser=y,this.providerId=E,this.profile=I}}class Uc extends mo{constructor(y,E,I,O){super(y,E,I),this.username=O}}class Kg extends mo{constructor(y,E){super(y,"facebook.com",E)}}class Yg extends Uc{constructor(y,E){super(y,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class bv extends mo{constructor(y,E){super(y,"google.com",E)}}class Ev extends Uc{constructor(y,E,I){super(y,"twitter.com",E,I)}}function su(C){const{user:y,_tokenResponse:E}=C;return y.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(C){var y,E;if(!C)return null;const{providerId:I}=C,O=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},P=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const J=null===(E=null===(y=cn(C.idToken))||void 0===y?void 0:y.firebase)||void 0===E?void 0:E.sign_in_provider;if(J)return new mo(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!I)return null;switch(I){case"facebook.com":return new Kg(P,O);case"github.com":return new Yg(P,O);case"google.com":return new bv(P,O);case"twitter.com":return new Ev(P,O,C.screenName||null);case"custom":case"anonymous":return new mo(P,null);default:return new mo(P,I,O)}}(E)}class Hr{constructor(y,E){this.type=y,this.credential=E}static _fromIdtoken(y){return new Hr("enroll",y)}static _fromMfaPendingCredential(y){return new Hr("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var E,I;if(null==y?void 0:y.multiFactorSession){if(null===(E=y.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Hr._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return Hr._fromIdtoken(y.multiFactorSession.idToken)}return null}}class pn{constructor(y,E,I){this.session=y,this.hints=E,this.signInResolver=I}static _fromError(y,E){const I=Ht(y),O=(E.serverResponse.mfaInfo||[]).map(J=>co._fromServerResponse(I,J));ve(E.serverResponse.mfaPendingCredential,I,"internal-error");const P=Hr._fromMfaPendingCredential(E.serverResponse.mfaPendingCredential);return new pn(P,O,function(){var J=(0,g.Z)(function*(we){const Ve=yield we._process(I,P);delete E.serverResponse.mfaInfo,delete E.serverResponse.mfaPendingCredential;const qe=Object.assign(Object.assign({},E.serverResponse),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(E.operationType){case"signIn":const pt=yield Ur._fromIdTokenResponse(I,E.operationType,qe);return yield I._updateCurrentUser(pt.user),pt;case"reauthenticate":return ve(E.user,I,"internal-error"),Ur._forOperation(E.user,E.operationType,qe);default:nt(I,"internal-error")}});return function(we){return J.apply(this,arguments)}}())}resolveSignIn(y){var E=this;return(0,g.Z)(function*(){return E.signInResolver(y)})()}}function Dv(C,y){return Rt(C,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:C.tenantId},y))}class ff{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(I=>co._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new ff(y)}getSession(){var y=this;return(0,g.Z)(function*(){return Hr._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,E){var I=this;return(0,g.Z)(function*(){const O=y,P=yield I.getSession(),J=yield $e(I.user,O._process(I.user.auth,P,E));return yield I.user._updateTokensIfNecessary(J),I.user.reload()})()}unenroll(y){var E=this;return(0,g.Z)(function*(){const I="string"==typeof y?y:y.uid,O=yield E.user.getIdToken(),P=yield $e(E.user,function(C,y){return Rt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:C.tenantId},y))}(E.user.auth,{idToken:O,mfaEnrollmentId:I}));E.enrolledFactors=E.enrolledFactors.filter(({uid:J})=>J!==I),yield E.user._updateTokensIfNecessary(P);try{yield E.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const pf=new WeakMap,Yo="__sak";class Gc{constructor(y,E){this.storage=y,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,E){return this.storage.setItem(y,JSON.stringify(E)),Promise.resolve()}_get(y){const E=this.storage.getItem(y);return Promise.resolve(E?JSON.parse(E):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const rs=(()=>{class C extends Gc{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,G.z$)();return io(C)||ws(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Yh(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(E){for(const I of Object.keys(this.listeners)){const O=this.storage.getItem(I),P=this.localCache[I];O!==P&&E(I,P,O)}}onStorageEvent(E,I=!1){if(!E.key)return void this.forAllChangedKeys((we,Ve,qe)=>{this.notifyListeners(we,qe)});const O=E.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const we=this.storage.getItem(O);if(E.newValue!==we)null!==E.newValue?this.storage.setItem(O,E.newValue):this.storage.removeItem(O);else if(this.localCache[O]===E.newValue&&!I)return}const P=()=>{const we=this.storage.getItem(O);!I&&this.localCache[O]===we||this.notifyListeners(O,we)},J=this.storage.getItem(O);(0,G.w1)()&&10===document.documentMode&&J!==E.newValue&&E.newValue!==E.oldValue?setTimeout(P,10):P()}notifyListeners(E,I){this.localCache[E]=I;const O=this.listeners[E];if(O)for(const P of Array.from(O))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,I,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:I,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,I){var O=()=>super._set,P=this;return(0,g.Z)(function*(){yield O().call(P,E,I),P.localCache[E]=JSON.stringify(I)})()}_get(E){var I=()=>super._get,O=this;return(0,g.Z)(function*(){const P=yield I().call(O,E);return O.localCache[E]=JSON.stringify(P),P})()}_remove(E){var I=()=>super._remove,O=this;return(0,g.Z)(function*(){yield I().call(O,E),delete O.localCache[E]})()}}return C.type="LOCAL",C})(),_o=(()=>{class C extends Gc{constructor(){super(window.sessionStorage,"SESSION")}_addListener(E,I){}_removeListener(E,I){}}return C.type="SESSION",C})();let tm=(()=>{class C{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const I=this.receivers.find(P=>P.isListeningto(E));if(I)return I;const O=new C(E);return this.receivers.push(O),O}isListeningto(E){return this.eventTarget===E}handleEvent(E){var I=this;return(0,g.Z)(function*(){const O=E,{eventId:P,eventType:J,data:we}=O.data,Ve=I.handlersMap[J];if(!(null==Ve?void 0:Ve.size))return;O.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const qe=Array.from(Ve).map(function(){var st=(0,g.Z)(function*(ln){return ln(O.origin,we)});return function(ln){return st.apply(this,arguments)}}()),pt=yield function(C){return Promise.all(C.map(function(){var y=(0,g.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(I){return{fulfilled:!1,reason:I}}});return function(E){return y.apply(this,arguments)}}()))}(qe);O.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:pt})})()}_subscribe(E,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(I)}_unsubscribe(E,I){this.handlersMap[E]&&I&&this.handlersMap[E].delete(I),(!I||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function ou(C="",y=10){let E="";for(let I=0;I<y;I++)E+=Math.floor(10*Math.random());return C+E}class yo{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,E,I=50){var O=this;return(0,g.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,we;return new Promise((Ve,qe)=>{const pt=ou("",20);P.port1.start();const st=setTimeout(()=>{qe(new Error("unsupported_event"))},I);we={messageChannel:P,onMessage(ln){const En=ln;if(En.data.eventId===pt)switch(En.data.status){case"ack":clearTimeout(st),J=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ve(En.data.response);break;default:clearTimeout(st),clearTimeout(J),qe(new Error("invalid_response"))}}},O.handlers.add(we),P.port1.addEventListener("message",we.onMessage),O.target.postMessage({eventType:y,eventId:pt,data:E},[P.port2])}).finally(()=>{we&&O.removeMessageHandler(we)})})()}}function qn(){return window}function vo(){return void 0!==qn().WorkerGlobalScope&&"function"==typeof qn().importScripts}function qc(){return(qc=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const _f="firebaseLocalStorageDb",Wc="firebaseLocalStorage",ja="fbase_key";class Ha{constructor(y){this.request=y}toPromise(){return new Promise((y,E)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function $a(C,y){return C.transaction([Wc],y?"readwrite":"readonly").objectStore(Wc)}function yf(){const C=indexedDB.open(_f,1);return new Promise((y,E)=>{C.addEventListener("error",()=>{E(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(Wc,{keyPath:ja})}catch(O){E(O)}}),C.addEventListener("success",(0,g.Z)(function*(){const I=C.result;I.objectStoreNames.contains(Wc)?y(I):(I.close(),yield function(){const C=indexedDB.deleteDatabase(_f);return new Ha(C).toPromise()}(),y(yield yf()))}))})}function gn(C,y,E){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(C,y,E){const I=$a(C,!0).put({[ja]:y,value:E});return new Ha(I).toPromise()})).apply(this,arguments)}function dt(){return(dt=(0,g.Z)(function*(C,y){const E=$a(C,!1).get(y),I=yield new Ha(E).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Kc(C,y){const E=$a(C,!0).delete(y);return new Ha(E).toPromise()}const Li=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,g.Z)(function*(){return E.db||(E.db=yield yf()),E.db})()}_withRetries(E){var I=this;return(0,g.Z)(function*(){let O=0;for(;;)try{const P=yield I._openDb();return yield E(P)}catch(P){if(O++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,g.Z)(function*(){return vo()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,g.Z)(function*(){E.receiver=tm._getInstance(vo()?self:null),E.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(O,P){return{keyProcessed:(yield E._poll()).includes(P.key)}});return function(O,P){return I.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(O,P){return["keyChanged"]});return function(O,P){return I.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,g.Z)(function*(){var I,O;if(E.activeServiceWorker=yield function(){return qc.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new yo(E.activeServiceWorker);const P=yield E.sender._send("ping",{},800);!P||(null===(I=P[0])||void 0===I?void 0:I.fulfilled)&&(null===(O=P[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:E},I.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const E=yield yf();return yield gn(E,Yo,"1"),yield Kc(E,Yo),!0}catch(E){}return!1})()}_withPendingWrite(E){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield E()}finally{I.pendingWrites--}})()}_set(E,I){var O=this;return(0,g.Z)(function*(){return O._withPendingWrite((0,g.Z)(function*(){return yield O._withRetries(P=>gn(P,E,I)),O.localCache[E]=I,O.notifyServiceWorker(E)}))})()}_get(E){var I=this;return(0,g.Z)(function*(){const O=yield I._withRetries(P=>function(C,y){return dt.apply(this,arguments)}(P,E));return I.localCache[E]=O,O})()}_remove(E){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(O=>Kc(O,E)),delete I.localCache[E],I.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,g.Z)(function*(){const I=yield E._withRetries(J=>{const we=$a(J,!1).getAll();return new Ha(we).toPromise()});if(!I)return[];if(0!==E.pendingWrites)return[];const O=[],P=new Set;for(const{fbase_key:J,value:we}of I)P.add(J),JSON.stringify(E.localCache[J])!==JSON.stringify(we)&&(E.notifyListeners(J,we),O.push(J));for(const J of Object.keys(E.localCache))E.localCache[J]&&!P.has(J)&&(E.notifyListeners(J,null),O.push(J));return O})()}notifyListeners(E,I){this.localCache[E]=I;const O=this.listeners[E];if(O)for(const P of Array.from(O))P(I)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(I)}_removeListener(E,I){this.listeners[E]&&(this.listeners[E].delete(I),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Vi(C,y){return Rt(C,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:C.tenantId},y))}function Qc(){return(Qc=(0,g.Z)(function*(C){return(yield Rt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rm(C){return new Promise((y,E)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=y,I.onerror=O=>{const P=Xe("internal-error");P.customData=O,E(P)},I.type="text/javascript",I.charset="UTF-8",function(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(I)})}function bo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Bn=1e12;class Ss{constructor(y){this.auth=y,this.counter=Bn,this._widgets=new Map}render(y,E){const I=this.counter;return this._widgets.set(I,new Ga(y,this.auth.name,E||{})),this.counter++,I}reset(y){var E;const I=y||Bn;null===(E=this._widgets.get(I))||void 0===E||E.delete(),this._widgets.delete(I)}getResponse(y){var E;return(null===(E=this._widgets.get(y||Bn))||void 0===E?void 0:E.getResponse())||""}execute(y){var E=this;return(0,g.Z)(function*(){var I;return null===(I=E._widgets.get(y||Bn))||void 0===I||I.execute(),""})()}}class Ga{constructor(y,E,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof y?document.getElementById(y):y;ve(O,"argument-error",{appName:E}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const y=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(E.charAt(Math.floor(Math.random()*E.length)));return y.join("")}();const{callback:y,"expired-callback":E}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const za=bo("rcb"),Jc=new Qe(3e4,6e4);class ea{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!qn().grecaptcha}load(y,E=""){return ve((C=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),y,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(qn().grecaptcha):new Promise((I,O)=>{const P=qn().setTimeout(()=>{O(Xe(y,"network-request-failed"))},Jc.get());qn()[za]=()=>{qn().clearTimeout(P),delete qn()[za];const we=qn().grecaptcha;if(!we)return void O(Xe(y,"internal-error"));const Ve=we.render;we.render=(qe,pt)=>{const st=Ve(qe,pt);return this.counter++,st},this.hostLanguage=E,I(we)},rm(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:za,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(P),O(Xe(y,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!qn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qa{load(y){return(0,g.Z)(function*(){return new Ss(y)})()}clearedOneInstance(){}}const lu="recaptcha",Eo={theme:"light",type:"image"};class na{constructor(y,E=Object.assign({},Eo),I){this.parameters=E,this.type=lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(I),this.isInvisible="invisible"===this.parameters.size,ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof y?document.getElementById(y):y;ve(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qa:new ea,this.validateStartingState()}verify(){var y=this;return(0,g.Z)(function*(){y.assertNotDestroyed();const E=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(E)||new Promise(P=>{const J=we=>{!we||(y.tokenChangeListeners.delete(J),P(we))};y.tokenChangeListeners.add(J),y.isInvisible&&I.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return E=>{if(this.tokenChangeListeners.forEach(I=>I(E)),"function"==typeof y)y(E);else if("string"==typeof y){const I=qn()[y];"function"==typeof I&&I(E)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,g.Z)(function*(){if(yield y.init(),!y.widgetId){let E=y.container;if(!y.isInvisible){const I=document.createElement("div");E.appendChild(I),E=I}y.widgetId=y.getAssertedRecaptcha().render(E,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,g.Z)(function*(){ve(te()&&!vo(),y.auth,"internal-error"),yield function(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const E=yield function(C){return Qc.apply(this,arguments)}(y.auth);ve(E,y.auth,"internal-error"),y.parameters.sitekey=E})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xc{constructor(y,E){this.verificationId=y,this.onConfirmation=E}confirm(y){const E=Ba._fromVerification(this.verificationId,y);return this.onConfirmation(E)}}function ed(){return(ed=(0,g.Z)(function*(C,y,E){const I=Ht(C),O=yield rd(I,y,(0,G.m9)(E));return new Xc(O,P=>Nc(I,P))})).apply(this,arguments)}function td(){return(td=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C);yield Xl(!1,I,"phone");const O=yield rd(I.auth,y,(0,G.m9)(E));return new Xc(O,P=>$g(I,P))})).apply(this,arguments)}function nd(){return(nd=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C),O=yield rd(I.auth,y,(0,G.m9)(E));return new Xc(O,P=>Gg(I,P))})).apply(this,arguments)}function rd(C,y,E){return id.apply(this,arguments)}function id(){return(id=(0,g.Z)(function*(C,y,E){var I;const O=yield E.verify();try{let P;if(ve("string"==typeof O,C,"argument-error"),ve(E.type===lu,C,"argument-error"),P="string"==typeof y?{phoneNumber:y}:y,"session"in P){const J=P.session;if("phoneNumber"in P)return ve("enroll"===J.type,C,"internal-error"),(yield Dv(C,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{ve("signin"===J.type,C,"internal-error");const we=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return ve(we,C,"missing-multi-factor-info"),(yield Vi(C,{mfaPendingCredential:J.credential,mfaEnrollmentId:we,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Dc(C,{phoneNumber:P.phoneNumber,recaptchaToken:O});return J}}finally{E._reset()}})).apply(this,arguments)}function wf(){return(wf=(0,g.Z)(function*(C,y){yield ti((0,G.m9)(C),y)})).apply(this,arguments)}let uu=(()=>{class C{constructor(E){this.providerId=C.PROVIDER_ID,this.auth=Ht(E)}verifyPhoneNumber(E,I){return rd(this.auth,E,(0,G.m9)(I))}static credential(E,I){return Ba._fromVerification(E,I)}static credentialFromResult(E){return C.credentialFromTaggedObject(E)}static credentialFromError(E){return C.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:I,temporaryProof:O}=E;return I&&O?Ba._fromTokenResponse(I,O):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function wo(C,y){return y?le(y):(ve(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class cu extends vi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Ds(y,this._buildIdpRequest())}_linkToIdToken(y,E){return Ds(y,this._buildIdpRequest(E))}_getReauthenticationResolver(y){return Ds(y,this._buildIdpRequest())}_buildIdpRequest(y){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(E.idToken=y),E}}function Nv(C){return Oc(C.auth,new cu(C),C.bypassAuthState)}function Wa(C){const{auth:y,user:E}=C;return ve(E,y,"internal-error"),Ua(E,new cu(C),C.bypassAuthState)}function kv(C){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,g.Z)(function*(C){const{auth:y,user:E}=C;return ve(E,y,"internal-error"),ti(E,new cu(C),C.bypassAuthState)})).apply(this,arguments)}class Ii{constructor(y,E,I,O,P=!1){this.auth=y,this.resolver=I,this.user=O,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var y=this;return new Promise(function(){var E=(0,g.Z)(function*(I,O){y.pendingPromise={resolve:I,reject:O};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(P){y.reject(P)}});return function(I,O){return E.apply(this,arguments)}}())}onAuthEvent(y){var E=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:O,postBody:P,tenantId:J,error:we,type:Ve}=y;if(we)return void E.reject(we);const qe={auth:E.auth,requestUri:I,sessionId:O,tenantId:J||void 0,postBody:P||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Ve)(qe))}catch(pt){E.reject(pt)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Nv;case"linkViaPopup":case"linkViaRedirect":return kv;case"reauthViaPopup":case"reauthViaRedirect":return Wa;default:nt(this.auth,"internal-error")}}resolve(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const du=new Qe(2e3,1e4);function sm(){return(sm=(0,g.Z)(function*(C,y,E){const I=Ht(C);ve(y instanceof ao,C,"argument-error");const O=wo(I,E);return new si(I,"signInViaPopup",y,O).executeNotNull()})).apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C);ve(y instanceof ao,I.auth,"argument-error");const O=wo(I.auth,E);return new si(I.auth,"reauthViaPopup",y,O,I).executeNotNull()})).apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C);ve(y instanceof ao,I.auth,"argument-error");const O=wo(I.auth,E);return new si(I.auth,"linkViaPopup",y,O,I).executeNotNull()})).apply(this,arguments)}let si=(()=>{class C extends Ii{constructor(E,I,O,P,J){super(E,I,P,J),this.provider=O,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var E=this;return(0,g.Z)(function*(){const I=yield E.execute();return ve(I,E.auth,"internal-error"),I})()}onExecution(){var E=this;return(0,g.Z)(function*(){mt(1===E.filter.length,"Popup operations only handle one event");const I=ou();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],I),E.authWindow.associatedEvent=I,E.resolver._originValidation(E.auth).catch(O=>{E.reject(O)}),E.resolver._isIframeWebStorageSupported(E.auth,O=>{O||E.reject(Xe(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const E=()=>{var I,O;this.pollId=(null===(O=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,du.get())};E()}}return C.currentPopupAction=null,C})();const Ka=new Map;class sd extends Ii{constructor(y,E,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,E=this;return(0,g.Z)(function*(){let I=Ka.get(E.auth._key());if(!I){try{const P=(yield function(C,y){return od.apply(this,arguments)}(E.resolver,E.auth))?yield y().call(E):null;I=()=>Promise.resolve(P)}catch(O){I=()=>Promise.reject(O)}Ka.set(E.auth._key(),I)}return I()})()}onAuthEvent(y){var E=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===y.type)return E().call(I,y);if("unknown"!==y.type){if(y.eventId){const O=yield I.auth._redirectUserForId(y.eventId);if(O)return I.user=O,E().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function od(){return(od=(0,g.Z)(function*(C,y){const E=Pv(y),I="true"===(yield As(C)._get(E));return yield As(C)._remove(E),I})).apply(this,arguments)}function ra(C,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(C,y){return As(C)._set(Pv(y),"true")})).apply(this,arguments)}function As(C){return le(C._redirectPersistence)}function Pv(C){return Ot("pendingRedirect",C.config.apiKey,C.name)}function om(){return(om=(0,g.Z)(function*(C,y,E){const I=Ht(C);ve(y instanceof ao,C,"argument-error");const O=wo(I,E);return yield ra(O,I),O._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function Sf(){return(Sf=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C);ve(y instanceof ao,I.auth,"argument-error");const O=wo(I.auth,E);yield ra(O,I.auth);const P=yield Qa(I);return O._openRedirect(I.auth,y,"reauthViaRedirect",P)})).apply(this,arguments)}function Ms(){return(Ms=(0,g.Z)(function*(C,y,E){const I=(0,G.m9)(C);ve(y instanceof ao,I.auth,"argument-error");const O=wo(I.auth,E);yield Xl(!1,I,y.providerId),yield ra(O,I.auth);const P=yield Qa(I);return O._openRedirect(I.auth,y,"linkViaRedirect",P)})).apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(C,y){return yield Ht(C)._initializationPromise,xs(C,y,!1)})).apply(this,arguments)}function xs(C,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(C,y,E=!1){const I=Ht(C),O=wo(I,y),J=yield new sd(I,O,E).execute();return J&&!E&&(delete J.user._redirectEventId,yield I._persistUserIfCurrent(J.user),yield I._setRedirectUser(null,y)),J})).apply(this,arguments)}function Qa(C){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,g.Z)(function*(C){const y=ou(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class fu{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let E=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(E=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pu(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=y,E=!0)),E}sendToConsumer(y,E){var I;if(y.error&&!pu(y)){const O=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";E.onError(Xe(this.auth,O))}else E.onAuthEvent(y)}isEventForConsumer(y,E){const I=null===E.eventId||!!y.eventId&&y.eventId===E.eventId;return E.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mf(y))}saveEventToCache(y){this.cachedEventUids.add(Mf(y)),this.lastProcessedEventTime=Date.now()}}function Mf(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function pu({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function Rs(C){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,g.Z)(function*(C,y={}){return Rt(C,"GET","/v1/projects",y)})).apply(this,arguments)}const vn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,am=/^https?/;function Co(){return(Co=(0,g.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield Rs(C);for(const E of y)try{if(Os(E))return}catch(I){}nt(C,"unauthorized-domain")})).apply(this,arguments)}function Os(C){const y=_e(),{protocol:E,hostname:I}=new URL(y);if(C.startsWith("chrome-extension://")){const J=new URL(C);return""===J.hostname&&""===I?"chrome-extension:"===E&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===E&&J.hostname===I}if(!am.test(E))return!1;if(vn.test(C))return I===C;const O=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(I)}const ad=new Qe(3e4,6e4);function ld(){const C=qn().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let E=0;E<C.CP.length;E++)C.CP[E]=null}let xf=null;function sa(C){return xf=xf||function(C){return new Promise((y,E)=>{var I,O,P;function J(){ld(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{ld(),E(Xe(C,"network-request-failed"))},timeout:ad.get()})}if(null===(O=null===(I=qn().gapi)||void 0===I?void 0:I.iframes)||void 0===O?void 0:O.Iframe)y(gapi.iframes.getContext());else{if(!(null===(P=qn().gapi)||void 0===P?void 0:P.load)){const we=bo("iframefcb");return qn()[we]=()=>{gapi.load?J():E(Xe(C,"network-request-failed"))},rm(`https://apis.google.com/js/api.js?onload=${we}`)}J()}}).catch(y=>{throw xf=null,y})}(C),xf}const Ns=new Qe(5e3,15e3),Of={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Nf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kf(C){const y=C.config;ve(y.authDomain,C,"auth-domain-config-required");const E=y.emulator?St(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:C.name,v:oe.SDK_VERSION},O=Nf.get(C.config.apiHost);O&&(I.eid=O);const P=C._getFrameworks();return P.length&&(I.fw=P.join(",")),`${E}?${(0,G.xO)(I).slice(1)}`}function ud(){return(ud=(0,g.Z)(function*(C){const y=yield sa(C),E=qn().gapi;return ve(E,C,"internal-error"),y.open({where:document.body,url:kf(C),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Of,dontclear:!0},I=>new Promise(function(){var O=(0,g.Z)(function*(P,J){yield I.restyle({setHideOnLeave:!1});const we=Xe(C,"network-request-failed"),Ve=qn().setTimeout(()=>{J(we)},Ns.get());function qe(){qn().clearTimeout(Ve),P(I)}I.ping(qe).then(qe,()=>{J(we)})});return function(P,J){return O.apply(this,arguments)}}()))})).apply(this,arguments)}const J0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class um{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function mu(C,y,E,I,O,P){ve(C.config.authDomain,C,"auth-domain-config-required"),ve(C.config.apiKey,C,"invalid-api-key");const J={apiKey:C.config.apiKey,appName:C.name,authType:E,redirectUrl:I,v:oe.SDK_VERSION,eventId:O};if(y instanceof ao){y.setDefaultLanguage(C.languageCode),J.providerId=y.providerId||"",(0,G.xb)(y.getCustomParameters())||(J.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ve,qe]of Object.entries(P||{}))J[Ve]=qe}if(y instanceof Ql){const Ve=y.getScopes().filter(qe=>""!==qe);Ve.length>0&&(J.scopes=Ve.join(","))}C.tenantId&&(J.tid=C.tenantId);const we=J;for(const Ve of Object.keys(we))void 0===we[Ve]&&delete we[Ve];return`${function({config:C}){return C.emulator?St(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,G.xO)(we).slice(1)}`}const Do="webStorageSupport";class Ff extends class{constructor(y){this.factorId=y}_process(y,E,I){switch(E.type){case"enroll":return this._finalizeEnroll(y,E.credential,I);case"signin":return this._finalizeSignIn(y,E.credential);default:return It("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Ff(y)}_finalizeEnroll(y,E,I){return function(C,y){return Rt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{idToken:E,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,E){return function(C,y){return Rt(C,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:C.tenantId},y))}(y,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class zv{constructor(){}static assertion(y){return Ff._fromCredential(y)}}var C;class dm{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var E=this;return(0,g.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const E=this.auth.onIdTokenChanged(I=>{var O;y((null===(O=I)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,E),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const E=this.internalListeners.get(y);!E||(this.internalListeners.delete(y),E(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Io(){return window}function _u(){return(_u=(0,g.Z)(function*(C,y,E){var I;const{BuildInfo:O}=Io();mt(y.sessionId,"AuthEvent did not contain a session ID");const P=yield pm(y.sessionId),J={};return ws()?J.ibi=O.packageName:Na()?J.apn=O.packageName:nt(C,"operation-not-supported-in-this-environment"),O.displayName&&(J.appDisplayName=O.displayName),J.sessionId=P,mu(C,E,y.type,void 0,null!==(I=y.eventId)&&void 0!==I?I:void 0,J)})).apply(this,arguments)}function Si(){return(Si=(0,g.Z)(function*(C){const{BuildInfo:y}=Io(),E={};ws()?E.iosBundleId=y.packageName:Na()?E.androidPackageName=y.packageName:nt(C,"operation-not-supported-in-this-environment"),yield Rs(C,E)})).apply(this,arguments)}function pd(){return(pd=(0,g.Z)(function*(C,y,E){const{cordova:I}=Io();let O=()=>{};try{yield new Promise((P,J)=>{let we=null;function Ve(){var st;P();const ln=null===(st=I.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof ln&&ln(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function qe(){we||(we=window.setTimeout(()=>{J(Xe(C,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}y.addPassiveListener(Ve),document.addEventListener("resume",qe,!1),Na()&&document.addEventListener("visibilitychange",pt,!1),O=()=>{y.removePassiveListener(Ve),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",pt,!1),we&&window.clearTimeout(we)}})}finally{O()}})).apply(this,arguments)}function pm(C){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,g.Z)(function*(C){const y=Kv(C),E=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(E)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Kv(C){if(mt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const y=new ArrayBuffer(C.length),E=new Uint8Array(y);for(let I=0;I<C.length;I++)E[I]=C.charCodeAt(I);return E}C="Browser",(0,oe._registerComponent)(new se.wA("auth",(y,{options:E})=>{const I=y.getProvider("app").getImmediate(),{apiKey:O,authDomain:P}=I.options;return(J=>{ve(O&&!O.includes(":"),"invalid-api-key",{appName:J.name}),ve(!(null==P?void 0:P.includes(":")),"argument-error",{appName:J.name});const we={apiKey:O,authDomain:P,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ts(C)},Ve=new Ho(J,we);return function(C,y){const E=(null==y?void 0:y.persistence)||[],I=(Array.isArray(E)?E:[E]).map(le);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(Ve,E),Ve})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,E,I)=>{y.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new se.wA("auth-internal",y=>{const E=Ht(y.getProvider("auth").getImmediate());return new dm(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/auth","0.17.1",void 0);class gm extends fu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(y)),super.onEvent(y)}initialized(){var y=this;return(0,g.Z)(function*(){yield y.initPromise})()}}function _m(C){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,g.Z)(function*(C){const y=yield gd()._get(ai(C));return y&&(yield gd()._remove(ai(C))),y})).apply(this,arguments)}function nl(){const C=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const I=Math.floor(Math.random()*y.length);C.push(y.charAt(I))}return C.join("")}function gd(){return le(rs)}function ai(C){return Ot("authEvent",C.config.apiKey,C.name)}function _d(C){if(!(null==C?void 0:C.includes("?")))return{};const[y,...E]=C.split("?");return(0,G.zd)(E.join("?"))}function tC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xe("no-auth-event")}}function yd(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function vu(C=(0,G.z$)()){return!("file:"!==yd()&&"ionic:"!==yd()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function bu(){try{const C=self.localStorage,y=ou();if(C)return C.setItem(y,"1"),C.removeItem(y),!function(C=(0,G.z$)()){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,G.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,G.hl)()}catch(C){return vd()&&(0,G.hl)()}return!1}function vd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function rl(){return("http:"===yd()||"https:"===yd()||(0,G.ru)()||vu())&&!((0,G.b$)()||(0,G.UG)())&&bu()&&!vd()}function Uf(){return vu()&&"undefined"!=typeof document}function jf(){return(jf=(0,g.Z)(function*(){return!!Uf()&&new Promise(C=>{const y=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),C(!0)})})})).apply(this,arguments)}const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},is=ve,il="persistence";function sl(C){return ss.apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(C){yield C._initializationPromise;const y=wm(),E=Ot(il,C.config.apiKey,C.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(E,C._getPersistence())})).apply(this,arguments)}function wm(){return"undefined"!=typeof window?window:null}const Ui=ve;class bn{constructor(){this.browserResolver=le(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_o,this._completeRedirectFn=xs}_openPopup(y,E,I,O){var P=this;return(0,g.Z)(function*(){var J;mt(null===(J=P.eventManagers[y._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const we=mu(y,E,I,_e(),O);return function(C,y,E,I=500,O=600){const P=Math.max((window.screen.availHeight-O)/2,0).toString(),J=Math.max((window.screen.availWidth-I)/2,0).toString();let we="";const Ve=Object.assign(Object.assign({},J0),{width:I.toString(),height:O.toString(),top:P,left:J}),qe=(0,G.z$)().toLowerCase();E&&(we=Oa(qe)?"_blank":E),zn(qe)&&(y=y||"http://localhost",Ve.scrollbars="yes");const pt=Object.entries(Ve).reduce((ln,[En,ua])=>`${ln}${En}=${ua},`,"");if(function(C=(0,G.z$)()){var y;return ws(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(qe)&&"_self"!==we)return function(C,y){const E=document.createElement("a");E.href=C,E.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(I)}(y||"",we),new um(null);const st=window.open(y||"",we,pt);ve(st,C,"popup-blocked");try{st.focus()}catch(ln){}return new um(st)}(y,we,ou())})()}_openRedirect(y,E,I,O){var P=this;return(0,g.Z)(function*(){return yield P._originValidation(y),C=mu(y,E,I,_e(),O),qn().location.href=C,new Promise(()=>{});var C})()}_initialize(y){const E=y._key();if(this.eventManagers[E]){const{manager:O,promise:P}=this.eventManagers[E];return O?Promise.resolve(O):(mt(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(y);return this.eventManagers[E]={promise:I},I}initAndGetManager(y){var E=this;return(0,g.Z)(function*(){const I=yield function(C){return ud.apply(this,arguments)}(y),O=new fu(y);return I.register("authEvent",P=>(ve(null==P?void 0:P.authEvent,y,"invalid-auth-event"),{status:O.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[y._key()]={manager:O},E.iframes[y._key()]=I,O})()}_isIframeWebStorageSupported(y,E){this.iframes[y._key()].send(Do,{type:Do},O=>{var P;const J=null===(P=null==O?void 0:O[0])||void 0===P?void 0:P[Do];void 0!==J&&E(!!J),nt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return Co.apply(this,arguments)}(y)),this.originValidationPromises[E]}get _shouldInitProactively(){return Yh()||io()||ws()}}),this.cordovaResolver=le(class{constructor(){this._redirectPersistence=_o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xs}_initialize(y){var E=this;return(0,g.Z)(function*(){const I=y._key();let O=E.eventManagers.get(I);return O||(O=new gm(y),E.eventManagers.set(I,O),E.attachCallbackListeners(y,O)),O})()}_openPopup(y){nt(y,"operation-not-supported-in-this-environment")}_openRedirect(y,E,I,O){var P=this;return(0,g.Z)(function*(){!function(C){var y,E,I,O,P,J,we,Ve,qe,pt;const st=Io();ve("function"==typeof(null===(y=null==st?void 0:st.universalLinks)||void 0===y?void 0:y.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ve(void 0!==(null===(E=null==st?void 0:st.BuildInfo)||void 0===E?void 0:E.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ve("function"==typeof(null===(P=null===(O=null===(I=null==st?void 0:st.cordova)||void 0===I?void 0:I.plugins)||void 0===O?void 0:O.browsertab)||void 0===P?void 0:P.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(Ve=null===(we=null===(J=null==st?void 0:st.cordova)||void 0===J?void 0:J.plugins)||void 0===we?void 0:we.browsertab)||void 0===Ve?void 0:Ve.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ve("function"==typeof(null===(pt=null===(qe=null==st?void 0:st.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===pt?void 0:pt.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const J=yield P._initialize(y);yield J.initialized(),J.resetRedirect(),Ka.clear(),yield P._originValidation(y);const we=function(C,y,E=null){return{type:y,eventId:E,urlResponse:null,sessionId:nl(),postBody:null,tenantId:C.tenantId,error:Xe(C,"no-auth-event")}}(y,I,O);yield function(C,y){return gd()._set(ai(C),y)}(y,we);const Ve=yield function(C,y,E){return _u.apply(this,arguments)}(y,we,E),qe=yield function(C){const{cordova:y}=Io();return new Promise(E=>{y.plugins.browsertab.isAvailable(I=>{let O=null;I?y.plugins.browsertab.openUrl(C):O=y.InAppBrowser.open(C,function(C=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),E(O)})})}(Ve);return function(C,y,E){return pd.apply(this,arguments)}(y,J,qe)})()}_isIframeWebStorageSupported(y,E){throw new Error("Method not implemented.")}_originValidation(y){const E=y._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(C){return Si.apply(this,arguments)}(y)),this.originValidationPromises[E]}attachCallbackListeners(y,E){const{universalLinks:I,handleOpenURL:O,BuildInfo:P}=Io(),J=setTimeout((0,g.Z)(function*(){yield _m(y),E.onEvent(tC())}),500),we=function(){var pt=(0,g.Z)(function*(st){clearTimeout(J);const ln=yield _m(y);let En=null;ln&&(null==st?void 0:st.url)&&(En=function(C,y){var E,I;const O=function(C){const y=_d(C),E=y.link?decodeURIComponent(y.link):void 0,I=_d(E).link,O=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return _d(O).link||O||I||E||C}(y);if(O.includes("/__/auth/callback")){const P=_d(O),J=P.firebaseError?function(C){try{return JSON.parse(C)}catch(y){return null}}(decodeURIComponent(P.firebaseError)):null,we=null===(I=null===(E=null==J?void 0:J.code)||void 0===E?void 0:E.split("auth/"))||void 0===I?void 0:I[1],Ve=we?Xe(we):null;return Ve?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:O,postBody:null}}return null}(ln,st.url)),E.onEvent(En||tC())});return function(ln){return pt.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,we);const Ve=O,qe=`${P.packageName.toLowerCase()}://`;Io().handleOpenURL=function(){var pt=(0,g.Z)(function*(st){if(st.toLowerCase().startsWith(qe)&&we({url:st}),"function"==typeof Ve)try{Ve(st)}catch(ln){console.error(ln)}});return function(st){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_o,this._completeRedirectFn=xs}_initialize(y){var E=this;return(0,g.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,E,I,O){var P=this;return(0,g.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(y,E,I,O)})()}_openRedirect(y,E,I,O){var P=this;return(0,g.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(y,E,I,O)})()}_isIframeWebStorageSupported(y,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,E)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return Uf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ui(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,g.Z)(function*(){if(y.underlyingResolver)return;const E=yield function(){return jf.apply(this,arguments)}();y.underlyingResolver=E?y.cordovaResolver:y.browserResolver})()}}function ol(C){return C.unwrap()}function Cm(C){return Fs(C)}function Hf(C,y){var E;const I=null===(E=y.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new nb(C,function(C,y){var E;const I=(0,G.m9)(C),O=y;return ve(y.operationType,I,"argument-error"),ve(null===(E=O.serverResponse)||void 0===E?void 0:E.mfaPendingCredential,I,"argument-error"),pn._fromError(I,O)}(C,y));else if(I){const O=Fs(y),P=y;O&&(P.credential=O,P.tenantId=I.tenantId||void 0,P.email=I.email||void 0,P.phoneNumber=I.phoneNumber||void 0)}}function Fs(C){const{_tokenResponse:y}=C instanceof G.ZR?C.customData:C;if(!y)return null;if(!(C instanceof G.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return uu.credentialFromResult(C);const E=y.providerId;if(!E||"password"===E)return null;let I;switch(E){case"google.com":I=tf;break;case"facebook.com":I=gv;break;case"github.com":I=nf;break;case"twitter.com":I=mv;break;default:const{oauthIdToken:O,oauthAccessToken:P,oauthTokenSecret:J,pendingToken:we,nonce:Ve}=y;return P||J||O||we?we?E.startsWith("saml.")?zo._create(E,we):Ei._fromParams({providerId:E,signInMethod:E,pendingToken:we,idToken:O,accessToken:P}):new Jl(E).credential({idToken:O,accessToken:P,rawNonce:Ve}):null}return C instanceof G.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function qt(C,y){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(C,y){let E;try{E=yield y}catch(P){throw P instanceof G.ZR&&Hf(C,P),P}const{operationType:I,user:O}=E;return{operationType:I,credential:Cm(E),additionalUserInfo:su(E),user:os.getOrCreate(O)}})).apply(this,arguments)}function ji(C,y){return la.apply(this,arguments)}function la(){return(la=(0,g.Z)(function*(C,y){const E=yield y;return{verificationId:E.verificationId,confirm:I=>qt(C,E.confirm(I))}})).apply(this,arguments)}class nb{constructor(y,E){this.resolver=E,this.auth=function(C){return C.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return qt(ol(this.auth),this.resolver.resolveSignIn(y))}}class os{constructor(y){this._delegate=y,this.multiFactor=function(C){const y=(0,G.m9)(C);return pf.has(y)||pf.set(y,ff._fromUser(y)),pf.get(y)}(y)}static getOrCreate(y){return os.USER_MAP.has(y)||os.USER_MAP.set(y,new os(y)),os.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var E=this;return(0,g.Z)(function*(){return qt(E.auth,$g(E._delegate,y))})()}linkWithPhoneNumber(y,E){var I=this;return(0,g.Z)(function*(){return ji(I.auth,function(C,y,E){return td.apply(this,arguments)}(I._delegate,y,E))})()}linkWithPopup(y){var E=this;return(0,g.Z)(function*(){return qt(E.auth,function(C,y,E){return Ts.apply(this,arguments)}(E._delegate,y,bn))})()}linkWithRedirect(y){var E=this;return(0,g.Z)(function*(){return yield sl(Ht(E.auth)),function(C,y,E){return function(C,y,E){return Ms.apply(this,arguments)}(C,y,E)}(E._delegate,y,bn)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var E=this;return(0,g.Z)(function*(){return qt(E.auth,Gg(E._delegate,y))})()}reauthenticateWithPhoneNumber(y,E){return ji(this.auth,function(C,y,E){return nd.apply(this,arguments)}(this._delegate,y,E))}reauthenticateWithPopup(y){return qt(this.auth,function(C,y,E){return ii.apply(this,arguments)}(this._delegate,y,bn))}reauthenticateWithRedirect(y){var E=this;return(0,g.Z)(function*(){return yield sl(Ht(E.auth)),function(C,y,E){return function(C,y,E){return Sf.apply(this,arguments)}(C,y,E)}(E._delegate,y,bn)})()}sendEmailVerification(y){return function(C,y){return Wg.apply(this,arguments)}(this._delegate,y)}unlink(y){var E=this;return(0,g.Z)(function*(){return yield function(C,y){return sf.apply(this,arguments)}(E._delegate,y),E})()}updateEmail(y){return function(C,y){return hf((0,G.m9)(C),y,null)}(this._delegate,y)}updatePassword(y){return function(C,y){return hf((0,G.m9)(C),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(C,y){return wf.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(C,y){return go.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,E){return function(C,y,E){return po.apply(this,arguments)}(this._delegate,y,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}os.USER_MAP=new WeakMap;const Gr=ve;let $f=(()=>{class C{constructor(E,I){if(this.app=E,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=E.options;Gr(O,"invalid-api-key",{appName:E.name});let P=[Pt];if("undefined"!=typeof window){P=function(C,y){const E=wm();if(!(null==E?void 0:E.sessionStorage))return[];const I=Ot(il,C,y);switch(E.sessionStorage.getItem(I)){case Ti.NONE:return[Pt];case Ti.LOCAL:return[Li,_o];case Ti.SESSION:return[_o];default:return[]}}(O,E.name);for(const we of[Li,rs,_o])P.includes(we)||P.push(we)}Gr(O,"invalid-api-key",{appName:E.name});const J="undefined"!=typeof window?bn:void 0;this._delegate=I.initialize({options:{persistence:P,popupRedirectResolver:J}}),this._delegate._updateErrorMap(fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,I){!function(C,y,E){const I=Ht(C);ve(I._canInitEmulator,I,"emulator-config-failed"),ve(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const O=!!(null==E?void 0:E.disableWarnings),P=je(y),{host:J,port:we}=function(C){const y=je(C),E=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!E)return{host:"",port:null};const I=E[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(I);if(O){const P=O[1];return{host:P,port:an(I.substr(P.length+1))}}{const[P,J]=I.split(":");return{host:P,port:an(J)}}}(y);I.config.emulator={url:`${P}//${J}${null===we?"":`:${we}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:J,port:we,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:O})}),function(C){function y(){const E=document.createElement("p"),I=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!C&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(O)}(this._delegate,E,I)}applyActionCode(E){return function(C,y){return ht.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return _v(this._delegate,E)}confirmPasswordReset(E,I){return function(C,y,E){return Lc.apply(this,arguments)}(this._delegate,E,I)}createUserWithEmailAndPassword(E,I){var O=this;return(0,g.Z)(function*(){return qt(O._delegate,function(C,y,E){return Zo.apply(this,arguments)}(O._delegate,E,I))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(C,y){return fo.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(C,y){const E=Ic.parseLink(y);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,g.Z)(function*(){Gr(rl(),E._delegate,"operation-not-supported-in-this-environment");const I=yield function(C,y){return Bi.apply(this,arguments)}(E._delegate,bn);return I?qt(E._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(C,y){Ht(C)._logFramework(y)}(this._delegate,E)}onAuthStateChanged(E,I,O){const{next:P,error:J,complete:we}=Dm(E,I,O);return this._delegate.onAuthStateChanged(P,J,we)}onIdTokenChanged(E,I,O){const{next:P,error:J,complete:we}=Dm(E,I,O);return this._delegate.onIdTokenChanged(P,J,we)}sendSignInLinkToEmail(E,I){return function(C,y,E){return Nt.apply(this,arguments)}(this._delegate,E,I)}sendPasswordResetEmail(E,I){return function(C,y,E){return Fc.apply(this,arguments)}(this._delegate,E,I||void 0)}setPersistence(E){var I=this;return(0,g.Z)(function*(){let O;switch(function(C,y){is(Object.values(Ti).includes(y),C,"invalid-persistence-type"),(0,G.b$)()?is(y!==Ti.SESSION,C,"unsupported-persistence-type"):(0,G.UG)()?is(y===Ti.NONE,C,"unsupported-persistence-type"):vd()?is(y===Ti.NONE||y===Ti.LOCAL&&(0,G.hl)(),C,"unsupported-persistence-type"):is(y===Ti.NONE||bu(),C,"unsupported-persistence-type")}(I._delegate,E),E){case Ti.SESSION:O=_o;break;case Ti.LOCAL:O=(yield le(Li)._isAvailable())?Li:rs;break;case Ti.NONE:O=Pt;break;default:return nt("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return qt(this._delegate,function(C){return jg.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return qt(this._delegate,Nc(this._delegate,E))}signInWithCustomToken(E){return qt(this._delegate,function(C,y){return uo.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,I){return qt(this._delegate,function(C,y,E){return Nc((0,G.m9)(C),Vg.credential(y,E))}(this._delegate,E,I))}signInWithEmailLink(E,I){return qt(this._delegate,function(C,y,E){return Bc.apply(this,arguments)}(this._delegate,E,I))}signInWithPhoneNumber(E,I){return ji(this._delegate,function(C,y,E){return ed.apply(this,arguments)}(this._delegate,E,I))}signInWithPopup(E){var I=this;return(0,g.Z)(function*(){return Gr(rl(),I._delegate,"operation-not-supported-in-this-environment"),qt(I._delegate,function(C,y,E){return sm.apply(this,arguments)}(I._delegate,E,bn))})()}signInWithRedirect(E){var I=this;return(0,g.Z)(function*(){return Gr(rl(),I._delegate,"operation-not-supported-in-this-environment"),yield sl(I._delegate),function(C,y,E){return function(C,y,E){return om.apply(this,arguments)}(C,y,E)}(I._delegate,E,bn)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(C,y){return nu.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Ti,C})();function Dm(C,y,E){let I=C;"function"!=typeof C&&({next:I,error:y,complete:E}=C);const O=I;return{next:J=>O(J&&os.getOrCreate(J)),error:y,complete:E}}class as{constructor(){this.providerId="phone",this._delegate=new uu(ol(ue.Z.auth()))}static credential(y,E){return uu.credential(y,E)}verifyPhoneNumber(y,E){return this._delegate.verifyPhoneNumber(y,E)}unwrap(){return this._delegate}}as.PHONE_SIGN_IN_METHOD=uu.PHONE_SIGN_IN_METHOD,as.PROVIDER_ID=uu.PROVIDER_ID;const rb=ve;class ib{constructor(y,E,I=ue.Z.app()){var O;rb(null===(O=I.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new na(y,E,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new se.wA("auth-compat",y=>{const E=y.getProvider("app-compat").getImmediate(),I=y.getProvider("auth");return new $f(E,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vg,FacebookAuthProvider:gv,GithubAuthProvider:nf,GoogleAuthProvider:tf,OAuthProvider:Jl,PhoneAuthProvider:as,PhoneMultiFactorGenerator:zv,RecaptchaVerifier:ib,TwitterAuthProvider:mv,Auth:$f,AuthCredential:vi,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.1")}(ue.Z)},7574:(Ge,Te,V)=>{"use strict";V.d(Te,{y:()=>$});var g=V(7393),G=V(9181),oe=V(6490),ce=V(6554),se=V(4487);var L=V(2494);let $=(()=>{class j{constructor(fe){this._isScalar=!1,fe&&(this._subscribe=fe)}lift(fe){const ie=new j;return ie.source=this,ie.operator=fe,ie}subscribe(fe,ie,ae){const{operator:xe}=this,Pe=function(j,K,fe){if(j){if(j instanceof g.L)return j;if(j[G.b])return j[G.b]()}return j||K||fe?new g.L(j,K,fe):new g.L(oe.c)}(fe,ie,ae);if(Pe.add(xe?xe.call(Pe,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!Pe.syncErrorThrowable?this._subscribe(Pe):this._trySubscribe(Pe)),L.v.useDeprecatedSynchronousErrorHandling&&Pe.syncErrorThrowable&&(Pe.syncErrorThrowable=!1,Pe.syncErrorThrown))throw Pe.syncErrorValue;return Pe}_trySubscribe(fe){try{return this._subscribe(fe)}catch(ie){L.v.useDeprecatedSynchronousErrorHandling&&(fe.syncErrorThrown=!0,fe.syncErrorValue=ie),function(j){for(;j;){const{closed:K,destination:fe,isStopped:ie}=j;if(K||ie)return!1;j=fe&&fe instanceof g.L?fe:null}return!0}(fe)?fe.error(ie):console.warn(ie)}}forEach(fe,ie){return new(ie=q(ie))((ae,xe)=>{let Pe;Pe=this.subscribe(it=>{try{fe(it)}catch(nt){xe(nt),Pe&&Pe.unsubscribe()}},xe,ae)})}_subscribe(fe){const{source:ie}=this;return ie&&ie.subscribe(fe)}[ce.L](){return this}pipe(...fe){return 0===fe.length?this:function(j){return 0===j.length?se.y:1===j.length?j[0]:function(fe){return j.reduce((ie,ae)=>ae(ie),fe)}}(fe)(this)}toPromise(fe){return new(fe=q(fe))((ie,ae)=>{let xe;this.subscribe(Pe=>xe=Pe,Pe=>ae(Pe),()=>ie(xe))})}}return j.create=K=>new j(K),j})();function q(j){if(j||(j=L.v.Promise||Promise),!j)throw new Error("no Promise impl found");return j}},6490:(Ge,Te,V)=>{"use strict";V.d(Te,{c:()=>G});var g=V(2494),ue=V(4449);const G={closed:!0,next(oe){},error(oe){if(g.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,ue.z)(oe)},complete(){}}},9765:(Ge,Te,V)=>{"use strict";V.d(Te,{Yc:()=>se,xQ:()=>he});var g=V(7574),ue=V(7393),G=V(5319),oe=V(7971),be=V(8858),ce=V(9181);class se extends ue.L{constructor($){super($),this.destination=$}}let he=(()=>{class L extends g.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new se(this)}lift(q){const j=new Q(this,this);return j.operator=q,j}next(q){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:j}=this,K=j.length,fe=j.slice();for(let ie=0;ie<K;ie++)fe[ie].next(q)}}error(q){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:j}=this,K=j.length,fe=j.slice();for(let ie=0;ie<K;ie++)fe[ie].error(q);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:q}=this,j=q.length,K=q.slice();for(let fe=0;fe<j;fe++)K[fe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new oe.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new oe.N;return this.hasError?(q.error(this.thrownError),G.w.EMPTY):this.isStopped?(q.complete(),G.w.EMPTY):(this.observers.push(q),new be.W(this,q))}asObservable(){const q=new g.y;return q.source=this,q}}return L.create=($,q)=>new Q($,q),L})();class Q extends he{constructor($,q){super(),this.destination=$,this.source=q}next($){const{destination:q}=this;q&&q.next&&q.next($)}error($){const{destination:q}=this;q&&q.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:q}=this;return q?this.source.subscribe($):G.w.EMPTY}}},8858:(Ge,Te,V)=>{"use strict";V.d(Te,{W:()=>ue});var g=V(5319);class ue extends g.w{constructor(oe,be){super(),this.subject=oe,this.subscriber=be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,be=oe.observers;if(this.subject=null,!be||0===be.length||oe.isStopped||oe.closed)return;const ce=be.indexOf(this.subscriber);-1!==ce&&be.splice(ce,1)}}},7393:(Ge,Te,V)=>{"use strict";V.d(Te,{L:()=>se});var g=V(9105),ue=V(6490),G=V(5319),oe=V(9181),be=V(2494),ce=V(4449);class se extends G.w{constructor(L,$,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ue.c;break;case 1:if(!L){this.destination=ue.c;break}if("object"==typeof L){L instanceof se?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,L,$,q)}}[oe.b](){return this}static create(L,$,q){const j=new se(L,$,q);return j.syncErrorThrowable=!1,j}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class he extends se{constructor(L,$,q,j){super(),this._parentSubscriber=L;let K,fe=this;(0,g.m)($)?K=$:$&&(K=$.next,q=$.error,j=$.complete,$!==ue.c&&(fe=Object.create($),(0,g.m)(fe.unsubscribe)&&this.add(fe.unsubscribe.bind(fe)),fe.unsubscribe=this.unsubscribe.bind(this))),this._context=fe,this._next=K,this._error=q,this._complete=j}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;be.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:q}=be.v;if(this._error)q&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if($.syncErrorThrowable)q?($.syncErrorValue=L,$.syncErrorThrown=!0):(0,ce.z)(L),this.unsubscribe();else{if(this.unsubscribe(),q)throw L;(0,ce.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const $=()=>this._complete.call(this._context);be.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,$){try{L.call(this._context,$)}catch(q){if(this.unsubscribe(),be.v.useDeprecatedSynchronousErrorHandling)throw q;(0,ce.z)(q)}}__tryOrSetError(L,$,q){if(!be.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,q)}catch(j){return be.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=j,L.syncErrorThrown=!0,!0):((0,ce.z)(j),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(Ge,Te,V)=>{"use strict";V.d(Te,{w:()=>ce});var g=V(9796),ue=V(1555),G=V(9105);const be=(()=>{function he(Q){return Error.call(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((L,$)=>`${$+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q,this}return he.prototype=Object.create(Error.prototype),he})();class ce{constructor(Q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Q&&(this._ctorUnsubscribe=!0,this._unsubscribe=Q)}unsubscribe(){let Q;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:$,_unsubscribe:q,_subscriptions:j}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ce)L.remove(this);else if(null!==L)for(let K=0;K<L.length;++K)L[K].remove(this);if((0,G.m)(q)){$&&(this._unsubscribe=void 0);try{q.call(this)}catch(K){Q=K instanceof be?se(K.errors):[K]}}if((0,g.k)(j)){let K=-1,fe=j.length;for(;++K<fe;){const ie=j[K];if((0,ue.K)(ie))try{ie.unsubscribe()}catch(ae){Q=Q||[],ae instanceof be?Q=Q.concat(se(ae.errors)):Q.push(ae)}}}if(Q)throw new be(Q)}add(Q){let L=Q;if(!Q)return ce.EMPTY;switch(typeof Q){case"function":L=new ce(Q);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ce)){const j=L;L=new ce,L._subscriptions=[j]}break;default:throw new Error("unrecognized teardown "+Q+" added to Subscription.")}let{_parentOrParents:$}=L;if(null===$)L._parentOrParents=this;else if($ instanceof ce){if($===this)return L;L._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return L;$.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[L]:q.push(L),L}remove(Q){const L=this._subscriptions;if(L){const $=L.indexOf(Q);-1!==$&&L.splice($,1)}}}var he;function se(he){return he.reduce((Q,L)=>Q.concat(L instanceof be?L.errors:L),[])}ce.EMPTY=((he=new ce).closed=!0,he)},2494:(Ge,Te,V)=>{"use strict";V.d(Te,{v:()=>ue});let g=!1;const ue={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=G},get useDeprecatedSynchronousErrorHandling(){return g}}},5345:(Ge,Te,V)=>{"use strict";V.d(Te,{IY:()=>oe,Ds:()=>ce,ft:()=>he});var g=V(7393),ue=V(7574),G=V(7444);class oe extends g.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends g.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function he(Q,L){if(L.closed)return;if(Q instanceof ue.y)return Q.subscribe(L);let $;try{$=(0,G.s)(Q)(L)}catch(q){L.error(q)}return $}},2441:(Ge,Te,V)=>{"use strict";V.d(Te,{c:()=>be,N:()=>ce});var g=V(9765),ue=V(7574),G=V(5319),oe=V(1307);class be extends ue.y{constructor($,q){super(),this.source=$,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new G.w,$.add(this.source.subscribe(new se(this.getSubject(),this))),$.closed&&(this._connection=null,$=G.w.EMPTY)),$}refCount(){return(0,oe.x)()(this)}}const ce=(()=>{const L=be.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class se extends g.Yc{constructor($,q){super($),this.connectable=q}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const q=$._connection;$._refCount=0,$._subject=null,$._connection=null,q&&q.unsubscribe()}}}},9193:(Ge,Te,V)=>{"use strict";V.d(Te,{E:()=>ue,c:()=>G});var g=V(7574);const ue=new g.y(be=>be.complete());function G(be){return be?function(be){return new g.y(ce=>be.schedule(()=>ce.complete()))}(be):ue}},4402:(Ge,Te,V)=>{"use strict";V.d(Te,{D:()=>fe});var g=V(7574),ue=V(7444),G=V(5319),oe=V(6554),se=V(4087),he=V(377),$=V(4072),q=V(9489);function fe(ie,ae){return ae?function(ie,ae){if(null!=ie){if(function(ie){return ie&&"function"==typeof ie[oe.L]}(ie))return function(ie,ae){return new g.y(xe=>{const Pe=new G.w;return Pe.add(ae.schedule(()=>{const it=ie[oe.L]();Pe.add(it.subscribe({next(nt){Pe.add(ae.schedule(()=>xe.next(nt)))},error(nt){Pe.add(ae.schedule(()=>xe.error(nt)))},complete(){Pe.add(ae.schedule(()=>xe.complete()))}}))})),Pe})}(ie,ae);if((0,$.t)(ie))return function(ie,ae){return new g.y(xe=>{const Pe=new G.w;return Pe.add(ae.schedule(()=>ie.then(it=>{Pe.add(ae.schedule(()=>{xe.next(it),Pe.add(ae.schedule(()=>xe.complete()))}))},it=>{Pe.add(ae.schedule(()=>xe.error(it)))}))),Pe})}(ie,ae);if((0,q.z)(ie))return(0,se.r)(ie,ae);if(function(ie){return ie&&"function"==typeof ie[he.hZ]}(ie)||"string"==typeof ie)return function(ie,ae){if(!ie)throw new Error("Iterable cannot be null");return new g.y(xe=>{const Pe=new G.w;let it;return Pe.add(()=>{it&&"function"==typeof it.return&&it.return()}),Pe.add(ae.schedule(()=>{it=ie[he.hZ](),Pe.add(ae.schedule(function(){if(xe.closed)return;let nt,Xe;try{const Be=it.next();nt=Be.value,Xe=Be.done}catch(Be){return void xe.error(Be)}Xe?xe.complete():(xe.next(nt),this.schedule())}))})),Pe})}(ie,ae)}throw new TypeError((null!==ie&&typeof ie||ie)+" is not observable")}(ie,ae):ie instanceof g.y?ie:new g.y((0,ue.s)(ie))}},6693:(Ge,Te,V)=>{"use strict";V.d(Te,{n:()=>oe});var g=V(7574),ue=V(5015),G=V(4087);function oe(be,ce){return ce?(0,G.r)(be,ce):new g.y((0,ue.V)(be))}},6682:(Ge,Te,V)=>{"use strict";V.d(Te,{T:()=>be});var g=V(7574),ue=V(4869),G=V(3282),oe=V(6693);function be(...ce){let se=Number.POSITIVE_INFINITY,he=null,Q=ce[ce.length-1];return(0,ue.K)(Q)?(he=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(se=ce.pop())):"number"==typeof Q&&(se=ce.pop()),null===he&&1===ce.length&&ce[0]instanceof g.y?ce[0]:(0,G.J)(se)((0,oe.n)(ce,he))}},5917:(Ge,Te,V)=>{"use strict";V.d(Te,{of:()=>oe});var g=V(4869),ue=V(6693),G=V(4087);function oe(...be){let ce=be[be.length-1];return(0,g.K)(ce)?(be.pop(),(0,G.r)(be,ce)):(0,ue.n)(be)}},8002:(Ge,Te,V)=>{"use strict";V.d(Te,{U:()=>ue});var g=V(7393);function ue(be,ce){return function(he){if("function"!=typeof be)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new G(be,ce))}}class G{constructor(ce,se){this.project=ce,this.thisArg=se}call(ce,se){return se.subscribe(new oe(ce,this.project,this.thisArg))}}class oe extends g.L{constructor(ce,se,he){super(ce),this.project=se,this.count=0,this.thisArg=he||this}_next(ce){let se;try{se=this.project.call(this.thisArg,ce,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(se)}}},3282:(Ge,Te,V)=>{"use strict";V.d(Te,{J:()=>G});var g=V(9773),ue=V(4487);function G(oe=Number.POSITIVE_INFINITY){return(0,g.zg)(ue.y,oe)}},9773:(Ge,Te,V)=>{"use strict";V.d(Te,{zg:()=>oe});var g=V(8002),ue=V(4402),G=V(5345);function oe(he,Q,L=Number.POSITIVE_INFINITY){return"function"==typeof Q?$=>$.pipe(oe((q,j)=>(0,ue.D)(he(q,j)).pipe((0,g.U)((K,fe)=>Q(q,K,j,fe))),L)):("number"==typeof Q&&(L=Q),$=>$.lift(new be(he,L)))}class be{constructor(Q,L=Number.POSITIVE_INFINITY){this.project=Q,this.concurrent=L}call(Q,L){return L.subscribe(new ce(Q,this.project,this.concurrent))}}class ce extends G.Ds{constructor(Q,L,$=Number.POSITIVE_INFINITY){super(Q),this.project=L,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Q){this.active<this.concurrent?this._tryNext(Q):this.buffer.push(Q)}_tryNext(Q){let L;const $=this.index++;try{L=this.project(Q,$)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(L)}_innerSub(Q){const L=new G.IY(this),$=this.destination;$.add(L);const q=(0,G.ft)(Q,L);q!==L&&$.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Q){this.destination.next(Q)}notifyComplete(){const Q=this.buffer;this.active--,Q.length>0?this._next(Q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ge,Te,V)=>{"use strict";V.d(Te,{ht:()=>$,QV:()=>Q});var g=V(7393),ue=V(9193),G=V(5917),oe=V(7574);class he{constructor(K,fe,ie){this.kind=K,this.value=fe,this.error=ie,this.hasValue="N"===K}observe(K){switch(this.kind){case"N":return K.next&&K.next(this.value);case"E":return K.error&&K.error(this.error);case"C":return K.complete&&K.complete()}}do(K,fe,ie){switch(this.kind){case"N":return K&&K(this.value);case"E":return fe&&fe(this.error);case"C":return ie&&ie()}}accept(K,fe,ie){return K&&"function"==typeof K.next?this.observe(K):this.do(K,fe,ie)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return j=this.error,new oe.y(fe=>fe.error(j));case"C":return(0,ue.c)()}var j;throw new Error("unexpected notification kind value")}static createNext(K){return void 0!==K?new he("N",K):he.undefinedValueNotification}static createError(K){return new he("E",void 0,K)}static createComplete(){return he.completeNotification}}function Q(j,K=0){return function(ie){return ie.lift(new L(j,K))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class L{constructor(K,fe=0){this.scheduler=K,this.delay=fe}call(K,fe){return fe.subscribe(new $(K,this.scheduler,this.delay))}}class $ extends g.L{constructor(K,fe,ie=0){super(K),this.scheduler=fe,this.delay=ie}static dispatch(K){const{notification:fe,destination:ie}=K;fe.observe(ie),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new q(K,this.destination)))}_next(K){this.scheduleMessage(he.createNext(K))}_error(K){this.scheduleMessage(he.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class q{constructor(K,fe){this.notification=K,this.destination=fe}}},1307:(Ge,Te,V)=>{"use strict";V.d(Te,{x:()=>ue});var g=V(7393);function ue(){return function(ce){return ce.lift(new G(ce))}}class G{constructor(ce){this.connectable=ce}call(ce,se){const{connectable:he}=this;he._refCount++;const Q=new oe(ce,he),L=se.subscribe(Q);return Q.closed||(Q.connection=he.connect()),L}}class oe extends g.L{constructor(ce,se){super(ce),this.connectable=se}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const se=ce._refCount;if(se<=0)return void(this.connection=null);if(ce._refCount=se-1,se>1)return void(this.connection=null);const{connection:he}=this,Q=ce._connection;this.connection=null,Q&&(!he||Q===he)&&Q.unsubscribe()}}},9673:(Ge,Te,V)=>{"use strict";V.d(Te,{R:()=>be});var g=V(7574),ue=V(4581),G=V(6561);class oe extends g.y{constructor(he,Q=0,L=ue.e){super(),this.source=he,this.delayTime=Q,this.scheduler=L,(!(0,G.k)(Q)||Q<0)&&(this.delayTime=0),(!L||"function"!=typeof L.schedule)&&(this.scheduler=ue.e)}static create(he,Q=0,L=ue.e){return new oe(he,Q,L)}static dispatch(he){const{source:Q,subscriber:L}=he;return this.add(Q.subscribe(L))}_subscribe(he){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:he})}}function be(se,he=0){return function(L){return L.lift(new ce(se,he))}}class ce{constructor(he,Q){this.scheduler=he,this.delay=Q}call(he,Q){return new oe(Q,this.delay,this.scheduler).subscribe(he)}}},3342:(Ge,Te,V)=>{"use strict";V.d(Te,{b:()=>oe});var g=V(7393);function ue(){}var G=V(9105);function oe(se,he,Q){return function($){return $.lift(new be(se,he,Q))}}class be{constructor(he,Q,L){this.nextOrObserver=he,this.error=Q,this.complete=L}call(he,Q){return Q.subscribe(new ce(he,this.nextOrObserver,this.error,this.complete))}}class ce extends g.L{constructor(he,Q,L,$){super(he),this._tapNext=ue,this._tapError=ue,this._tapComplete=ue,this._tapError=L||ue,this._tapComplete=$||ue,(0,G.m)(Q)?(this._context=this,this._tapNext=Q):Q&&(this._context=Q,this._tapNext=Q.next||ue,this._tapError=Q.error||ue,this._tapComplete=Q.complete||ue)}_next(he){try{this._tapNext.call(this._context,he)}catch(Q){return void this.destination.error(Q)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(Q){return void this.destination.error(Q)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4087:(Ge,Te,V)=>{"use strict";V.d(Te,{r:()=>G});var g=V(7574),ue=V(5319);function G(oe,be){return new g.y(ce=>{const se=new ue.w;let he=0;return se.add(be.schedule(function(){he!==oe.length?(ce.next(oe[he++]),ce.closed||se.add(this.schedule())):ce.complete()})),se})}},6465:(Ge,Te,V)=>{"use strict";V.d(Te,{o:()=>G});var g=V(5319);class ue extends g.w{constructor(be,ce){super()}schedule(be,ce=0){return this}}class G extends ue{constructor(be,ce){super(be,ce),this.scheduler=be,this.work=ce,this.pending=!1}schedule(be,ce=0){if(this.closed)return this;this.state=be;const se=this.id,he=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(he,se,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(he,this.id,ce),this}requestAsyncId(be,ce,se=0){return setInterval(be.flush.bind(be,this),se)}recycleAsyncId(be,ce,se=0){if(null!==se&&this.delay===se&&!1===this.pending)return ce;clearInterval(ce)}execute(be,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(be,ce);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,ce){let he,se=!1;try{this.work(be)}catch(Q){se=!0,he=!!Q&&Q||new Error(Q)}if(se)return this.unsubscribe(),he}_unsubscribe(){const be=this.id,ce=this.scheduler,se=ce.actions,he=se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&se.splice(he,1),null!=be&&(this.id=this.recycleAsyncId(ce,be,null)),this.delay=null}}},6102:(Ge,Te,V)=>{"use strict";V.d(Te,{v:()=>ue});let g=(()=>{class G{constructor(be,ce=G.now){this.SchedulerAction=be,this.now=ce}schedule(be,ce=0,se){return new this.SchedulerAction(this,be).schedule(se,ce)}}return G.now=()=>Date.now(),G})();class ue extends g{constructor(oe,be=g.now){super(oe,()=>ue.delegate&&ue.delegate!==this?ue.delegate.now():be()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,be=0,ce){return ue.delegate&&ue.delegate!==this?ue.delegate.schedule(oe,be,ce):super.schedule(oe,be,ce)}flush(oe){const{actions:be}=this;if(this.active)return void be.push(oe);let ce;this.active=!0;do{if(ce=oe.execute(oe.state,oe.delay))break}while(oe=be.shift());if(this.active=!1,ce){for(;oe=be.shift();)oe.unsubscribe();throw ce}}}},4581:(Ge,Te,V)=>{"use strict";V.d(Te,{e:()=>q,E:()=>$});let g=1;const ue=Promise.resolve(),G={};function oe(j){return j in G&&(delete G[j],!0)}const be={setImmediate(j){const K=g++;return G[K]=!0,ue.then(()=>oe(K)&&j()),K},clearImmediate(j){oe(j)}};var se=V(6465),Q=V(6102);const $=new class extends Q.v{flush(K){this.active=!0,this.scheduled=void 0;const{actions:fe}=this;let ie,ae=-1,xe=fe.length;K=K||fe.shift();do{if(ie=K.execute(K.state,K.delay))break}while(++ae<xe&&(K=fe.shift()));if(this.active=!1,ie){for(;++ae<xe&&(K=fe.shift());)K.unsubscribe();throw ie}}}(class extends se.o{constructor(K,fe){super(K,fe),this.scheduler=K,this.work=fe}requestAsyncId(K,fe,ie=0){return null!==ie&&ie>0?super.requestAsyncId(K,fe,ie):(K.actions.push(this),K.scheduled||(K.scheduled=be.setImmediate(K.flush.bind(K,null))))}recycleAsyncId(K,fe,ie=0){if(null!==ie&&ie>0||null===ie&&this.delay>0)return super.recycleAsyncId(K,fe,ie);0===K.actions.length&&(be.clearImmediate(fe),K.scheduled=void 0)}}),q=$},3637:(Ge,Te,V)=>{"use strict";V.d(Te,{z:()=>G,P:()=>oe});var g=V(6465);const G=new(V(6102).v)(g.o),oe=G},7771:(Ge,Te,V)=>{"use strict";V.d(Te,{c:()=>ce,N:()=>be});var g=V(6465),G=V(6102);const be=new class extends G.v{}(class extends g.o{constructor(he,Q){super(he,Q),this.scheduler=he,this.work=Q}schedule(he,Q=0){return Q>0?super.schedule(he,Q):(this.delay=Q,this.state=he,this.scheduler.flush(this),this)}execute(he,Q){return Q>0||this.closed?super.execute(he,Q):this._execute(he,Q)}requestAsyncId(he,Q,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(he,Q,L):he.flush(this)}}),ce=be},377:(Ge,Te,V)=>{"use strict";V.d(Te,{hZ:()=>ue});const ue="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ge,Te,V)=>{"use strict";V.d(Te,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ge,Te,V)=>{"use strict";V.d(Te,{b:()=>g});const g="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ge,Te,V)=>{"use strict";V.d(Te,{N:()=>ue});const ue=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},4449:(Ge,Te,V)=>{"use strict";function g(ue){setTimeout(()=>{throw ue},0)}V.d(Te,{z:()=>g})},4487:(Ge,Te,V)=>{"use strict";function g(ue){return ue}V.d(Te,{y:()=>g})},9796:(Ge,Te,V)=>{"use strict";V.d(Te,{k:()=>g});const g=Array.isArray||(ue=>ue&&"number"==typeof ue.length)},9489:(Ge,Te,V)=>{"use strict";V.d(Te,{z:()=>g});const g=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},9105:(Ge,Te,V)=>{"use strict";function g(ue){return"function"==typeof ue}V.d(Te,{m:()=>g})},6561:(Ge,Te,V)=>{"use strict";V.d(Te,{k:()=>ue});var g=V(9796);function ue(G){return!(0,g.k)(G)&&G-parseFloat(G)+1>=0}},1555:(Ge,Te,V)=>{"use strict";function g(ue){return null!==ue&&"object"==typeof ue}V.d(Te,{K:()=>g})},4072:(Ge,Te,V)=>{"use strict";function g(ue){return!!ue&&"function"!=typeof ue.subscribe&&"function"==typeof ue.then}V.d(Te,{t:()=>g})},4869:(Ge,Te,V)=>{"use strict";function g(ue){return ue&&"function"==typeof ue.schedule}V.d(Te,{K:()=>g})},7444:(Ge,Te,V)=>{"use strict";V.d(Te,{s:()=>$});var g=V(5015),ue=V(4449),oe=V(377),ce=V(6554),he=V(9489),Q=V(4072),L=V(1555);const $=q=>{if(q&&"function"==typeof q[ce.L])return(q=>j=>{const K=q[ce.L]();if("function"!=typeof K.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return K.subscribe(j)})(q);if((0,he.z)(q))return(0,g.V)(q);if((0,Q.t)(q))return(q=>j=>(q.then(K=>{j.closed||(j.next(K),j.complete())},K=>j.error(K)).then(null,ue.z),j))(q);if(q&&"function"==typeof q[oe.hZ])return(q=>j=>{const K=q[oe.hZ]();for(;;){let fe;try{fe=K.next()}catch(ie){return j.error(ie),j}if(fe.done){j.complete();break}if(j.next(fe.value),j.closed)break}return"function"==typeof K.return&&j.add(()=>{K.return&&K.return()}),j})(q);{const K=`You provided ${(0,L.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(K)}}},5015:(Ge,Te,V)=>{"use strict";V.d(Te,{V:()=>g});const g=ue=>G=>{for(let oe=0,be=ue.length;oe<be&&!G.closed;oe++)G.next(ue[oe]);G.complete()}},80:(Ge,Te,V)=>{"use strict";var g=V(3018);let ue=null;function G(){return ue}const se=new g.OlP("DocumentToken");let he=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,g.Yz7)({factory:Q,token:s,providedIn:"platform"}),s})();function Q(){return(0,g.LFG)($)}const L=new g.OlP("Location Initialized");let $=(()=>{class s extends he{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(i){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,u){q()?this._history.pushState(i,o,u):this.location.hash=u}replaceState(i,o,u){q()?this._history.replaceState(i,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se))},s.\u0275prov=(0,g.Yz7)({factory:j,token:s,providedIn:"platform"}),s})();function q(){return!!window.history.pushState}function j(){return new $((0,g.LFG)(se))}function K(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function fe(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function ie(s){return s&&"?"!==s[0]?"?"+s:s}let ae=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,g.Yz7)({factory:xe,token:s,providedIn:"root"}),s})();function xe(s){const r=(0,g.LFG)(se).location;return new it((0,g.LFG)(he),r&&r.origin||"")}const Pe=new g.OlP("appBaseHref");let it=(()=>{class s extends ae{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return K(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+ie(this._platformLocation.search),u=this._platformLocation.hash;return u&&i?`${o}${u}`:o}pushState(i,o,u,h){const m=this.prepareExternalUrl(u+ie(h));this._platformLocation.pushState(i,o,m)}replaceState(i,o,u,h){const m=this.prepareExternalUrl(u+ie(h));this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(he),g.LFG(Pe,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),nt=(()=>{class s extends ae{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=K(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,u,h){let m=this.prepareExternalUrl(u+ie(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,o,m)}replaceState(i,o,u,h){let m=this.prepareExternalUrl(u+ie(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(he),g.LFG(Pe,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),Xe=(()=>{class s{constructor(i,o){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=fe(It(u)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+ie(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,It(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",u=null){this._platformStrategy.pushState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ie(o)),u)}replaceState(i,o="",u=null){this._platformStrategy.replaceState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ie(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(u=>u(i,o))}subscribe(i,o,u){return this._subject.subscribe({next:i,error:o,complete:u})}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(ae),g.LFG(he))},s.normalizeQueryParams=ie,s.joinWithSlash=K,s.stripTrailingSlash=fe,s.\u0275prov=(0,g.Yz7)({factory:Be,token:s,providedIn:"root"}),s})();function Be(){return new Xe((0,g.LFG)(ae),(0,g.LFG)(he))}function It(s){return s.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))();const hr=g.kL8;class bi{}let $o=(()=>{class s extends bi{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(hr(o||this.locale)(i)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.soG))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),ns=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Jt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Jt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.s_b),g.Y36(g.Rgc))},s.\u0275dir=g.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class ei{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,g.AaK)(r)}'.`)}let Ug=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[{provide:bi,useClass:$o}]}),s})();function Tc(s){return"server"===s}let Mc=(()=>{class s{}return s.\u0275prov=(0,g.Yz7)({token:s,providedIn:"root",factory:()=>new Hg((0,g.LFG)(se),window)}),s})();class Hg{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const h=u.shadowRoot;if(h){const m=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(m)return m}u=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,u=i.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],u-h[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=xc(this.window.history)||xc(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function xc(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class qo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new qo,ue||(ue=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(Ua=Ua||document.querySelector("base"),Ua?Ua.getAttribute("href"):null);return null==i?null:function(s){Oc=Oc||document.createElement("a"),Oc.setAttribute("href",s);const r=Oc.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){Ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[u,h]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(u.trim()===r)return decodeURIComponent(h)}return null}(document.cookie,r)}}let Oc,Ua=null;const Nc=new g.OlP("TRANSITION_ID"),$g=[{provide:g.ip1,useFactory:function(s,r,i){return()=>{i.get(g.CZH).donePromise.then(()=>{const o=G(),u=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let h=0;h<u.length;h++)o.remove(u[h])})}},deps:[Nc,se,g.zs3],multi:!0}];class fn{static init(){(0,g.VLi)(new fn)}addToWindow(r){g.dqk.getAngularTestability=(o,u=!0)=>{const h=r.findTestabilityInTree(o,u);if(null==h)throw new Error("Could not find testability for element.");return h},g.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(o=>{const u=g.dqk.getAllAngularTestabilities();let h=u.length,m=!1;const v=function(D){m=m||D,h--,0==h&&o(m)};u.forEach(function(D){D.whenStable(v)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const u=r.getTestability(i);return null!=u?u:o?G().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let Gg=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const Wo=new g.OlP("EventManagerPlugins");let Vc=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(u=>u.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,u){return this._findPluginFor(o).addEventListener(i,o,u)}addGlobalEventListener(i,o,u){return this._findPluginFor(o).addGlobalEventListener(i,o,u)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const u=this._plugins;for(let h=0;h<u.length;h++){const m=u[h];if(m.supports(i))return this._eventNameToPlugin.set(i,m),m}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Wo),g.LFG(g.R0b))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class nu{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const u=G().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${i}`);return this.addEventListener(u,i,o)}}let lf=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),Zo=(()=>{class s extends lf{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,u){i.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,u.push(o.appendChild(m))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(qg),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(i,u,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(qg))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();function qg(s){G().remove(s)}const Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Nt=/%COMP%/g;function fo(s,r,i){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?fo(s,u,i):(u=u.replace(Nt,s),i.push(u))}return i}function yv(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Ko=(()=>{class s{constructor(i,o,u){this.eventManager=i,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new po(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case g.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new go(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(i),u}case 1:case g.ifc.ShadowDom:return new Is(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const u=fo(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Vc),g.LFG(Zo),g.LFG(g.AFp))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class po{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Me[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,u){if(u){i=u+":"+i;const h=Me[u];h?r.setAttributeNS(h,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const u=Me[o];u?r.removeAttributeNS(u,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,u){u&(g.JOm.DashCase|g.JOm.Important)?r.style.setProperty(i,o,u&g.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&g.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,yv(o)):this.eventManager.addEventListener(r,i,yv(o))}}class go extends po{constructor(r,i,o,u){super(r),this.component=o;const h=fo(u+"-"+o.id,o.styles,[]);i.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Nt,u+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(Nt,s)}(u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class Is extends po{constructor(r,i,o,u){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=fo(u.id,u.styles,[]);for(let m=0;m<h.length;m++){const v=document.createElement("style");v.textContent=h[m],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let vv=(()=>{class s extends nu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,u){return i.addEventListener(o,u,!1),()=>this.removeEventListener(i,o,u)}removeEventListener(i,o,u){return i.removeEventListener(o,u)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const su=["alt","control","meta","shift"],Cv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},er={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Hr=(()=>{class s extends nu{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,u){const h=s.parseEventName(o),m=s.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(i,h.domEventName,m))}static parseEventName(i){const o=i.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const h=s._normalizeKey(o.pop());let m="";if(su.forEach(D=>{const M=o.indexOf(D);M>-1&&(o.splice(M,1),m+=D+".")}),m+=h,0!=o.length||0===h.length)return null;const v={};return v.domEventName=u,v.fullKey=m,v}static getEventFullKey(i){let o="",u=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Qg.hasOwnProperty(r)&&(r=Qg[r]))}return Cv[r]||r}(i);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),su.forEach(h=>{h!=u&&er[h](i)&&(o+=h+".")}),o+=u,o}static eventCallback(i,o,u){return h=>{s.getEventFullKey(h)===i&&u.runGuarded(()=>o(h))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const Sv=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function(){qo.makeCurrent(),fn.init()},multi:!0},{provide:se,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),Qo=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Wo,useClass:vv,multi:!0,deps:[se,g.R0b,g.Lbi]},{provide:Wo,useClass:Hr,multi:!0,deps:[se]},[],{provide:Ko,useClass:Ko,deps:[Vc,Zo,g.AFp]},{provide:g.FYo,useExisting:Ko},{provide:lf,useExisting:Zo},{provide:Zo,useClass:Zo,deps:[se]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Vc,useClass:Vc,deps:[Wo,g.R0b]},{provide:class{},useClass:Gg,deps:[]},[]];let rs=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:g.AFp,useValue:i.appId},{provide:Nc,useExisting:g.AFp},$g]}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(s,12))},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:Qo,imports:[Ug,g.hGG]}),s})();"undefined"!=typeof window&&window;var gn=V(4402),On=V(7574),Zc=V(9796),dt=V(8002),Kc=V(1555);function Jo(s,r){return new On.y(i=>{const o=s.length;if(0===o)return void i.complete();const u=new Array(o);let h=0,m=0;for(let v=0;v<o;v++){const D=(0,gn.D)(s[v]);let M=!1;i.add(D.subscribe({next:x=>{M||(M=!0,m++),u[v]=x},error:x=>i.error(x),complete:()=>{h++,(h===o||!M)&&(m===o&&i.next(r?r.reduce((x,N,H)=>(x[N]=u[H],x),{}):u),i.complete())}}))}})}let Yc=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.Qsj),g.Y36(g.SBq))},s.\u0275dir=g.lG2({type:s}),s})(),Li=(()=>{class s extends Yc{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,features:[g.qOj]}),s})();const Vi=new g.OlP("NgValueAccessor"),Qc={provide:Vi,useExisting:(0,g.Gpc)(()=>bo),multi:!0},rm=new g.OlP("CompositionEventMode");let bo=(()=>{class s extends Yc{constructor(i,o,u){super(i,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=G()?G().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(rm,8))},s.\u0275dir=g.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&g.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[g._Bn([Qc]),g.qOj]}),s})();const Bn=new g.OlP("NgValidators"),Ss=new g.OlP("NgAsyncValidators");function xv(s){return null!=s}function Xc(s){const r=(0,g.QGY)(s)?(0,gn.D)(s):s;return(0,g.CqO)(r),r}function Rv(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function ed(s,r){return r.map(i=>i(s))}function td(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function nd(s){return null!=s?function(s){if(!s)return null;const r=s.filter(xv);return 0==r.length?null:function(i){return Rv(ed(i,r))}}(td(s)):null}function id(s){return null!=s?function(s){if(!s)return null;const r=s.filter(xv);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,Zc.k)(r))return Jo(r,null);if((0,Kc.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return Jo(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return Jo(s=1===s.length&&(0,Zc.k)(s[0])?s[0]:s,null).pipe((0,dt.U)(i=>r(...i)))}return Jo(s,null)}(ed(i,r).map(Xc)).pipe((0,dt.U)(Rv))}}(td(s)):null}function Ov(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function wo(s){return s?Array.isArray(s)?s:[s]:[]}function cu(s,r){return Array.isArray(s)?s.includes(r):s===r}function Nv(s,r){const i=wo(r);return wo(s).forEach(u=>{cu(i,u)||i.push(u)}),i}function Wa(s,r){return wo(r).filter(i=>!cu(s,i))}let kv=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=nd(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=id(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=g.lG2({type:s}),s})(),Ft=(()=>{class s extends kv{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=g.n5z(s)))(o||s)}}(),s.\u0275dir=g.lG2({type:s,features:[g.qOj]}),s})();class Ii extends kv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class du{constructor(r){this._cd=r}is(r){var i,o,u;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let ri=(()=>{class s extends du{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Ii,2))},s.\u0275dir=g.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&g.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[g.qOj]}),s})(),ii=(()=>{class s extends du{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Ft,10))},s.\u0275dir=g.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&g.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[g.qOj]}),s})();function Za(s,r){od(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&As(s,r)})}(s,r),function(s,r){const i=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&As(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function sd(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function od(s,r){const i=function(s){return s._rawValidators}(s);null!==r.validator?s.setValidators(Ov(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=function(s){return s._rawAsyncValidators}(s);null!==r.asyncValidator?s.setAsyncValidators(Ov(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const u=()=>s.updateValueAndValidity();sd(r._rawValidators,u),sd(r._rawAsyncValidators,u)}function As(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Ms(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Bi="VALID",xs="INVALID",oi="PENDING",Qa="DISABLED";function Af(s){return(ia(s)?s.validators:s)||null}function fu(s){return Array.isArray(s)?nd(s):s||null}function Mf(s,r){return(ia(r)?r.asyncValidators:s)||null}function pu(s){return Array.isArray(s)?id(s):s||null}function ia(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Rs{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=fu(this._rawValidators),this._composedAsyncValidatorFn=pu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Bi}get invalid(){return this.status===xs}get pending(){return this.status==oi}get disabled(){return this.status===Qa}get enabled(){return this.status!==Qa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=fu(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=pu(r)}addValidators(r){this.setValidators(Nv(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Nv(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Wa(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Wa(r,this._rawAsyncValidators))}hasValidator(r){return cu(this._rawValidators,r)}hasAsyncValidator(r){return cu(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=oi,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Qa,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Bi,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bi||this.status===oi)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qa:Bi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator=!0;const i=Xc(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(u=>{o=o instanceof vn?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof am&&o.at(u)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Qa:this.errors?xs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(xs)?xs:Bi}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){ia(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ja extends Rs{constructor(r=null,i,o){super(Af(i),Mf(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ms(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ms(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class vn extends Rs{constructor(r,i,o){super(Af(i),Mf(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof Ja?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((u,h)=>{o=i(o,u,h)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class am extends Rs{constructor(r,i,o){super(Af(i),Mf(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof Ja?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const Vv={provide:Ft,useExisting:(0,g.Gpc)(()=>ad)},Os=(()=>Promise.resolve(null))();let ad=(()=>{class s extends Ft{constructor(i,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new g.vpe,this.form=new vn({},nd(i),id(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Os.then(()=>{const o=this._findContainer(i.path);i.control=o.registerControl(i.name,i.control),Za(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Os.then(()=>{const o=this._findContainer(i.path);o&&o.removeControl(i.name),Ms(this._directives,i)})}addFormGroup(i){Os.then(()=>{const o=this._findContainer(i.path),u=new vn({});(function(s,r){od(s,r)})(u,i),o.registerControl(i.name,u),u.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Os.then(()=>{const o=this._findContainer(i.path);o&&o.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,o){Os.then(()=>{this.form.get(i.path).setValue(o)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Bn,10),g.Y36(Ss,10))},s.\u0275dir=g.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){1&i&&g.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Vv]),g.qOj]}),s})();const Ns={provide:Ii,useExisting:(0,g.Gpc)(()=>Of)},ks=(()=>Promise.resolve(null))();let Of=(()=>{class s extends Ii{constructor(i,o,u,h){super(),this.control=new Ja,this._registered=!1,this.update=new g.vpe,this._parent=i,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(s,r){if(!r)return null;let i,o,u;return Array.isArray(r),r.forEach(h=>{h.constructor===bo?i=h:function(s){return Object.getPrototypeOf(s.constructor)===Li}(h)?o=h:u=h}),u||o||i||null}(0,h)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(s,r){return[...r.path,s]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Za(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){ks.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const o=i.isDisabled.currentValue,u=""===o||o&&"false"!==o;ks.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(Ft,9),g.Y36(Bn,10),g.Y36(Ss,10),g.Y36(Vi,10))},s.\u0275dir=g.lG2({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Ns]),g.qOj,g.TTD]}),s})(),Nf=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=g.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),lm=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})();const Lf={provide:Bn,useExisting:(0,g.Gpc)(()=>yu),multi:!0};let yu=(()=>{class s{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?function(s){return function(s){return null==s||0===s.length}(s.value)?{required:!0}:null}(i):null}registerOnValidatorChange(i){this._onChange=i}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=g.lG2({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){2&i&&g.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[g._Bn([Lf])]}),s})(),Bf=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[lm]]}),s})(),eC=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[Bf]}),s})();var rt=V(5917),Vt=V(9765),yd=V(7971);class li extends Vt.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yd.N;return this._value}next(r){super.next(this._value=r)}}var vu=V(4869),$r=V(7393);class Xv extends $r.L{notifyNext(r,i,o,u,h){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class eb extends $r.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var bm=V(7444);function bu(s,r,i,o,u=new eb(s,i,o)){if(!u.closed)return r instanceof On.y?r.subscribe(u):(0,bm.s)(r)(u)}var vd=V(6693);const rl={};function Uf(...s){let r,i;return(0,vu.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,Zc.k)(s[0])&&(s=s[0]),(0,vd.n)(s,i).lift(new Sn(r))}class Sn{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new jf(r,this.resultSelector))}}class jf extends Xv{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(rl),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(bu(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const u=this.values,m=this.toRespond?u[o]===rl?--this.toRespond:this.toRespond:0;u[o]=i,0===m&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}const is=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var il=V(3282);function sl(...s){return(0,il.J)(1)((0,rt.of)(...s))}var ss=V(9193);function Em(s){return new On.y(r=>{let i;try{i=s()}catch(u){return void r.error(u)}return(i?(0,gn.D)(i):(0,ss.c)()).subscribe(r)})}var wm=V(2441),Ui=V(5345);function bn(s,r){return"function"==typeof r?i=>i.pipe(bn((o,u)=>(0,gn.D)(s(o,u)).pipe((0,dt.U)((h,m)=>r(o,h,u,m))))):i=>i.lift(new ol(s))}class ol{constructor(r){this.project=r}call(r,i){return i.subscribe(new Cr(r,this.project))}}class Cr extends Ui.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new Ui.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Ui.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const Hf=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function Fs(s){return r=>0===s?(0,ss.c)():r.lift(new qt(s))}class qt{constructor(r){if(this.total=r,this.total<0)throw new Hf}call(r,i){return i.subscribe(new aa(r,this.total))}}class aa extends $r.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}function ji(...s){const r=s[s.length-1];return(0,vu.K)(r)?(s.pop(),i=>sl(s,i,r)):i=>sl(s,i)}function la(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(u){return u.lift(new nb(s,r,i))}}class nb{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new os(r,this.accumulator,this.seed,this.hasSeed))}}class os extends $r.L{constructor(r,i,o,u){super(r),this.accumulator=i,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function Gr(s,r){return function(o){return o.lift(new $f(s,r))}}class $f{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new Dm(r,this.predicate,this.thisArg))}}class Dm extends $r.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}function as(s){return function(i){const o=new rb(s),u=i.lift(o);return o.caught=u}}class rb{constructor(r){this.selector=r}call(r,i){return i.subscribe(new ib(r,this.selector,this.caught))}}class ib extends Ui.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new Ui.IY(this);this.add(o);const u=(0,Ui.ft)(i,o);u!==o&&this.add(u)}}}var Dr=V(9773);function al(s,r){return(0,Dr.zg)(s,r,1)}function C(s){return function(i){return 0===s?(0,ss.c)():i.lift(new y(s))}}class y{constructor(r){if(this.total=r,this.total<0)throw new Hf}call(r,i){return i.subscribe(new E(r,this.total))}}class E extends $r.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,u=this.count++;i.length<o?i.push(r):i[u%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let h=0;h<o;h++){const m=i++%o;r.next(u[m])}}r.complete()}}function I(s=J){return r=>r.lift(new O(s))}class O{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new P(r,this.errorFactory))}}class P extends $r.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function J(){return new is}function we(s=null){return r=>r.lift(new Ve(s))}class Ve{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new qe(r,this.defaultValue))}}class qe extends $r.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var pt=V(4487);function ln(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Gr((u,h)=>s(u,h,o)):pt.y,Fs(1),i?we(r):I(()=>new is))}var En=V(3342),ua=V(1307),Nn=V(5319);class Im{constructor(r){this.callback=r}call(r,i){return i.subscribe(new Sm(r,this.callback))}}class Sm extends $r.L{constructor(r,i){super(r),this.add(new Nn.w(i))}}class Ai{constructor(r,i){this.id=r,this.url=i}}class Gf extends Ai{constructor(r,i,o="imperative",u=null){super(r,i),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ca extends Ai{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ed extends Ai{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tm extends Ai{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sb extends Ai{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class So extends Ai{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends Ai{constructor(r,i,o,u,h){super(r,i),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _R extends Ai{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yR extends Ai{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ob{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cA{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class To{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ab{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lb{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dA{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ub{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mt="primary";class nC{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Eu(s){return new nC(s)}const Am="ngNavigationCancelingError";function zf(s){const r=Error("NavigationCancelingError: "+s);return r[Am]=!0,r}function vR(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const u={};for(let h=0;h<o.length;h++){const m=o[h],v=s[h];if(m.startsWith(":"))u[m.substring(1)]=v;else if(m!==v.path)return null}return{consumed:s.slice(0,o.length),posParams:u}}function us(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let u;for(let h=0;h<i.length;h++)if(u=i[h],!cb(s[u],r[u]))return!1;return!0}function cb(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((u,h)=>o[h]===u)}return s===r}function iC(s){return Array.prototype.concat.apply([],s)}function Mm(s){return s.length>0?s[s.length-1]:null}function Ir(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function Ao(s){return(0,g.CqO)(s)?s:(0,g.QGY)(s)?(0,gn.D)(Promise.resolve(s)):(0,rt.of)(s)}const fA={exact:function fb(s,r,i){if(!wu(s.segments,r.segments)||!qf(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!fb(s.children[o],r.children[o],i))return!1;return!0},subset:oC},sC={exact:function(s,r){return us(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>cb(s[i],r[i]))},ignored:()=>!0};function db(s,r,i){return fA[i.paths](s.root,r.root,i.matrixParams)&&sC[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function oC(s,r,i){return aC(s,r,r.segments,i)}function aC(s,r,i,o){if(s.segments.length>i.length){const u=s.segments.slice(0,i.length);return!(!wu(u,i)||r.hasChildren()||!qf(u,i,o))}if(s.segments.length===i.length){if(!wu(s.segments,i)||!qf(s.segments,i,o))return!1;for(const u in r.children)if(!s.children[u]||!oC(s.children[u],r.children[u],o))return!1;return!0}{const u=i.slice(0,s.segments.length),h=i.slice(s.segments.length);return!!(wu(s.segments,u)&&qf(s.segments,u,o)&&s.children[Mt])&&aC(s.children[Mt],r,h,o)}}function qf(s,r,i){return r.every((o,u)=>sC[i](s[u].parameters,o.parameters))}class ll{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return uC.serialize(this)}}class xt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Ir(i,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wf(this)}}class Cd{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Eu(this.parameters)),this._parameterMap}toString(){return Nm(this)}}function wu(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class gb{}class mb{parse(r){const i=new ER(r);return new ll(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${Cu(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(u=>`${Du(i)}=${Du(u)}`).join("&"):`${Du(i)}=${Du(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const uC=new mb;function Wf(s){return s.segments.map(r=>Nm(r)).join("/")}function Cu(s,r){if(!s.hasChildren())return Wf(s);if(r){const i=s.children[Mt]?Cu(s.children[Mt],!1):"",o=[];return Ir(s.children,(u,h)=>{h!==Mt&&o.push(`${h}:${Cu(u,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return Ir(s.children,(o,u)=>{u===Mt&&(i=i.concat(r(o,u)))}),Ir(s.children,(o,u)=>{u!==Mt&&(i=i.concat(r(o,u)))}),i}(s,(o,u)=>u===Mt?[Cu(s.children[Mt],!1)]:[`${u}:${Cu(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Mt]?`${Wf(s)}/${i[0]}`:`${Wf(s)}/(${i.join("//")})`}}function _b(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(s){return _b(s).replace(/%3B/gi,";")}function Om(s){return _b(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dd(s){return decodeURIComponent(s)}function yb(s){return Dd(s.replace(/\+/g,"%20"))}function Nm(s){return`${Om(s.path)}${function(s){return Object.keys(s).map(r=>`;${Om(r)}=${Om(s[r])}`).join("")}(s.parameters)}`}const cC=/^[^\/()?;=#]+/;function km(s){const r=s.match(cC);return r?r[0]:""}const gA=/^[^=?&#]+/,vb=/^[^?&#]+/;class ER{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[Mt]=new xt(r,i)),o}parseSegment(){const r=km(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Cd(Dd(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=km(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const u=km(this.remaining);u&&(o=u,this.capture(o))}r[Dd(i)]=Dd(o)}parseQueryParam(r){const i=function(s){const r=s.match(gA);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const m=function(s){const r=s.match(vb);return r?r[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const u=yb(i),h=yb(o);if(r.hasOwnProperty(u)){let m=r[u];Array.isArray(m)||(m=[m],r[u]=m),m.push(h)}else r[u]=h}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=km(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=Mt);const m=this.parseChildren();i[h]=1===Object.keys(m).length?m[Mt]:new xt([],m),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class bb{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=Eb(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=Eb(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=Pm(r,this._root);return i.length<2?[]:i[i.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Pm(r,this._root).map(i=>i.value)}}function Eb(s,r){if(s===r.value)return r;for(const i of r.children){const o=Eb(s,i);if(o)return o}return null}function Pm(s,r){if(s===r.value)return[r];for(const i of r.children){const o=Pm(s,i);if(o.length)return o.unshift(r),o}return[]}class da{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function Kf(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class cs extends bb{constructor(r,i){super(r),this.snapshot=i,Cb(this,r)}toString(){return this.snapshot.toString()}}function fC(s,r){const i=function(s,r){const m=new Fm([],{},{},"",{},Mt,r,null,s.root,-1,{});return new wb("",new da(m,[]))}(s,r),o=new li([new Cd("",{})]),u=new li({}),h=new li({}),m=new li({}),v=new li(""),D=new Id(o,u,m,v,h,Mt,r,i.root);return D.snapshot=i.root,new cs(new da(D,[]),i)}class Id{constructor(r,i,o,u,h,m,v,D){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=m,this.component=v,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(r=>Eu(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(r=>Eu(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gC(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const u=i[o],h=i[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(h.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class Fm{constructor(r,i,o,u,h,m,v,D,M,x,N){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=m,this.component=v,this.routeConfig=D,this._urlSegment=M,this._lastPathIndex=x,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wb extends bb{constructor(r,i){super(i),this.url=r,Cb(this,i)}toString(){return mC(this._root)}}function Cb(s,r){r.value._routerState=s,r.children.forEach(i=>Cb(s,i))}function mC(s){const r=s.children.length>0?` { ${s.children.map(mC).join(", ")} } `:"";return`${s.value}${r}`}function Db(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,us(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),us(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!us(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),us(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function _t(s,r){return us(s.params,r.params)&&function(s,r){return wu(s,r)&&s.every((i,o)=>us(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||_t(s.parent,r.parent))}function Yf(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const u=function(s,r,i){return r.children.map(o=>{for(const u of i.children)if(s.shouldReuseRoute(o.value,u.value.snapshot))return Yf(s,o,u);return Yf(s,o)})}(s,r,i);return new da(o,u)}{if(s.shouldAttach(r.value)){const h=s.retrieve(r.value);if(null!==h){const m=h.route;return Qf(r,m),m}}const o=function(s){return new Id(new li(s.url),new li(s.params),new li(s.queryParams),new li(s.fragment),new li(s.data),s.outlet,s.component,s)}(r.value),u=r.children.map(h=>Yf(s,h));return new da(o,u)}}function Qf(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)Qf(s.children[i],r.children[i])}function Sd(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function Hi(s){return"object"==typeof s&&null!=s&&s.outlets}function Jf(s,r,i,o,u){let h={};return o&&Ir(o,(m,v)=>{h[v]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),new ll(i.root===s?r:Ib(i.root,s,r),h,u)}function Ib(s,r,i){const o={};return Ir(s.children,(u,h)=>{o[h]=u===r?i:Ib(u,r,i)}),new xt(s.segments,o)}class Lm{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&Sd(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(Hi);if(u&&u!==Mm(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vm{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function Xf(s,r,i){if(s||(s=new xt([],{})),0===s.segments.length&&s.hasChildren())return Td(s,r,i);const o=function(s,r,i){let o=0,u=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;u<s.segments.length;){if(o>=i.length)return h;const m=s.segments[u],v=i[o];if(Hi(v))break;const D=`${v}`,M=o<i.length-1?i[o+1]:null;if(u>0&&void 0===D)break;if(D&&M&&"object"==typeof M&&void 0===M.outlets){if(!bC(D,M,m))return h;o+=2}else{if(!bC(D,{},m))return h;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(s,r,i),u=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const h=new xt(s.segments.slice(0,o.pathIndex),{});return h.children[Mt]=new xt(s.segments.slice(o.pathIndex),s.children),Td(h,0,u)}return o.match&&0===u.length?new xt(s.segments,{}):o.match&&!s.hasChildren()?Sb(s,r,i):o.match?Td(s,0,u):Sb(s,r,i)}function Td(s,r,i){if(0===i.length)return new xt(s.segments,{});{const o=function(s){return Hi(s[0])?s[0].outlets:{[Mt]:s}}(i),u={};return Ir(o,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(u[m]=Xf(s.children[m],r,h))}),Ir(s.children,(h,m)=>{void 0===o[m]&&(u[m]=h)}),new xt(s.segments,u)}}function Sb(s,r,i){const o=s.segments.slice(0,r);let u=0;for(;u<i.length;){const h=i[u];if(Hi(h)){const D=vC(h.outlets);return new xt(o,D)}if(0===u&&Sd(i[0])){o.push(new Cd(s.segments[r].path,yA(i[0]))),u++;continue}const m=Hi(h)?h.outlets[Mt]:`${h}`,v=u<i.length-1?i[u+1]:null;m&&v&&Sd(v)?(o.push(new Cd(m,yA(v))),u+=2):(o.push(new Cd(m,{})),u++)}return new xt(o,{})}function vC(s){const r={};return Ir(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=Sb(new xt([],{}),0,i))}),r}function yA(s){const r={};return Ir(s,(i,o)=>r[o]=`${i}`),r}function bC(s,r,i){return s==i.path&&us(r,i.parameters)}class EC{constructor(r,i,o,u){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=u}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),Db(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const u=Kf(i);r.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,u[m],o),delete u[m]}),Ir(u,(h,m)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(r,i,o){const u=r.value,h=i?i.value:null;if(u===h)if(u.component){const m=o.getContext(u.outlet);m&&this.deactivateChildRoutes(r,i,m.children)}else this.deactivateChildRoutes(r,i,o);else h&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:h})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),u=o&&r.value.component?o.children:i,h=Kf(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const u=Kf(i);r.children.forEach(h=>{this.activateRoutes(h,u[h.value.outlet],o),this.forwardEvent(new dA(h.value.snapshot))}),r.children.length&&this.forwardEvent(new ab(r.value.snapshot))}activateRoutes(r,i,o){const u=r.value,h=i?i.value:null;if(Db(u),u===h)if(u.component){const m=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,i,m.children)}else this.activateChildRoutes(r,i,o);else if(u.component){const m=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),m.children.onOutletReAttached(v.contexts),m.attachRef=v.componentRef,m.route=v.route.value,m.outlet&&m.outlet.attach(v.componentRef,v.route.value),Tb(v.route)}else{const v=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(u.snapshot),D=v?v.module.componentFactoryResolver:null;m.attachRef=null,m.route=u,m.resolver=D,m.outlet&&m.outlet.activateWith(u,D),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,o)}}function Tb(s){Db(s.value),s.children.forEach(Tb)}class ep{constructor(r,i){this.routes=r,this.module=i}}function Iu(s){return"function"==typeof s}function Ad(s){return s instanceof ll}const Um=Symbol("INITIAL_VALUE");function jm(){return bn(s=>Uf(s.map(r=>r.pipe(Fs(1),ji(Um)))).pipe(la((r,i)=>{let o=!1;return i.reduce((u,h,m)=>u!==Um?u:(h===Um&&(o=!0),o||!1!==h&&m!==i.length-1&&!Ad(h)?u:h),r)},Um),Gr(r=>r!==Um),(0,dt.U)(r=>Ad(r)?r:!0===r),Fs(1)))}let bA=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&g._UZ(0,"router-outlet")},directives:function(){return[Jm]},encapsulation:2}),s})();function EA(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];ul(o,Ab(r,o))}}function ul(s,r){s.children&&EA(s.children,r)}function Ab(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function Mb(s){const r=s.children&&s.children.map(Mb),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==Mt&&(i.component=bA),i}function $i(s){return s.outlet||Mt}function Hm(s,r){const i=s.filter(o=>$i(o)===r);return i.push(...s.filter(o=>$i(o)!==r)),i}const xb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Md(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},xb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(r.matcher||vR)(i,s,r);if(!h)return Object.assign({},xb);const m={};Ir(h.posParams,(D,M)=>{m[M]=D.path});const v=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:v,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function $m(s,r,i,o,u="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>xd(s,r,o)&&$i(o)!==Mt)}(s,i,o)){const m=new xt(r,function(s,r,i,o){const u={};u[Mt]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const h of i)if(""===h.path&&$i(h)!==Mt){const m=new xt([],{});m._sourceSegment=s,m._segmentIndexShift=r.length,u[$i(h)]=m}return u}(s,r,o,new xt(i,s.children)));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>xd(s,r,o))}(s,i,o)){const m=new xt(s.segments,function(s,r,i,o,u,h){const m={};for(const v of o)if(xd(s,i,v)&&!u[$i(v)]){const D=new xt([],{});D._sourceSegment=s,D._segmentIndexShift="legacy"===h?s.segments.length:r.length,m[$i(v)]=D}return Object.assign(Object.assign({},u),m)}(s,r,i,o,s.children,u));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:i}}const h=new xt(s.segments,s.children);return h._sourceSegment=s,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:i}}function xd(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function CC(s,r,i,o){return!!($i(s)===o||o!==Mt&&xd(r,i,s))&&("**"===s.path||Md(r,s,i).matched)}function Rb(s,r,i){return 0===r.length&&!s.children[i]}class tp{constructor(r){this.segmentGroup=r||null}}class DC{constructor(r){this.urlTree=r}}function dl(s){return new On.y(r=>r.error(new tp(s)))}function Su(s){return new On.y(r=>r.error(new DC(s)))}function Ob(s){return new On.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class Od{constructor(r,i,o,u,h){this.configLoader=i,this.urlSerializer=o,this.urlTree=u,this.config=h,this.allowRedirects=!0,this.ngModule=r.get(g.h0i)}apply(){const r=$m(this.urlTree.root,[],[],this.config).segmentGroup,i=new xt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Mt).pipe((0,dt.U)(h=>this.createUrlTree(Gm(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(as(h=>{if(h instanceof DC)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof tp?this.noMatchError(h):h}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Mt).pipe((0,dt.U)(u=>this.createUrlTree(Gm(u),r.queryParams,r.fragment))).pipe(as(u=>{throw u instanceof tp?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const u=r.segments.length>0?new xt([],{[Mt]:r}):r;return new ll(u,i,o)}expandSegmentGroup(r,i,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,dt.U)(h=>new xt([],h))):this.expandSegment(r,o,i,o.segments,u,!0)}expandChildren(r,i,o){const u=[];for(const h of Object.keys(o.children))"primary"===h?u.unshift(h):u.push(h);return(0,gn.D)(u).pipe(al(h=>{const m=o.children[h],v=Hm(i,h);return this.expandSegmentGroup(r,v,m,h).pipe((0,dt.U)(D=>({segment:D,outlet:h})))}),la((h,m)=>(h[m.outlet]=m.segment,h),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Gr((u,h)=>s(u,h,o)):pt.y,C(1),i?we(r):I(()=>new is))}())}expandSegment(r,i,o,u,h,m){return(0,gn.D)(o).pipe(al(v=>this.expandSegmentAgainstRoute(r,i,o,v,u,h,m).pipe(as(M=>{if(M instanceof tp)return(0,rt.of)(null);throw M}))),ln(v=>!!v),as((v,D)=>{if(v instanceof is||"EmptyError"===v.name){if(Rb(i,u,h))return(0,rt.of)(new xt([],{}));throw new tp(i)}throw v}))}expandSegmentAgainstRoute(r,i,o,u,h,m,v){return CC(u,i,h,m)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,i,u,h,m):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m):dl(i):dl(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,u){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Su(h):this.lineralizeSegments(o,h).pipe((0,Dr.zg)(m=>{const v=new xt(m,{});return this.expandSegment(r,v,i,m,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m){const{matched:v,consumedSegments:D,lastChild:M,positionalParamSegments:x}=Md(i,u,h);if(!v)return dl(i);const N=this.applyRedirectCommands(D,u.redirectTo,x);return u.redirectTo.startsWith("/")?Su(N):this.lineralizeSegments(u,N).pipe((0,Dr.zg)(H=>this.expandSegment(r,i,o,H.concat(h.slice(M)),m,!1)))}matchSegmentAgainstRoute(r,i,o,u,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,rt.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,dt.U)(H=>(o._loadedConfig=H,new xt(u,{})))):(0,rt.of)(new xt(u,{}));const{matched:m,consumedSegments:v,lastChild:D}=Md(i,o,u);if(!m)return dl(i);const M=u.slice(D);return this.getChildConfig(r,o,u).pipe((0,Dr.zg)(N=>{const H=N.module,z=N.routes,{segmentGroup:ee,slicedSegments:Ce}=$m(i,v,M,z),Re=new xt(ee.segments,ee.children);if(0===Ce.length&&Re.hasChildren())return this.expandChildren(H,z,Re).pipe((0,dt.U)(bt=>new xt(v,bt)));if(0===z.length&&0===Ce.length)return(0,rt.of)(new xt(v,{}));const tt=$i(o)===h;return this.expandSegment(H,Re,z,Ce,tt?Mt:h,!0).pipe((0,dt.U)(at=>new xt(v.concat(at.segments),at.children)))}))}getChildConfig(r,i,o){return i.children?(0,rt.of)(new ep(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,rt.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,Dr.zg)(u=>{return u?this.configLoader.load(r.injector,i).pipe((0,dt.U)(h=>(i._loadedConfig=h,h))):(s=i,new On.y(r=>r.error(zf(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,rt.of)(new ep([],r))}runCanLoadGuards(r,i,o){const u=i.canLoad;if(!u||0===u.length)return(0,rt.of)(!0);const h=u.map(m=>{const v=r.get(m);let D;if((s=v)&&Iu(s.canLoad))D=v.canLoad(i,o);else{if(!Iu(v))throw new Error("Invalid CanLoad guard");D=v(i,o)}var s;return Ao(D)});return(0,rt.of)(h).pipe(jm(),(0,En.b)(m=>{if(!Ad(m))return;const v=zf(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw v.url=m,v}),(0,dt.U)(m=>!0===m))}lineralizeSegments(r,i){let o=[],u=i.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,rt.of)(o);if(u.numberOfChildren>1||!u.children[Mt])return Ob(r.redirectTo);u=u.children[Mt]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,u){const h=this.createSegmentGroup(r,i.root,o,u);return new ll(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return Ir(r,(u,h)=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);o[h]=i[v]}else o[h]=u}),o}createSegmentGroup(r,i,o,u){const h=this.createSegments(r,i.segments,o,u);let m={};return Ir(i.children,(v,D)=>{m[D]=this.createSegmentGroup(r,v,o,u)}),new xt(h,m)}createSegments(r,i,o,u){return i.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,u):this.findOrReturn(h,o))}findPosParam(r,i,o){const u=o[i.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return u}findOrReturn(r,i){let o=0;for(const u of i){if(u.path===r.path)return i.splice(o),u;o++}return r}}function Gm(s){const r={};for(const o of Object.keys(s.children)){const h=Gm(s.children[o]);(h.segments.length>0||h.hasChildren())&&(r[o]=h)}return function(s){if(1===s.numberOfChildren&&s.children[Mt]){const r=s.children[Mt];return new xt(s.segments.concat(r.segments),r.children)}return s}(new xt(s.segments,r))}class zm{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Nd{constructor(r,i){this.component=r,this.route=i}}function SC(s,r,i){const o=s._root;return Zm(o,r?r._root:null,i,[o.value])}function Wm(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function Zm(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=Kf(r);return s.children.forEach(m=>{(function(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=s.value,m=r?r.value:null,v=i?i.getContext(s.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const D=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!wu(s.url,r.url);case"pathParamsOrQueryParamsChange":return!wu(s.url,r.url)||!us(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_t(s,r)||!us(s.queryParams,r.queryParams);case"paramsChange":default:return!_t(s,r)}}(m,h,h.routeConfig.runGuardsAndResolvers);D?u.canActivateChecks.push(new zm(o)):(h.data=m.data,h._resolvedData=m._resolvedData),Zm(s,r,h.component?v?v.children:null:i,o,u),D&&v&&v.outlet&&v.outlet.isActivated&&u.canDeactivateChecks.push(new Nd(v.outlet.component,m))}else m&&rp(r,v,u),u.canActivateChecks.push(new zm(o)),Zm(s,null,h.component?v?v.children:null:i,o,u)})(m,h[m.value.outlet],i,o.concat([m.value]),u),delete h[m.value.outlet]}),Ir(h,(m,v)=>rp(m,i.getContext(v),u)),u}function rp(s,r,i){const o=Kf(s),u=s.value;Ir(o,(h,m)=>{rp(h,u.component?r?r.children.getContext(m):null:r,i)}),i.canDeactivateChecks.push(new Nd(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class RC{}function AA(s){return new On.y(r=>r.error(s))}class Nb{constructor(r,i,o,u,h,m){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const r=$m(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,Mt);if(null===i)return null;const o=new Fm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new da(o,i),h=new wb(this.url,u);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(r){const i=r.value,o=gC(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const h of Object.keys(i.children)){const m=i.children[h],v=Hm(r,h),D=this.processSegmentGroup(v,m,h);if(null===D)return null;o.push(...D)}const u=NC(o);return u.sort((r,i)=>r.value.outlet===Mt?-1:i.value.outlet===Mt?1:r.value.outlet.localeCompare(i.value.outlet)),u}processSegment(r,i,o,u){for(const h of r){const m=this.processSegmentAgainstRoute(h,i,o,u);if(null!==m)return m}return Rb(i,o,u)?[]:null}processSegmentAgainstRoute(r,i,o,u){if(r.redirectTo||!CC(r,i,o,u))return null;let h,m=[],v=[];if("**"===r.path){const z=o.length>0?Mm(o).parameters:{};h=new Fm(o,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PC(r),$i(r),r.component,r,kC(i),kb(i)+o.length,FC(r))}else{const z=Md(i,r,o);if(!z.matched)return null;m=z.consumedSegments,v=o.slice(z.lastChild),h=new Fm(m,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,PC(r),$i(r),r.component,r,kC(i),kb(i)+m.length,FC(r))}const D=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:M,slicedSegments:x}=$m(i,m,v,D.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);var s;if(0===x.length&&M.hasChildren()){const z=this.processChildren(D,M);return null===z?null:[new da(h,z)]}if(0===D.length&&0===x.length)return[new da(h,[])];const N=$i(r)===u,H=this.processSegment(D,M,x,N?Mt:u);return null===H?null:[new da(h,H)]}}function RA(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function NC(s){const r=[],i=new Set;for(const o of s){if(!RA(o)){r.push(o);continue}const u=r.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==u?(u.children.push(...o.children),i.add(u)):r.push(o)}for(const o of i){const u=NC(o.children);r.push(new da(o.value,u))}return r.filter(o=>!i.has(o))}function kC(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function kb(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function PC(s){return s.data||{}}function FC(s){return s.resolve||{}}function Fb(s){return bn(r=>{const i=s(r);return i?(0,gn.D)(i).pipe((0,dt.U)(()=>r)):(0,rt.of)(r)})}class BC extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const Lb=new g.OlP("ROUTES");class UC{constructor(r,i,o,u){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactory(i.loadChildren).pipe((0,dt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);const m=h.create(r);return new ep(iC(m.injector.get(Lb,void 0,g.XFs.Self|g.XFs.Optional)).map(Mb),m)}),as(h=>{throw i._loader$=void 0,h}));return i._loader$=new wm.c(u,()=>new Vt.xQ).pipe((0,ua.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,gn.D)(this.loader.load(r)):Ao(r()).pipe((0,Dr.zg)(i=>i instanceof g.YKP?(0,rt.of)(i):(0,gn.D)(this.compiler.compileModuleAsync(i))))}}class PA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hl,this.attachRef=null}}class hl{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new PA,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class LA{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function Km(s){throw s}function Vb(s,r,i){return r.parse("/")}function jC(s,r){return(0,rt.of)(null)}const Bb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ub={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tr=(()=>{class s{constructor(i,o,u,h,m,v,D,M){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=u,this.location=h,this.config=M,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt.xQ,this.errorHandler=Km,this.malformedUriErrorHandler=Vb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:jC,afterPreactivation:jC},this.urlHandlingStrategy=new LA,this.routeReuseStrategy=new BC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(g.h0i),this.console=m.get(g.c2e);const H=m.get(g.R0b);this.isNgZoneEnabled=H instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(M),this.currentUrlTree=new ll(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UC(v,D,z=>this.triggerEvent(new ob(z)),z=>this.triggerEvent(new cA(z))),this.routerState=fC(this.currentUrlTree,this.rootComponentType),this.transitions=new li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Gr(u=>0!==u.id),(0,dt.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),bn(u=>{let h=!1,m=!1;return(0,rt.of)(u).pipe((0,En.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bn(v=>{const D=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString(),M=("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl);if(Ym(v.source)&&(this.browserUrlTree=v.rawUrl),M)return(0,rt.of)(v).pipe(bn(x=>{const N=this.transitions.getValue();return o.next(new Gf(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),N!==this.transitions.getValue()?ss.E:Promise.resolve(x)}),function(s,r,i,o){return bn(u=>function(s,r,i,o,u){return new Od(s,r,i,o,u).apply()}(s,r,i,u.extractedUrl,o).pipe((0,dt.U)(h=>Object.assign(Object.assign({},u),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,En.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(s,r,i,o,u){return(0,Dr.zg)(h=>function(s,r,i,o,u="emptyOnly",h="legacy"){try{const m=new Nb(s,r,i,o,u,h).recognize();return null===m?AA(new RC):(0,rt.of)(m)}catch(m){return AA(m)}}(s,r,h.urlAfterRedirects,i(h.urlAfterRedirects),o,u).pipe((0,dt.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,En.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const N=new sb(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);o.next(N)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:N,extractedUrl:H,source:z,restoredState:ee,extras:Ce}=v,Re=new Gf(N,this.serializeUrl(H),z,ee);o.next(Re);const tt=fC(H,this.rootComponentType).snapshot;return(0,rt.of)(Object.assign(Object.assign({},v),{targetSnapshot:tt,urlAfterRedirects:H,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),ss.E}),Fb(v=>{const{targetSnapshot:D,id:M,extractedUrl:x,rawUrl:N,extras:{skipLocationChange:H,replaceUrl:z}}=v;return this.hooks.beforePreactivation(D,{navigationId:M,appliedUrlTree:x,rawUrlTree:N,skipLocationChange:!!H,replaceUrl:!!z})}),(0,En.b)(v=>{const D=new So(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),(0,dt.U)(v=>Object.assign(Object.assign({},v),{guards:SC(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(s,r){return(0,Dr.zg)(i=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:h,canDeactivateChecks:m}}=i;return 0===m.length&&0===h.length?(0,rt.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,gn.D)(s).pipe((0,Dr.zg)(u=>function(s,r,i,o,u){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,rt.of)(!0);const m=h.map(v=>{const D=Wm(v,r,u);let M;if(function(s){return s&&Iu(s.canDeactivate)}(D))M=Ao(D.canDeactivate(s,r,i,o));else{if(!Iu(D))throw new Error("Invalid CanDeactivate guard");M=Ao(D(s,r,i,o))}return M.pipe(ln())});return(0,rt.of)(m).pipe(jm())}(u.component,u.route,i,r,o)),ln(u=>!0!==u,!0))}(m,o,u,s).pipe((0,Dr.zg)(v=>v&&function(s){return"boolean"==typeof s}(v)?function(s,r,i,o){return(0,gn.D)(r).pipe(al(u=>sl(function(s,r){return null!==s&&r&&r(new To(s)),(0,rt.of)(!0)}(u.route.parent,o),function(s,r){return null!==s&&r&&r(new lb(s)),(0,rt.of)(!0)}(u.route,o),function(s,r,i){const o=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(m=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(m)).filter(m=>null!==m).map(m=>Em(()=>{const v=m.guards.map(D=>{const M=Wm(D,m.node,i);let x;if(function(s){return s&&Iu(s.canActivateChild)}(M))x=Ao(M.canActivateChild(o,s));else{if(!Iu(M))throw new Error("Invalid CanActivateChild guard");x=Ao(M(o,s))}return x.pipe(ln())});return(0,rt.of)(v).pipe(jm())}));return(0,rt.of)(h).pipe(jm())}(s,u.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,rt.of)(!0);const u=o.map(h=>Em(()=>{const m=Wm(h,r,i);let v;if(function(s){return s&&Iu(s.canActivate)}(m))v=Ao(m.canActivate(r,s));else{if(!Iu(m))throw new Error("Invalid CanActivate guard");v=Ao(m(r,s))}return v.pipe(ln())}));return(0,rt.of)(u).pipe(jm())}(s,u.route,i))),ln(u=>!0!==u,!0))}(o,h,s,r):(0,rt.of)(v)),(0,dt.U)(v=>Object.assign(Object.assign({},i),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,En.b)(v=>{if(Ad(v.guardsResult)){const M=zf(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw M.url=v.guardsResult,M}const D=new ls(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(D)}),Gr(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Fb(v=>{if(v.guards.canActivateChecks.length)return(0,rt.of)(v).pipe((0,En.b)(D=>{const M=new _R(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}),bn(D=>{let M=!1;return(0,rt.of)(D).pipe(function(s,r){return(0,Dr.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=i;if(!u.length)return(0,rt.of)(i);let h=0;return(0,gn.D)(u).pipe(al(m=>function(s,r,i,o){return function(s,r,i,o){const u=Object.keys(s);if(0===u.length)return(0,rt.of)({});const h={};return(0,gn.D)(u).pipe((0,Dr.zg)(m=>function(s,r,i,o){const u=Wm(s,r,o);return Ao(u.resolve?u.resolve(r,i):u(r,i))}(s[m],r,i,o).pipe((0,En.b)(v=>{h[m]=v}))),C(1),(0,Dr.zg)(()=>Object.keys(h).length===u.length?(0,rt.of)(h):ss.E))}(s._resolve,s,r,o).pipe((0,dt.U)(h=>(s._resolvedData=h,s.data=Object.assign(Object.assign({},s.data),gC(s,i).resolve),null)))}(m.route,o,s,r)),(0,En.b)(()=>h++),C(1),(0,Dr.zg)(m=>h===u.length?(0,rt.of)(i):ss.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,En.b)({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,En.b)(D=>{const M=new yR(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}))}),Fb(v=>{const{targetSnapshot:D,id:M,extractedUrl:x,rawUrl:N,extras:{skipLocationChange:H,replaceUrl:z}}=v;return this.hooks.afterPreactivation(D,{navigationId:M,appliedUrlTree:x,rawUrlTree:N,skipLocationChange:!!H,replaceUrl:!!z})}),(0,dt.U)(v=>{const D=function(s,r,i){const o=Yf(s,r._root,i?i._root:void 0);return new cs(o,r)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:D})}),(0,En.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((s,r,i)=>(0,dt.U)(o=>(new EC(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,En.b)({next(){h=!0},complete(){h=!0}}),function(s){return r=>r.lift(new Im(s))}(()=>{if(!h&&!m){const v=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,v)):this.cancelNavigationTransition(u,v)}this.currentNavigation=null}),as(v=>{if(m=!0,function(s){return s&&s[Am]}(v)){const D=Ad(v.url);D||(this.navigated=!0,this.restoreHistory(u,!0));const M=new Ed(u.id,this.serializeUrl(u.extractedUrl),v.message);o.next(M),D?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),N={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ym(u.source)};this.scheduleNavigation(x,"imperative",null,N,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const D=new Tm(u.id,this.serializeUrl(u.extractedUrl),v);o.next(D);try{u.resolve(this.errorHandler(v))}catch(M){u.reject(M)}}return ss.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:h,urlTree:m}=o,v={replaceUrl:!0};if(h){const D=Object.assign({},h);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(v.state=D)}this.scheduleNavigation(m,u,h,v)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const u=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!u||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){EA(i),this.config=i.map(Mb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:u,queryParams:h,fragment:m,queryParamsHandling:v,preserveFragment:D}=o,M=u||this.routerState.root,x=D?this.currentUrlTree.fragment:m;let N=null;switch(v){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=h||null}return null!==N&&(N=this.removeEmptyProps(N)),function(s,r,i,o,u){if(0===i.length)return Jf(r.root,r.root,r,o,u);const h=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Lm(!0,0,s);let r=0,i=!1;const o=s.reduce((u,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const v={};return Ir(h.outlets,(D,M)=>{v[M]="string"==typeof D?D.split("/"):D}),[...u,{outlets:v}]}if(h.segmentPath)return[...u,h.segmentPath]}return"string"!=typeof h?[...u,h]:0===m?(h.split("/").forEach((v,D)=>{0==D&&"."===v||(0==D&&""===v?i=!0:".."===v?r++:""!=v&&u.push(v))}),u):[...u,h]},[]);return new Lm(i,r,o)}(i);if(h.toRoot())return Jf(r.root,new xt([],{}),r,o,u);const m=function(s,r,i){if(s.isAbsolute)return new Vm(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const h=i.snapshot._urlSegment;return new Vm(h,h===r.root,0)}const o=Sd(s.commands[0])?0:1;return function(s,r,i){let o=s,u=r,h=i;for(;h>u;){if(h-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new Vm(o,!1,u-h)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(h,r,s),v=m.processChildren?Td(m.segmentGroup,m.index,h.commands):Xf(m.segmentGroup,m.index,h.commands);return Jf(m.segmentGroup,v,r,o,u)}(M,this.currentUrlTree,i,N,null!=x?x:null)}navigateByUrl(i,o={skipLocationChange:!1}){const u=Ad(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,i)}return o}isActive(i,o){let u;if(u=!0===o?Object.assign({},Bb):!1===o?Object.assign({},Ub):o,Ad(i))return db(this.currentUrlTree,i,u);const h=this.parseUrl(i);return db(this.currentUrlTree,h,u)}removeEmptyProps(i){return Object.keys(i).reduce((o,u)=>{const h=i[u];return null!=h&&(o[u]=h),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new ca(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,u,h,m){var v,D;if(this.disposed)return Promise.resolve(!1);const M=this.getTransition(),x=Ym(o)&&M&&!Ym(M.source),z=(this.lastSuccessfulId===M.id||this.currentNavigation?M.rawUrl:M.urlAfterRedirects).toString()===i.toString();if(x&&z)return Promise.resolve(!0);let ee,Ce,Re;m?(ee=m.resolve,Ce=m.reject,Re=m.promise):Re=new Promise((at,bt)=>{ee=at,Ce=bt});const tt=++this.navigationId;let lt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),lt=u&&u.\u0275routerPageId?u.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):lt=0,this.setTransition({id:tt,targetPageId:lt,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:h,resolve:ee,reject:Ce,promise:Re,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Re.catch(at=>Promise.reject(at))}setBrowserUrl(i,o){const u=this.urlSerializer.serialize(i),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",h):this.location.go(u,"",h)}restoreHistory(i,o=!1){var u,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const u=new Ed(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(u),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.DyG),g.LFG(gb),g.LFG(hl),g.LFG(Xe),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();function Ym(s){return"imperative"!==s}let Qm=(()=>{class s{constructor(i,o,u){this.router=i,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new Vt.xQ,this.subscription=i.events.subscribe(h=>{h instanceof ca&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,u,h,m){if(0!==i||o||u||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:kd(this.skipLocationChange),replaceUrl:kd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kd(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(tr),g.Y36(Id),g.Y36(ae))},s.\u0275dir=g.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&g.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&(g.Ikx("href",o.href,g.LSH),g.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),s})();function kd(s){return""===s||!!s}let Jm=(()=>{class s{constructor(i,o,u,h,m){this.parentContexts=i,this.location=o,this.resolver=u,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=h||Mt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const m=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,D=new GC(i,v,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(hl),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},s.\u0275dir=g.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class GC{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===Id?this.route:r===hl?this.childContexts:this.parent.get(r,i)}}class jb{}class sp{preload(r,i){return(0,rt.of)(null)}}let zC=(()=>{class s{constructor(i,o,u,h,m){this.router=i,this.injector=h,this.preloadingStrategy=m,this.loader=new UC(o,u,M=>i.triggerEvent(new ob(M)),M=>i.triggerEvent(new cA(M)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(i=>i instanceof ca),al(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(g.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const u=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;u.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?u.push(this.preloadConfig(i,h)):h.children&&u.push(this.processRoutes(i,h.children));return(0,gn.D)(u).pipe((0,il.J)(),(0,dt.U)(h=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,rt.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,Dr.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(tr),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(jb))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})(),Hb=(()=>{class s{constructor(i,o,u={}){this.router=i,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ca&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof ub&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new ub(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(tr),g.LFG(Mc),g.LFG(void 0))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const ds=new g.OlP("ROUTER_CONFIGURATION"),$b=new g.OlP("ROUTER_FORROOT_GUARD"),ap=[Xe,{provide:gb,useClass:mb},{provide:tr,useFactory:function(s,r,i,o,u,h,m,v={},D,M){const x=new tr(null,s,r,i,o,u,h,iC(m));return D&&(x.urlHandlingStrategy=D),M&&(x.routeReuseStrategy=M),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(v,x),v.enableTracing&&x.events.subscribe(N=>{var H,z;null===(H=console.group)||void 0===H||H.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null===(z=console.groupEnd)||void 0===z||z.call(console)}),x},deps:[gb,hl,Xe,g.zs3,g.v3s,g.Sil,Lb,ds,[class{},new g.FiY],[class{},new g.FiY]]},hl,{provide:Id,useFactory:function(s){return s.routerState.root},deps:[tr]},{provide:g.v3s,useClass:g.EAV},zC,sp,class{preload(r,i){return i().pipe(as(()=>(0,rt.of)(null)))}},{provide:ds,useValue:{enableTracing:!1}}];function BA(){return new g.PXZ("Router",tr)}let Xm=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[ap,ZC(i),{provide:$b,useFactory:WC,deps:[[tr,new g.FiY,new g.tp0]]},{provide:ds,useValue:o||{}},{provide:ae,useFactory:UA,deps:[he,[new g.tBr(Pe),new g.FiY],ds]},{provide:Hb,useFactory:qC,deps:[tr,Mc,ds]},{provide:jb,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:sp},{provide:g.PXZ,multi:!0,useFactory:BA},[e_,{provide:g.ip1,multi:!0,useFactory:Pd,deps:[e_]},{provide:YC,useFactory:KC,deps:[e_]},{provide:g.tb,multi:!0,useExisting:YC}]]}}static forChild(i){return{ngModule:s,providers:[ZC(i)]}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG($b,8),g.LFG(tr,8))},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})();function qC(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new Hb(s,r,i)}function UA(s,r,i={}){return i.useHash?new nt(s,r):new it(s,r)}function WC(s){return"guarded"}function ZC(s){return[{provide:g.deG,multi:!0,useValue:s},{provide:Lb,multi:!0,useValue:s}]}let e_=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vt.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(v=>o=v),h=this.injector.get(tr),m=this.injector.get(ds);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,rt.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),u})}bootstrapListener(i){const o=this.injector.get(ds),u=this.injector.get(zC),h=this.injector.get(Hb),m=this.injector.get(tr),v=this.injector.get(g.z2F);i===v.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),u.setUpPreloading(),h.init(),m.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.zs3))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();function Pd(s){return s.appInitializer.bind(s)}function KC(s){return s.bootstrapListener.bind(s)}const YC=new g.OlP("Router Initializer");let GA=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-home"]],decls:21,vars:0,consts:[[1,"container"],[1,"d-flex","justify-content-center"],[1,"card","mt-3","mb-3",2,"width","30rem"],["src","../../../assets/ahorcado.jpg","width","300px","height","300px","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(i,o){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g._UZ(3,"img",3),g.TgZ(4,"div",4),g.TgZ(5,"h5",5),g._uU(6,"Ahorcado"),g.qZA(),g.TgZ(7,"p",6),g._uU(8,"Some quick example text to build on the card title and make up the bulk of the card's content."),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"div",1),g.TgZ(10,"div",2),g._UZ(11,"img",3),g.TgZ(12,"div",4),g.TgZ(13,"p",6),g._uU(14,"Some quick example text to build on the card title and make up the bulk of the card's content."),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"div",1),g.TgZ(16,"div",2),g._UZ(17,"img",3),g.TgZ(18,"div",4),g.TgZ(19,"p",6),g._uU(20,"Some quick example text to build on the card title and make up the bulk of the card's content."),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA())},styles:[""]}),s})();var QC=V(6682),Fd=V(309),zA=V(7771),PR=V(8858);class qA extends Vt.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new JC(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,h=o.length;let m;if(this.closed)throw new yd.N;if(this.isStopped||this.hasError?m=Nn.w.EMPTY:(this.observers.push(r),m=new PR.W(this,r)),u&&r.add(r=new Fd.ht(r,u)),i)for(let v=0;v<h&&!r.closed;v++)r.next(o[v]);else for(let v=0;v<h&&!r.closed;v++)r.next(o[v].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||zA.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,u=this._events,h=u.length;let m=0;for(;m<h&&!(r-u[m].time<o);)m++;return h>i&&(m=Math.max(m,h-i)),m>0&&u.splice(0,m),u}}class JC{constructor(r,i){this.time=r,this.value=i}}function Wt(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},u=>u.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let u,m,h=0,v=!1,D=!1;return function(x){let N;h++,!u||v?(v=!1,u=new qA(s,r,o),N=u.subscribe(this),m=x.subscribe({next(H){u.next(H)},error(H){v=!0,u.error(H)},complete(){D=!0,m=void 0,u.complete()}}),D&&(m=void 0)):N=u.subscribe(this),this.add(()=>{h--,N.unsubscribe(),N=void 0,m&&!D&&i&&0===h&&(m.unsubscribe(),m=void 0,u=void 0)})}}(o))}function WA(s,r){return r?bn(()=>s,r):bn(()=>s)}var Vs=V(9673),Sr=V(9126),Bs=V(9958);const XC=new g.OlP("angularfire2.auth.use-emulator"),eD=new g.OlP("angularfire2.auth.settings"),qb=new g.OlP("angularfire2.auth.tenant-id"),Wb=new g.OlP("angularfire2.auth.langugage-code"),Zb=new g.OlP("angularfire2.auth.use-device-language"),Kb=new g.OlP("angularfire.auth.persistence"),tD=(s,r,i,o,u,h,m,v)=>(0,Sr.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const D=r.runOutsideAngular(()=>s.auth());if(i&&D.useEmulator(...i),o&&(D.tenantId=o),D.languageCode=u,h&&D.useDeviceLanguage(),m)for(const[M,x]of Object.entries(m))D.settings[M]=x;return v&&D.setPersistence(v),D},[i,o,u,h,m,v]);let t_=(()=>{class s{constructor(i,o,u,h,m,v,D,M,x,N,H){const z=new Vt.xQ,ee=(0,rt.of)(void 0).pipe((0,Fd.QV)(m.outsideAngular),bn(()=>h.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,9083)))),(0,dt.U)(()=>(0,Bs.on)(i,h,o)),(0,dt.U)(Ce=>tD(Ce,h,v,M,x,N,D,H)),Wt({bufferSize:1,refCount:!1}));if(Tc(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,rt.of)(null);else{ee.pipe(ln()).subscribe();const Re=ee.pipe(bn(at=>at.getRedirectResult().then(bt=>bt,()=>null)),Sr.iC,Wt({bufferSize:1,refCount:!1})),tt=ee.pipe(bn(at=>new On.y(bt=>({unsubscribe:h.runOutsideAngular(()=>at.onAuthStateChanged($n=>bt.next($n),$n=>bt.error($n),()=>bt.complete()))})))),lt=ee.pipe(bn(at=>new On.y(bt=>({unsubscribe:h.runOutsideAngular(()=>at.onIdTokenChanged($n=>bt.next($n),$n=>bt.error($n),()=>bt.complete()))}))));this.authState=Re.pipe(WA(tt),(0,Vs.R)(m.outsideAngular),(0,Fd.QV)(m.insideAngular)),this.user=Re.pipe(WA(lt),(0,Vs.R)(m.outsideAngular),(0,Fd.QV)(m.insideAngular)),this.idToken=this.user.pipe(bn(at=>at?(0,gn.D)(at.getIdToken()):(0,rt.of)(null))),this.idTokenResult=this.user.pipe(bn(at=>at?(0,gn.D)(at.getIdTokenResult()):(0,rt.of)(null))),this.credential=(0,QC.T)(Re,z,this.authState.pipe(Gr(at=>!at))).pipe((0,dt.U)(at=>(null==at?void 0:at.user)?at:null),(0,Vs.R)(m.outsideAngular),(0,Fd.QV)(m.insideAngular))}return(0,Bs.pX)(this,ee,h,{spy:{apply:(Ce,Re,tt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&tt.then(lt=>z.next(lt))}}})}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Bs.Dh),g.LFG(Bs.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sr.HU),g.LFG(XC,8),g.LFG(eD,8),g.LFG(qb,8),g.LFG(Wb,8),g.LFG(Zb,8),g.LFG(Kb,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),up=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[t_]}),s})();var Ld=V(3637);function cp(){return s=>s.lift(new nD)}class nD{call(r,i){return i.subscribe(new rD(r))}}class rD extends $r.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}function n_(s,r){return i=>i.lift(new ZA(s,r))}class ZA{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new KA(r,this.compare,this.keySelector))}}class KA extends $r.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:u}=this;i=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,i)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}V(9083);var YA=V(4486),Ie=V(8239),iD=V(5452),Yb=V(6034),Tu=V(300),Zt=V(4685),sD=function(s,r){return(sD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])})(s,r)};function r_(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var He,QA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i_=i_||{},Et=QA||self;function Mi(){}function oD(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function s_(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var o_="closure_uid_"+(1e9*Math.random()>>>0),aD=0;function lD(s,r,i){return s.call.apply(s.bind,arguments)}function JA(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),s.apply(r,u)}}return function(){return s.apply(r,arguments)}}function zr(s,r,i){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lD:JA).apply(null,arguments)}function dp(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function nr(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,u,h){for(var m=Array(arguments.length-2),v=2;v<arguments.length;v++)m[v-2]=arguments[v];return r.prototype[u].apply(o,m)}}function fl(){this.s=this.s,this.o=this.o}var XA={};fl.prototype.s=!1,fl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,o_)&&s[o_]||(s[o_]=++aD)}(this);delete XA[s]}},fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var uD=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},cD=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,u="string"==typeof s?s.split(""):s,h=0;h<o;h++)h in u&&r.call(i,u[h],h,s)};function dD(s){return Array.prototype.concat.apply([],arguments)}function Jb(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function Au(s){return/^[\s\xa0]*$/.test(s)}var rr,Mu=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function qr(s,r){return-1!=s.indexOf(r)}function zi(s,r){return s<r?-1:s>r?1:0}e:{var hD=Et.navigator;if(hD){var fD=hD.userAgent;if(fD){rr=fD;break e}}rr=""}function hp(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function Us(s){var r={};for(var i in s)r[i]=s[i];return r}var Vd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tr(s,r){for(var i,o,u=1;u<arguments.length;u++){for(i in o=arguments[u])s[i]=o[i];for(var h=0;h<Vd.length;h++)i=Vd[h],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function pa(s){return pa[" "](s),s}pa[" "]=Mi;var ga,s,hs=qr(rr,"Opera"),pl=qr(rr,"Trident")||qr(rr,"MSIE"),xu=qr(rr,"Edge"),gl=xu||pl,Ru=qr(rr,"Gecko")&&!(qr(rr.toLowerCase(),"webkit")&&!qr(rr,"Edge"))&&!(qr(rr,"Trident")||qr(rr,"MSIE"))&&!qr(rr,"Edge"),Bd=qr(rr.toLowerCase(),"webkit")&&!qr(rr,"Edge");function Ou(){var s=Et.document;return s?s.documentMode:void 0}e:{var ml="",_l=(s=rr,Ru?/rv:([^\);]+)(\)|;)/.exec(s):xu?/Edge\/([\d\.]+)/.exec(s):pl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Bd?/WebKit\/(\S+)/.exec(s):hs?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(_l&&(ml=_l?_l[1]:""),pl){var yl=Ou();if(null!=yl&&yl>parseFloat(ml)){ga=String(yl);break e}}ga=ml}var pD={};function gD(){return r=pD,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=Mu(String(ga)).split("."),i=Mu("9").split("."),o=Math.max(r.length,i.length),u=0;0==s&&u<o;u++){var h=r[u]||"",m=i[u]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=zi(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||zi(0==h[2].length,0==m[2].length)||zi(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s}();var r}var mD=Et.document&&pl&&(Ou()||parseInt(ga,10))||void 0,_D=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Et.addEventListener("test",Mi,r),Et.removeEventListener("test",Mi,r)}catch(i){}return s}();function Ar(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function Ud(s,r){if(Ar.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(Ru){e:{try{pa(r.nodeName);var u=!0;break e}catch(h){}u=!1}u||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:yD[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ud.Z.h.call(this)}}Ar.prototype.h=function(){this.defaultPrevented=!0},nr(Ud,Ar);var yD={2:"touch",3:"pen",4:"mouse"};Ud.prototype.h=function(){Ud.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var fp="closure_listenable_"+(1e6*Math.random()|0),vD=0;function t1(s,r,i,o,u){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=u,this.key=++vD,this.ca=this.fa=!1}function u_(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function pp(s){this.src=s,this.g={},this.h=0}function eE(s,r){var i=r.type;if(i in s.g){var h,o=s.g[i],u=uD(o,r);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(u_(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function bD(s,r,i,o){for(var u=0;u<s.length;++u){var h=s[u];if(!h.ca&&h.listener==r&&h.capture==!!i&&h.ia==o)return u}return-1}pp.prototype.add=function(s,r,i,o,u){var h=s.toString();(s=this.g[h])||(s=this.g[h]=[],this.h++);var m=bD(s,r,o,u);return-1<m?(r=s[m],i||(r.fa=!1)):((r=new t1(r,this.src,h,!!o,u)).fa=i,s.push(r)),r};var tE="closure_lm_"+(1e6*Math.random()|0),c_={};function ED(s,r,i,o,u){if(o&&o.once)return wD(s,r,i,o,u);if(Array.isArray(r)){for(var h=0;h<r.length;h++)ED(s,r[h],i,o,u);return null}return i=sE(i),s&&s[fp]?s.N(r,i,s_(o)?!!o.capture:!!o,u):nE(s,r,i,!1,o,u)}function nE(s,r,i,o,u,h){if(!r)throw Error("Invalid event type");var m=s_(u)?!!u.capture:!!u,v=CD(s);if(v||(s[tE]=v=new pp(s)),(i=v.add(r,i,o,m,h)).proxy)return i;if(o=function(){var r=UR;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)_D||(u=m),void 0===u&&(u=!1),s.addEventListener(r.toString(),o,u);else if(s.attachEvent)s.attachEvent(iE(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function wD(s,r,i,o,u){if(Array.isArray(r)){for(var h=0;h<r.length;h++)wD(s,r[h],i,o,u);return null}return i=sE(i),s&&s[fp]?s.O(r,i,s_(o)?!!o.capture:!!o,u):nE(s,r,i,!0,o,u)}function r1(s,r,i,o,u){if(Array.isArray(r))for(var h=0;h<r.length;h++)r1(s,r[h],i,o,u);else o=s_(o)?!!o.capture:!!o,i=sE(i),s&&s[fp]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=bD(h=s.g[r],i,o,u))&&(u_(h[i]),Array.prototype.splice.call(h,i,1),0==h.length&&(delete s.g[r],s.h--))):s&&(s=CD(s))&&(r=s.g[r.toString()],s=-1,r&&(s=bD(r,i,o,u)),(i=-1<s?r[s]:null)&&rE(i))}function rE(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[fp])eE(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(iE(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=CD(r))?(eE(i,s),0==i.h&&(i.src=null,r[tE]=null)):u_(s)}}}function iE(s){return s in c_?c_[s]:c_[s]="on"+s}function UR(s,r){if(s.ca)s=!0;else{r=new Ud(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&rE(s),s=i.call(o,r)}return s}function CD(s){return(s=s[tE])instanceof pp?s:null}var DD="__closure_events_fn_"+(1e9*Math.random()>>>0);function sE(s){return"function"==typeof s?s:(s[DD]||(s[DD]=function(r){return s.handleEvent(r)}),s[DD])}function Mr(){fl.call(this),this.i=new pp(this),this.P=this,this.I=null}function xr(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new Ar(r,s);else if(r instanceof Ar)r.target=r.target||s;else{var u=r;Tr(r=new Ar(o,s),u)}if(u=!0,i)for(var h=i.length-1;0<=h;h--){var m=r.g=i[h];u=d_(m,o,!0,r)&&u}if(u=d_(m=r.g=s,o,!0,r)&&u,u=d_(m,o,!1,r)&&u,i)for(h=0;h<i.length;h++)u=d_(m=r.g=i[h],o,!1,r)&&u}function d_(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var u=!0,h=0;h<r.length;++h){var m=r[h];if(m&&!m.ca&&m.capture==i){var v=m.listener,D=m.ia||m.src;m.fa&&eE(s.i,m),u=!1!==v.call(D,o)&&u}}return u&&!o.defaultPrevented}nr(Mr,fl),Mr.prototype[fp]=!0,Mr.prototype.removeEventListener=function(s,r,i,o){r1(this,s,r,i,o)},Mr.prototype.M=function(){if(Mr.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)u_(i[o]);delete s.g[r],s.h--}}this.I=null},Mr.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},Mr.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var gp=Et.JSON.stringify;function oE(){var s=Nu,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var h_,i1=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=s1.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),s1=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new jR},function(s){return s.reset()}),jR=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function HR(s){Et.setTimeout(function(){throw s},0)}function aE(s,r){h_||function(){var s=Et.Promise.resolve(void 0);h_=function(){s.then(o1)}}(),lE||(h_(),lE=!0),Nu.add(s,r)}var lE=!1,Nu=new i1;function o1(){for(var s;s=oE();){try{s.h.call(s.g)}catch(i){HR(i)}var r=s1;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}lE=!1}function mp(s,r){Mr.call(this),this.h=s||1,this.g=r||Et,this.j=zr(this.kb,this),this.l=Date.now()}function uE(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function f_(s,r,i){if("function"==typeof s)i&&(s=zr(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=zr(s.handleEvent,s)}return 2147483647<Number(r)?-1:Et.setTimeout(s,r||0)}function _p(s){s.g=f_(function(){s.g=null,s.i&&(s.i=!1,_p(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}nr(mp,Mr),(He=mp.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xr(this,"tick"),this.da&&(uE(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){mp.Z.M.call(this),uE(this),delete this.g};var a1=function(s){function r(i,o){var u=s.call(this)||this;return u.m=i,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}sD(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:_p(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(fl);function jd(s){fl.call(this),this.h=s,this.g={}}nr(jd,fl);var ID=[];function SD(s,r,i,o){Array.isArray(i)||(i&&(ID[0]=i.toString()),i=ID);for(var u=0;u<i.length;u++){var h=ED(r,i[u],o||s.handleEvent,!1,s.h||s);if(!h)break;s.g[h.key]=h}}function TD(s){hp(s.g,function(r,i){this.g.hasOwnProperty(i)&&rE(r)},s),s.g={}}function p_(){this.g=!0}function Hd(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<u.length;m++)u[m]=""}}}return gp(i)}catch(v){return r}}(s,i)+(o?" "+o:"")})}jd.prototype.M=function(){jd.Z.M.call(this),TD(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},p_.prototype.Aa=function(){this.g=!1},p_.prototype.info=function(){};var ma={},u1=null;function $d(){return u1=u1||new Mr}function RD(s){Ar.call(this,ma.Ma,s)}function g_(s){var r=$d();xr(r,new RD(r,s))}function Gd(s,r){Ar.call(this,ma.STAT_EVENT,s),this.stat=r}function ui(s){var r=$d();xr(r,new Gd(r,s))}function m_(s,r){Ar.call(this,ma.Na,s),this.size=r}function ku(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){s()},r)}ma.Ma="serverreachability",nr(RD,Ar),ma.STAT_EVENT="statevent",nr(Gd,Ar),ma.Na="timingevent",nr(m_,Ar);var __={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},y_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yp(){}function c1(){}yp.prototype.h=null;var dE,vp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function v_(){Ar.call(this,"d")}function b_(){Ar.call(this,"c")}function bp(){}function Pu(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new jd(this),this.P=fE,this.W=new mp(s=gl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hE}function hE(){this.i=null,this.g="",this.h=!1}nr(v_,Ar),nr(b_,Ar),nr(bp,yp),bp.prototype.g=function(){return new XMLHttpRequest},bp.prototype.i=function(){return{}},dE=new bp;var fE=45e3,Ep={},zd={};function pE(s,r,i){s.K=1,s.v=T_(ya(r)),s.s=i,s.U=!0,gE(s,null)}function gE(s,r){s.F=Date.now(),wp(s),s.A=ya(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),js(i.h,"t",o),s.C=0,i=s.l.H,s.h=new hE,s.g=P_(s.l,i?r:null,!s.s),0<s.O&&(s.L=new a1(zr(s.Ia,s,s.g),s.O)),SD(s.V,s.g,"readystatechange",s.gb),r=s.H?Us(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),g_(1),function(s,r,i,o,u,h){s.info(function(){if(s.g)if(h)for(var m="",v=h.split("&"),D=0;D<v.length;D++){var M=v[D].split("=");if(1<M.length){var x=M[0];M=M[1];var N=x.split("_");m=2<=N.length&&"type"==N[1]?m+(x+"=")+M+"&":m+(x+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+r+"\n"+i+"\n"+m})}(s.j,s.u,s.A,s.m,s.X,s.s)}function mE(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function E_(s,r,i){for(var u,o=!0;!s.I&&s.C<i.length;){if((u=OD(s,i))==zd){4==r&&(s.o=4,ui(14),o=!1),Hd(s.j,s.m,null,"[Incomplete Response]");break}if(u==Ep){s.o=4,ui(15),Hd(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Hd(s.j,s.m,u,null),w_(s,u)}mE(s)&&u!=zd&&u!=Ep&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,ui(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),k_(r),r.L=!0,ui(11))):(Hd(s.j,s.m,i,"[Invalid Chunked Response]"),_a(s),Fu(s))}function OD(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?zd:(i=Number(r.substring(i,o)),isNaN(i)?Ep:(o+=1)+i>r.length?zd:(r=r.substr(o,i),s.C=o+i,r))}function wp(s){s.Y=Date.now()+s.P,_E(s,s.P)}function _E(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=ku(zr(s.eb,s),r)}function Cp(s){s.B&&(Et.clearTimeout(s.B),s.B=null)}function Fu(s){0==s.l.G||s.I||OE(s.l,s)}function _a(s){Cp(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,uE(s.W),TD(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function w_(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||EE(i.i,s)))if(i.I=s.N,!s.J&&EE(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(Re){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(i.u)i.ta=u[1],0<i.ta-i.U&&37500>u[2]&&i.N&&0==i.A&&!i.v&&(i.v=ku(zr(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Op(i),R_(i)}N_(i),ui(18)}if(1>=bE(i.i)&&i.ka){try{i.ka()}catch(Re){}i.ka=void 0}}else bl(i,11)}else if((s.J||i.g==s)&&Op(i),!Au(r))for(u=i.Ca.g.parse(r),r=0;r<u.length;r++){var h=u[r];if(i.U=h[0],h=h[1],2==i.G)if("c"==h[0]){i.J=h[1],i.la=h[2];var m=h[3];null!=m&&(i.ma=m,i.h.info("VER="+i.ma));var v=h[4];null!=v&&(i.za=v,i.h.info("SVER="+i.za));var D=h[5];null!=D&&"number"==typeof D&&0<D&&(i.K=o=1.5*D,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var M=s.g;if(M){var x=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var N=o.i;!N.g&&(qr(x,"spdy")||qr(x,"quic")||qr(x,"h2"))&&(N.j=N.l,N.g=new Set,N.h&&(wE(N,N.h),N.h=null))}if(o.D){var H=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;H&&(o.sa=H,wn(o.F,o.D,H))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var z=s;if((o=i).oa=PE(o,o.H?o.la:null,o.W),z.J){VD(o.i,z);var ee=z,Ce=o.K;Ce&&ee.setTimeout(Ce),ee.B&&(Cp(ee),wp(ee)),o.g=z}else JD(o);0<i.l.length&&O_(i)}else"stop"!=h[0]&&"close"!=h[0]||bl(i,7);else 3==i.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?bl(i,7):ME(i):"noop"!=h[0]&&i.j&&i.j.wa(h),i.A=0)}g_(4)}catch(Re){}}function C_(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(oD(s)||"string"==typeof s)cD(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(oD(s)||"string"==typeof s){i=[];for(var o=s.length,u=0;u<o;u++)i.push(u)}else for(u in i=[],o=0,s)i[o++]=u;u=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(oD(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var h=0;h<u;h++)r.call(void 0,o[h],i&&i[h],s)}}function Lu(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Lu)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function D_(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];vl(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var u={};for(i=r=0;r<s.g.length;)vl(u,o=s.g[r])||(s.g[i++]=o,u[o]=1),r++;s.g.length=i}}function vl(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(He=Pu.prototype).setTimeout=function(s){this.P=s},He.gb=function(s){s=s.target;var r=this.L;r&&3==va(s)?r.l():this.Ia(s)},He.Ia=function(s){try{if(s==this.g)e:{var r=va(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||gl||this.g&&(this.h.h||this.g.ga()||WD(this.g)))){this.I||4!=r||7==i||g_(8==i||0>=o?3:2),Cp(this);var u=this.g.ba();this.N=u;t:if(mE(this)){var h=WD(this.g);s="";var m=h.length,v=4==va(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_a(this),Fu(this);var D="";break t}this.h.i=new Et.TextDecoder}for(i=0;i<m;i++)this.h.h=!0,s+=this.h.i.decode(h[i],{stream:v&&i==m-1});h.splice(0,m),this.h.g+=s,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==u,function(s,r,i,o,u,h,m){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+r+"\n"+i+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,r,u),this.i){if(this.$&&!this.J){t:{if(this.g){var M,x=this.g;if((M=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Au(M)){var N=M;break t}}N=null}if(!(u=N)){this.i=!1,this.o=3,ui(12),_a(this),Fu(this);break e}Hd(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,w_(this,u)}this.U?(E_(this,r,D),gl&&this.i&&3==r&&(SD(this.V,this.W,"tick",this.fb),this.W.start())):(Hd(this.j,this.m,D,null),w_(this,D)),4==r&&_a(this),this.i&&!this.I&&(4==r?OE(this.l,this):(this.i=!1,wp(this)))}else 400==u&&0<D.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),_a(this),Fu(this)}}}catch(H){}},He.fb=function(){if(this.g){var s=va(this.g),r=this.g.ga();this.C<r.length&&(Cp(this),E_(this,s,r),this.i&&4!=s&&wp(this))}},He.cancel=function(){this.I=!0,_a(this)},He.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(g_(3),ui(17)),_a(this),this.o=2,Fu(this)):_E(this,this.Y-s)},(He=Lu.prototype).R=function(){D_(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},He.T=function(){return D_(this),this.g.concat()},He.get=function(s,r){return vl(this.h,s)?this.h[s]:r},He.set=function(s,r){vl(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},He.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var u=i[o],h=this.get(u);s.call(r,h,u,this)}};var yE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qd(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof qd){this.g=void 0!==r?r:s.g,I_(this,s.j),this.s=s.s,Dp(this,s.i),S_(this,s.m),this.l=s.l,r=s.h;var i=new Zd;i.i=r.i,r.g&&(i.g=new Lu(r.g),i.h=r.h),Wn(this,i),this.o=s.o}else s&&(i=String(s).match(yE))?(this.g=!!r,I_(this,i[1]||"",!0),this.s=Ip(i[2]||""),Dp(this,i[3]||"",!0),S_(this,i[4]),this.l=Ip(i[5]||"",!0),Wn(this,i[6]||"",!0),this.o=Ip(i[7]||"")):(this.g=!!r,this.h=new Zd(null,this.g))}function ya(s){return new qd(s)}function I_(s,r,i){s.j=i?Ip(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function Dp(s,r,i){s.i=i?Ip(r,!0):r}function S_(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function Wn(s,r,i){r instanceof Zd?(s.h=r,function(s,r){r&&!s.j&&(Bu(s),s.i=null,s.g.forEach(function(i,o){var u=o.toLowerCase();o!=u&&(A_(this,o),js(this,u,i))},s)),s.j=r}(s.h,s.g)):(i||(r=Wd(r,LD)),s.h=new Zd(r,s.g))}function wn(s,r,i){s.h.set(r,i)}function T_(s){return wn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Ip(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Wd(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,FD),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function FD(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}qd.prototype.toString=function(){var s=[],r=this.j;r&&s.push(Wd(r,Vu,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(Wd(r,Vu,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Wd(i,"/"==i.charAt(0)?f1:h1,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Wd(i,p1)),s.join("")};var Vu=/[#\/\?@]/g,h1=/[#\?:]/g,f1=/[#\?]/g,LD=/[#\?@]/g,p1=/#/g;function Zd(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function Bu(s){s.g||(s.g=new Lu,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),u=null;if(0<=o){var h=s[i].substring(0,o);u=s[i].substring(o+1)}else h=s[i];r(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function A_(s,r){Bu(s),r=Kd(s,r),vl(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,vl((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&D_(s)))}function M_(s,r){return Bu(s),r=Kd(s,r),vl(s.g.h,r)}function js(s,r,i){A_(s,r),0<i.length&&(s.i=null,s.g.set(Kd(s,r),Jb(i)),s.h+=i.length)}function Kd(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(He=Zd.prototype).add=function(s,r){Bu(this),this.i=null,s=Kd(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},He.forEach=function(s,r){Bu(this),this.g.forEach(function(i,o){cD(i,function(u){s.call(r,u,o,this)},this)},this)},He.T=function(){Bu(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var u=s[o],h=0;h<u.length;h++)i.push(r[o]);return i},He.R=function(s){Bu(this);var r=[];if("string"==typeof s)M_(this,s)&&(r=dD(r,this.g.get(Kd(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=dD(r,s[i])}return r},He.set=function(s,r){return Bu(this),this.i=null,M_(this,s=Kd(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},He.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var m=u;""!==o[h]&&(m+="="+encodeURIComponent(String(o[h]))),s.push(m)}}return this.i=s.join("&")};var xo=function(r,i){this.h=r,this.g=i};function fs(s){this.l=s||Hs,s=Et.PerformanceNavigationTiming?0<(s=Et.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hs=10;function vE(s){return!!s.h||!!s.g&&s.g.size>=s.j}function bE(s){return s.h?1:s.g?s.g.size:0}function EE(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function wE(s,r){s.g?s.g.add(r):s.h=r}function VD(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function BD(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var u=r_(s.g.values()),h=u.next();!h.done;h=u.next())o=o.concat(h.value.D)}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o}return Jb(s.i)}function Sp(){}function Tp(){this.g=new Sp}function m1(s,r,i){var o=i||"";try{C_(s,function(u,h){var m=u;s_(u)&&(m=gp(u)),r.push(o+h+"="+encodeURIComponent(m))})}catch(u){throw r.push(o+"type="+encodeURIComponent("_badmap")),u}}function x_(s,r,i,o,u){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,u(o)}catch(h){}}function Yd(s){this.l=s.$b||null,this.j=s.ib||!1}function Ap(s,r){Mr.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=Qd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fs.prototype.cancel=function(){var s,r;if(this.i=BD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=r_(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(h){s={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},Sp.prototype.stringify=function(s){return Et.JSON.stringify(s,void 0)},Sp.prototype.parse=function(s){return Et.JSON.parse(s,void 0)},nr(Yd,yp),Yd.prototype.g=function(){return new Ap(this.l,this.j)},Yd.prototype.i=function(s){return function(){return s}}({}),nr(Ap,Mr);var Qd=0;function jD(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function Jd(s){s.readyState=4,s.l=null,s.j=null,s.A=null,Xd(s)}function Xd(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(He=Ap.prototype).open=function(s,r){if(this.readyState!=Qd)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,Xd(this)},He.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||Et).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jd(this)),this.readyState=Qd},He.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Xd(this)),this.g&&(this.readyState=3,Xd(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jD(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?Jd(this):Xd(this),3==this.readyState&&jD(this)}},He.Ua=function(s){this.g&&(this.response=this.responseText=s,Jd(this))},He.Ta=function(s){this.g&&(this.response=s,Jd(this))},He.ha=function(){this.g&&Jd(this)},He.setRequestHeader=function(s,r){this.v.append(s,r)},He.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(Ap.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var CE=Et.JSON.parse;function kn(s){Mr.call(this),this.headers=new Lu,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=DE,this.K=this.L=!1}nr(kn,Mr);var DE="",HD=/^https?$/i,$D=["POST","PUT"];function zD(s){return"content-type"==s.toLowerCase()}function IE(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,SE(s),Mp(s)}function SE(s){s.D||(s.D=!0,xr(s,"complete"),xr(s,"error"))}function TE(s){if(s.h&&void 0!==i_&&(!s.C[1]||4!=va(s)||2!=s.ba()))if(s.v&&4==va(s))f_(s.Fa,0,s);else if(xr(s,"readystatechange"),4==va(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var u;if(u=0===r){var h=String(s.H).match(yE)[1]||null;if(!h&&Et.self&&Et.self.location){var m=Et.self.location.protocol;h=m.substr(0,m.length-1)}u=!HD.test(h?h.toLowerCase():"")}o=u}if(o)xr(s,"complete"),xr(s,"success");else{s.m=6;try{var v=2<va(s)?s.g.statusText:""}catch(D){v=""}s.j=v+" ["+s.ba()+"]",SE(s)}}finally{Mp(s)}}}function Mp(s,r){if(s.g){qD(s);var i=s.g,o=s.C[0]?Mi:null;s.g=null,s.C=null,r||xr(s,"ready");try{i.onreadystatechange=o}catch(u){}}}function qD(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Et.clearTimeout(s.A),s.A=null)}function va(s){return s.g?s.g.readyState:0}function WD(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case DE:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function AE(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return hp(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):wn(s,r,i))}function xp(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function ZD(s){this.za=0,this.l=[],this.h=new p_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=xp("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=xp("baseRetryDelayMs",5e3,s),this.$a=xp("retryDelaySeedMs",1e4,s),this.Ya=xp("forwardChannelMaxRetries",2,s),this.ra=xp("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new fs(s&&s.concurrentRequestLimit),this.Ca=new Tp,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function ME(s){if(KD(s),3==s.G){var r=s.V++,i=ya(s.F);wn(i,"SID",s.J),wn(i,"RID",r),wn(i,"TYPE","terminate"),Rp(s,i),(r=new Pu(s,s.h,r,void 0)).K=2,r.v=T_(ya(i)),i=!1,Et.navigator&&Et.navigator.sendBeacon&&(i=Et.navigator.sendBeacon(r.v.toString(),"")),!i&&Et.Image&&((new Image).src=r.v,i=!0),i||(r.g=P_(r.l,null),r.g.ea(r.v)),r.F=Date.now(),wp(r)}kE(s)}function R_(s){s.g&&(k_(s),s.g.cancel(),s.g=null)}function KD(s){R_(s),s.u&&(Et.clearTimeout(s.u),s.u=null),Op(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Et.clearTimeout(s.m),s.m=null)}function xE(s,r){s.l.push(new xo(s.Za++,r)),3==s.G&&O_(s)}function O_(s){vE(s.i)||s.m||(s.m=!0,aE(s.Ha,s),s.C=0)}function YD(s,r){var i;i=r?r.m:s.V++;var o=ya(s.F);wn(o,"SID",s.J),wn(o,"RID",i),wn(o,"AID",s.U),Rp(s,o),s.o&&s.s&&AE(o,s.o,s.s),i=new Pu(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=QD(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),wE(s.i,i),pE(i,o,r)}function Rp(s,r){s.j&&C_({},function(i,o){wn(r,o,i)})}function QD(s,r,i){i=Math.min(s.l.length,i);var o=s.j?zr(s.j.Oa,s.j,s):null;e:for(var u=s.l,h=-1;;){var m=["count="+i];-1==h?0<i?m.push("ofs="+(h=u[0].h)):h=0:m.push("ofs="+h);for(var v=!0,D=0;D<i;D++){var M=u[D].h,x=u[D].g;if(0>(M-=h))h=Math.max(0,u[D].h-100),v=!1;else try{m1(x,m,"req"+M+"_")}catch(N){o&&o(x)}}if(v){o=m.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function JD(s){s.g||s.u||(s.Y=1,aE(s.Ga,s),s.A=0)}function N_(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=ku(zr(s.Ga,s),NE(s,s.A)),s.A++,0))}function k_(s){null!=s.B&&(Et.clearTimeout(s.B),s.B=null)}function RE(s){s.g=new Pu(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=ya(s.oa);wn(r,"RID","rpc"),wn(r,"SID",s.J),wn(r,"CI",s.N?"0":"1"),wn(r,"AID",s.U),Rp(s,r),wn(r,"TYPE","xmlhttp"),s.o&&s.s&&AE(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=T_(ya(r)),i.s=null,i.U=!0,gE(i,s)}function Op(s){null!=s.v&&(Et.clearTimeout(s.v),s.v=null)}function OE(s,r){var i=null;if(s.g==r){Op(s),k_(s),s.g=null;var o=2}else{if(!EE(s.i,r))return;i=r.D,VD(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var u=s.C;xr(o=$d(),new m_(o,i,r,u)),O_(s)}else JD(s);else if(3==(u=r.o)||0==u&&0<s.I||!(1==o&&function(s,r){return!(bE(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=ku(zr(s.Ha,s,r),NE(s,s.C)),s.C++,0)))}(s,r)||2==o&&N_(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),u){case 1:bl(s,5);break;case 4:bl(s,10);break;case 3:bl(s,6);break;default:bl(s,2)}}function NE(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function bl(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=zr(s.jb,s);i||(i=new qd("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||I_(i,"https"),T_(i)),function(s,r){var i=new p_;if(Et.Image){var o=new Image;o.onload=dp(x_,i,o,"TestLoadImage: loaded",!0,r),o.onerror=dp(x_,i,o,"TestLoadImage: error",!1,r),o.onabort=dp(x_,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=dp(x_,i,o,"TestLoadImage: timeout",!1,r),Et.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else ui(2);s.G=0,s.j&&s.j.va(r),kE(s),KD(s)}function kE(s){s.G=0,s.I=-1,s.j&&((0!=BD(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Jb(s.l),s.l.length=0),s.j.ua())}function PE(s,r,i){var o=function(s){return s instanceof qd?ya(s):new qd(s,void 0)}(i);if(""!=o.i)r&&Dp(o,r+"."+o.i),S_(o,o.m);else{var u=Et.location;o=function(s,r,i,o){var u=new qd(null,void 0);return s&&I_(u,s),r&&Dp(u,r),i&&S_(u,i),o&&(u.l=o),u}(u.protocol,r?r+"."+u.hostname:u.hostname,+u.port,i)}return s.aa&&hp(s.aa,function(h,m){wn(o,m,h)}),i=s.sa,(r=s.D)&&i&&wn(o,r,i),wn(o,"VER",s.ma),Rp(s,o),o}function P_(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new kn(i&&s.Ba&&!s.qa?new Yd({ib:!0}):s.qa)).L=s.H,r}function F_(){}function Ro(){if(pl&&!(10<=Number(mD)))throw Error("Environmental error: no available transport.")}function qi(s,r){Mr.call(this),this.g=new ZD(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!Au(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Au(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new Np(this)}function XD(s){v_.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function Uu(){b_.call(this),this.status=1}function Np(s){this.g=s}(He=kn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dE.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:dE),this.g.onreadystatechange=zr(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(h){return void IE(this,h)}s=i||"";var u=new Lu(this.headers);o&&C_(o,function(h,m){u.set(m,h)}),o=function(s){e:{for(var r=zD,i=s.length,o="string"==typeof s?s.split(""):s,u=0;u<i;u++)if(u in o&&r.call(void 0,o[u],u,s)){r=u;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(u.T()),i=Et.FormData&&s instanceof Et.FormData,!(0<=uD($D,r))||o||i||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qD(this),0<this.B&&((this.K=function(s){return pl&&gD()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.pa,this)):this.A=f_(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(h){IE(this,h)}},He.pa=function(){void 0!==i_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},He.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,xr(this,"complete"),xr(this,"abort"),Mp(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mp(this,!0)),kn.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?TE(this):this.cb())},He.cb=function(){TE(this)},He.ba=function(){try{return 2<va(this)?this.g.status:-1}catch(s){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},He.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),CE(r)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=ZD.prototype).ma=8,He.G=1,He.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},He.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new Pu(this,this.h,s,void 0),i=this.s;if(this.P&&(i?Tr(i=Us(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var h=this.l[u];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(o+=h)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=QD(this,r,o),wn(u=ya(this.F),"RID",s),wn(u,"CVER",22),this.D&&wn(u,"X-HTTP-Session-Id",this.D),Rp(this,u),this.o&&i&&AE(u,this.o,i),wE(this.i,r),this.Ra&&wn(u,"TYPE","init"),this.ja?(wn(u,"$req",o),wn(u,"SID","null"),r.$=!0,pE(r,u,null)):pE(r,u,o),this.G=2}}else 3==this.G&&(s?YD(this,s):0==this.l.length||vE(this.i)||YD(this))},He.Ga=function(){if(this.u=null,RE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=ku(zr(this.bb,this),s)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ui(10),R_(this),RE(this))},He.ab=function(){null!=this.v&&(this.v=null,R_(this),N_(this),ui(19))},He.jb=function(s){s?(this.h.info("Successfully pinged google.com"),ui(2)):(this.h.info("Failed to ping google.com"),ui(1))},(He=F_.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},Ro.prototype.g=function(s,r){return new qi(s,r)},nr(qi,Mr),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),aE(zr(s.hb,s,r))),ui(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=PE(s,null,s.W),O_(s)},qi.prototype.close=function(){ME(this.g)},qi.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,xE(this.g,r)}else this.v?((r={}).__data__=gp(s),xE(this.g,r)):xE(this.g,s)},qi.prototype.M=function(){this.g.j=null,delete this.j,ME(this.g),delete this.g,qi.Z.M.call(this)},nr(XD,v_),nr(Uu,b_),nr(Np,F_),Np.prototype.xa=function(){xr(this.g,"a")},Np.prototype.wa=function(s){xr(this.g,new XD(s))},Np.prototype.va=function(s){xr(this.g,new Uu(s))},Np.prototype.ua=function(){xr(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,__.NO_ERROR=0,__.TIMEOUT=8,__.HTTP_ERROR=6,y_.COMPLETE="complete",c1.EventType=vp,vp.OPEN="a",vp.CLOSE="b",vp.ERROR="c",vp.MESSAGE="d",Mr.prototype.listen=Mr.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.La,kn.prototype.getLastErrorCode=kn.prototype.Da,kn.prototype.getStatus=kn.prototype.ba,kn.prototype.getResponseJson=kn.prototype.Qa,kn.prototype.getResponseText=kn.prototype.ga,kn.prototype.send=kn.prototype.ea;var kp=__,FE=y_,b1=ma,ot_PROXY=10,ot_NOPROXY=11,eI=Yd,Pp=c1,tI=kn;class Zn{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");let ba="9.0.1";const Xt=new Tu.Yd("@firebase/firestore");function nI(){return Xt.logLevel}function Le(s,...r){if(Xt.logLevel<=Tu.in.DEBUG){const i=r.map(V_);Xt.debug(`Firestore (${ba}): ${s}`,...i)}}function Kn(s,...r){if(Xt.logLevel<=Tu.in.ERROR){const i=r.map(V_);Xt.error(`Firestore (${ba}): ${s}`,...i)}}function eh(s,...r){if(Xt.logLevel<=Tu.in.WARN){const i=r.map(V_);Xt.warn(`Firestore (${ba}): ${s}`,...i)}}function V_(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Ke(s="Unexpected state"){const r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+s;throw Kn(r),new Error(r)}function ft(s,r){s||Ke()}function Ue(s,r){return s}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class iI{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class w1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(Zn.UNAUTHENTICATED))}shutdown(){}}class B_{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class sI{constructor(r){this.t=r,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let u=this.i;const h=D=>this.i!==u?(u=this.i,i(D)):Promise.resolve();let m=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new fr,r.enqueueRetryable(()=>h(this.currentUser))};const v=D=>{r.enqueueRetryable((0,Ie.Z)(function*(){Le("FirebaseCredentialsProvider","Auth detected"),o.auth=D,o.auth.addAuthTokenListener(o.o),yield m.promise,yield h(o.currentUser)}))};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Le("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new fr)}},0),r.enqueueRetryable((0,Ie.Z)(function*(){0===o.i&&(yield m.promise,yield h(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(Le("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ft("string"==typeof o.accessToken),new iI(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return ft(null===r||"string"==typeof r),new Zn(r)}}class oI{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=Zn.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class aI{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new oI(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wi{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Fp(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}Wi.T=-1;class th{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const u=Fp(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<i&&(o+=r.charAt(u[h]%r.length))}return o}}function Bt(s,r){return s<r?-1:s>r?1:0}function nh(s,r,i){return s.length===r.length&&s.every((o,u)=>i(o,r[u]))}function lI(s){return s+"\0"}class ir{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Oe(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return ir.fromMillis(Date.now())}static fromDate(r){return ir.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new ir(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Bt(this.nanoseconds,r.nanoseconds):Bt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(r){this.timestamp=r}static fromTimestamp(r){return new wt(r)}static min(){return new wt(new ir(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function VE(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function ju(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function BE(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class Lp{constructor(r,i,o){void 0===i?i=0:i>r.length&&Ke(),void 0===o?o=r.length-i:o>r.length-i&&Ke(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===Lp.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof Lp?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let u=0;u<o;u++){const h=r.get(u),m=i.get(u);if(h<m)return-1;if(h>m)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class zt extends Lp{construct(r,i,o){return new zt(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new Oe(ye.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new zt(i)}static emptyPath(){return new zt([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends Lp{construct(r,i,o){return new Wr(r,i,o)}static isValidIdentifier(r){return zR.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wr(["__name__"])}static fromServerFormat(r){const i=[];let o="",u=0;const h=()=>{if(0===o.length)throw new Oe(ye.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;u<r.length;){const v=r[u];if("\\"===v){if(u+1===r.length)throw new Oe(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const D=r[u+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Oe(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=D,u+=2}else"`"===v?(m=!m,u++):"."!==v||m?(o+=v,u++):(h(),u++)}if(h(),m)throw new Oe(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Wr(i)}static emptyPath(){return new Wr([])}}class Vp{constructor(r){this.fields=r,r.sort(Wr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return nh(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class sr{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new sr(i)}static fromUint8Array(r){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(r);return new sr(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Bt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const U_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function El(s){if(ft(!!s),"string"==typeof s){let r=0;const i=U_.exec(s);if(ft(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),r=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:Yn(s.seconds),nanos:Yn(s.nanos)}}function Yn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Hu(s){return"string"==typeof s?sr.fromBase64String(s):sr.fromUint8Array(s)}function $u(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function uI(s){const r=s.mapValue.fields.__previous_value__;return $u(r)?uI(r):r}function Bp(s){const r=El(s.mapValue.fields.__local_write_time__.timestampValue);return new ir(r.seconds,r.nanos)}function Gu(s){return null==s}function j_(s){return 0===s&&1/s==-1/0}function cI(s){return"number"==typeof s&&Number.isInteger(s)&&!j_(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class We{constructor(r){this.path=r}static fromPath(r){return new We(zt.fromString(r))}static fromName(r){return new We(zt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===zt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return zt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new We(new zt(r.slice()))}}function zu(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?$u(s)?4:10:Ke()}function Oo(s,r){const i=zu(s);if(i!==zu(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return Bp(s).isEqual(Bp(r));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=El(o.timestampValue),m=El(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return u=r,Hu(s.bytesValue).isEqual(Hu(u.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,u){return Yn(o.geoPointValue.latitude)===Yn(u.geoPointValue.latitude)&&Yn(o.geoPointValue.longitude)===Yn(u.geoPointValue.longitude)}(s,r);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Yn(o.integerValue)===Yn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Yn(o.doubleValue),m=Yn(u.doubleValue);return h===m?j_(h)===j_(m):isNaN(h)&&isNaN(m)}return!1}(s,r);case 9:return nh(s.arrayValue.values||[],r.arrayValue.values||[],Oo);case 10:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(VE(h)!==VE(m))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(void 0===m[v]||!Oo(h[v],m[v])))return!1;return!0}(s,r);default:return Ke()}var u}function No(s,r){return void 0!==(s.values||[]).find(i=>Oo(i,r))}function rh(s,r){const i=zu(s),o=zu(r);if(i!==o)return Bt(i,o);switch(i){case 0:return 0;case 1:return Bt(s.booleanValue,r.booleanValue);case 2:return function(u,h){const m=Yn(u.integerValue||u.doubleValue),v=Yn(h.integerValue||h.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1}(s,r);case 3:return UE(s.timestampValue,r.timestampValue);case 4:return UE(Bp(s),Bp(r));case 5:return Bt(s.stringValue,r.stringValue);case 6:return function(u,h){const m=Hu(u),v=Hu(h);return m.compareTo(v)}(s.bytesValue,r.bytesValue);case 7:return function(u,h){const m=u.split("/"),v=h.split("/");for(let D=0;D<m.length&&D<v.length;D++){const M=Bt(m[D],v[D]);if(0!==M)return M}return Bt(m.length,v.length)}(s.referenceValue,r.referenceValue);case 8:return function(u,h){const m=Bt(Yn(u.latitude),Yn(h.latitude));return 0!==m?m:Bt(Yn(u.longitude),Yn(h.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(u,h){const m=u.values||[],v=h.values||[];for(let D=0;D<m.length&&D<v.length;++D){const M=rh(m[D],v[D]);if(M)return M}return Bt(m.length,v.length)}(s.arrayValue,r.arrayValue);case 10:return function(u,h){const m=u.fields||{},v=Object.keys(m),D=h.fields||{},M=Object.keys(D);v.sort(),M.sort();for(let x=0;x<v.length&&x<M.length;++x){const N=Bt(v[x],M[x]);if(0!==N)return N;const H=rh(m[v[x]],D[M[x]]);if(0!==H)return H}return Bt(v.length,M.length)}(s.mapValue,r.mapValue);default:throw Ke()}}function UE(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return Bt(s,r);const i=El(s),o=El(r),u=Bt(i.seconds,o.seconds);return 0!==u?u:Bt(i.nanos,o.nanos)}function jE(s){return H_(s)}function H_(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const u=El(o);return`time(${u.seconds},${u.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Hu(s.bytesValue).toBase64():"referenceValue"in s?We.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let u="[",h=!0;for(const m of o.values||[])h?h=!1:u+=",",u+=H_(m);return u+"]"}(s.arrayValue):"mapValue"in s?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",m=!0;for(const v of u)m?m=!1:h+=",",h+=`${v}:${H_(o.fields[v])}`;return h+"}"}(s.mapValue):Ke();var r}function $_(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function G_(s){return!!s&&"integerValue"in s}function HE(s){return!!s&&"arrayValue"in s}function z_(s){return!!s&&"nullValue"in s}function dI(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Up(s){return!!s&&"mapValue"in s}function ih(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return ju(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=ih(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=ih(s.arrayValue.values[i]);return r}return Object.assign({},s)}class Zr{constructor(r){this.value=r}static empty(){return new Zr({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!Up(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=ih(i)}setAll(r){let i=Wr.emptyPath(),o={},u=[];r.forEach((m,v)=>{if(!i.isImmediateParentOf(v)){const D=this.getFieldsMap(i);this.applyChanges(D,o,u),o={},u=[],i=v.popLast()}m?o[v.lastSegment()]=ih(m):u.push(v.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,u)}delete(r){const i=this.field(r.popLast());Up(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Oo(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let u=i.mapValue.fields[r.get(o)];Up(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(r,i,o){ju(i,(u,h)=>r[u]=h);for(const u of o)delete r[u]}clone(){return new Zr(ih(this.value))}}function hI(s){const r=[];return ju(s.fields,(i,o)=>{const u=new Wr([i]);if(Up(o)){const h=hI(o.mapValue).fields;if(0===h.length)r.push(u);else for(const m of h)r.push(u.child(m))}else r.push(u)}),new Vp(r)}class Tn{constructor(r,i,o,u,h){this.key=r,this.documentType=i,this.version=o,this.data=u,this.documentState=h}static newInvalidDocument(r){return new Tn(r,0,wt.min(),Zr.empty(),0)}static newFoundDocument(r,i,o){return new Tn(r,1,i,o,0)}static newNoDocument(r,i){return new Tn(r,2,i,Zr.empty(),0)}static newUnknownDocument(r,i){return new Tn(r,3,i,Zr.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Tn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Tn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $E{constructor(r,i=null,o=[],u=[],h=null,m=null,v=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=m,this.endAt=v,this.A=null}}function fI(s,r=null,i=[],o=[],u=null,h=null,m=null){return new $E(s,r,i,o,u,h,m)}function sh(s){const r=Ue(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+jE(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Gu(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=Z_(r.startAt)),r.endAt&&(i+="|ub:",i+=Z_(r.endAt)),r.A=i}return r.A}function q_(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let u=0;u<s.orderBy.length;u++)if(!zE(s.orderBy[u],r.orderBy[u]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let u=0;u<s.filters.length;u++)if((i=s.filters[u]).op!==(o=r.filters[u]).op||!i.field.isEqual(o.field)||!Oo(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!qE(s.startAt,r.startAt)&&qE(s.endAt,r.endAt)}function W_(s){return We.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class ci extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new I1(r,i,o):"array-contains"===i?new pI(r,o):"in"===i?new A1(r,o):"not-in"===i?new M1(r,o):"array-contains-any"===i?new gI(r,o):new ci(r,i,o)}static R(r,i,o){return"in"===i?new S1(r,o):new T1(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(rh(i,this.value)):null!==i&&zu(this.value)===zu(i)&&this.P(rh(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Ke()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class I1 extends ci{constructor(r,i,o){super(r,i,o),this.key=We.fromName(o.referenceValue)}matches(r){const i=We.comparator(r.key,this.key);return this.P(i)}}class S1 extends ci{constructor(r,i){super(r,"in",i),this.keys=GE(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class T1 extends ci{constructor(r,i){super(r,"not-in",i),this.keys=GE(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function GE(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>We.fromName(o.referenceValue))}class pI extends ci{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return HE(i)&&No(i.arrayValue,this.value)}}class A1 extends ci{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&No(this.value.arrayValue,i)}}class M1 extends ci{constructor(r,i){super(r,"not-in",i)}matches(r){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!No(this.value.arrayValue,i)}}class gI extends ci{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!HE(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>No(this.value.arrayValue,o))}}class jp{constructor(r,i){this.position=r,this.before=i}}function Z_(s){return`${s.before?"b":"a"}:${s.position.map(r=>jE(r)).join(",")}`}class oh{constructor(r,i="asc"){this.field=r,this.dir=i}}function zE(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function K_(s,r,i){let o=0;for(let u=0;u<s.position.length;u++){const h=r[u],m=s.position[u];if(o=h.field.isKeyField()?We.comparator(We.fromName(m.referenceValue),i.key):rh(m,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function qE(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oo(s.position[i],r.position[i]))return!1;return!0}class $s{constructor(r,i=null,o=[],u=[],h=null,m="F",v=null,D=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=D,this.V=null,this.S=null}}function mI(s,r,i,o,u,h,m,v){return new $s(s,r,i,o,u,h,m,v)}function ah(s){return new $s(s)}function lh(s){return!Gu(s.limit)&&"F"===s.limitType}function Y_(s){return!Gu(s.limit)&&"L"===s.limitType}function Q_(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function WE(s){for(const r of s.filters)if(r.v())return r.field;return null}function J_(s){return null!==s.collectionGroup}function qu(s){const r=Ue(s);if(null===r.V){r.V=[];const i=WE(r),o=Q_(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new oh(i)),r.V.push(new oh(Wr.keyField(),"asc"));else{let u=!1;for(const h of r.explicitOrderBy)r.V.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new oh(Wr.keyField(),h))}}}return r.V}function Zi(s){const r=Ue(s);if(!r.S)if("F"===r.limitType)r.S=fI(r.path,r.collectionGroup,qu(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const h of qu(r))i.push(new oh(h.field,"desc"===h.dir?"asc":"desc"));const o=r.endAt?new jp(r.endAt.position,!r.endAt.before):null,u=r.startAt?new jp(r.startAt.position,!r.startAt.before):null;r.S=fI(r.path,r.collectionGroup,i,r.filters,r.limit,o,u)}return r.S}function x1(s,r,i){return new $s(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function Hp(s,r){return q_(Zi(s),Zi(r))&&s.limitType===r.limitType}function wl(s){return`${sh(Zi(s))}|lt:${s.limitType}`}function _I(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${jE(o.value)}`;var o}).join(", ")}]`),Gu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+Z_(s.startAt)),s.endAt&&(r+=", endAt: "+Z_(s.endAt)),`Target(${r})`}(Zi(s))}; limitType=${s.limitType})`}function Wu(s,r){return r.isFoundDocument()&&function(i,o){const u=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):We.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,r)&&function(i,o){for(const u of i.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(s,r)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!K_(i.startAt,qu(i),o)||i.endAt&&K_(i.endAt,qu(i),o)));var i,o}function $p(s){return(r,i)=>{let o=!1;for(const u of qu(s)){const h=R1(u,r,i);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function R1(s,r,i){const o=s.field.isKeyField()?We.comparator(r.key,i.key):function(u,h,m){const v=h.data.field(u),D=m.data.field(u);return null!==v&&null!==D?rh(v,D):Ke()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Ke()}}function Zu(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j_(r)?"-0":r}}function yI(s){return{integerValue:""+s}}function O1(s,r){return cI(r)?yI(r):Zu(s,r)}class X_{constructor(){this._=void 0}}function ko(s,r,i){return s instanceof Ea?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(i,r):s instanceof Ku?bI(s,r):s instanceof uh?EI(s,r):function(o,u){const h=N1(o,u),m=wI(h)+wI(o.C);return G_(h)&&G_(o.C)?yI(m):Zu(o.N,m)}(s,r)}function vI(s,r,i){return s instanceof Ku?bI(s,r):s instanceof uh?EI(s,r):i}function N1(s,r){return s instanceof ch?G_(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class Ea extends X_{}class Ku extends X_{constructor(r){super(),this.elements=r}}function bI(s,r){const i=ey(r);for(const o of s.elements)i.some(u=>Oo(u,o))||i.push(o);return{arrayValue:{values:i}}}class uh extends X_{constructor(r){super(),this.elements=r}}function EI(s,r){let i=ey(r);for(const o of s.elements)i=i.filter(u=>!Oo(u,o));return{arrayValue:{values:i}}}class ch extends X_{constructor(r,i){super(),this.N=r,this.C=i}}function wI(s){return Yn(s.integerValue||s.doubleValue)}function ey(s){return HE(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class dh{constructor(r,i){this.field=r,this.transform=i}}class CI{constructor(r,i){this.version=r,this.transformResults=i}}class Qn{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new Qn}static exists(r){return new Qn(void 0,r)}static updateTime(r){return new Qn(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function KE(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class ty{}function k1(s,r,i){s instanceof Gp?function(o,u,h){const m=o.value.clone(),v=zp(o.fieldTransforms,u,h.transformResults);m.setAll(v),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,r,i):s instanceof Cl?function(o,u,h){if(!KE(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=zp(o.fieldTransforms,u,h.transformResults),v=u.data;v.setAll(XE(o)),v.setAll(m),u.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function YE(s,r,i){var u;s instanceof Gp?function(o,u,h){if(!KE(o.precondition,u))return;const m=o.value.clone(),v=II(o.fieldTransforms,h,u);m.setAll(v),u.convertToFoundDocument(JE(u),m).setHasLocalMutations()}(s,r,i):s instanceof Cl?function(o,u,h){if(!KE(o.precondition,u))return;const m=II(o.fieldTransforms,h,u),v=u.data;v.setAll(XE(o)),v.setAll(m),u.convertToFoundDocument(JE(u),v).setHasLocalMutations()}(s,r,i):KE(s.precondition,u=r)&&u.convertToNoDocument(wt.min())}function DI(s,r){let i=null;for(const o of s.fieldTransforms){const u=r.data.field(o.field),h=N1(o.transform,u||null);null!=h&&(null==i&&(i=Zr.empty()),i.set(o.field,h))}return i||null}function QE(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&nh(i,o,(u,h)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof Ku&&o instanceof Ku||i instanceof uh&&o instanceof uh?nh(i.elements,o.elements,Oo):i instanceof ch&&o instanceof ch?Oo(i.C,o.C):i instanceof Ea&&o instanceof Ea);var i,o}(u,h))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function JE(s){return s.isFoundDocument()?s.version:wt.min()}class Gp extends ty{constructor(r,i,o,u=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Cl extends ty{constructor(r,i,o,u,h=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function XE(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function zp(s,r,i){const o=new Map;ft(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],m=h.transform,v=r.data.field(h.field);o.set(h.field,vI(m,v,i[u]))}return o}function II(s,r,i){const o=new Map;for(const u of s){const h=u.transform,m=i.data.field(u.field);o.set(u.field,ko(h,m,r))}return o}class hh extends ty{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class fh extends ty{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class ny{constructor(r){this.count=r}}var An,jt;function SI(s){switch(s){case ye.OK:return Ke();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ke()}}function P1(s){if(void 0===s)return Kn("GRPC error has no .code"),ye.UNKNOWN;switch(s){case An.OK:return ye.OK;case An.CANCELLED:return ye.CANCELLED;case An.UNKNOWN:return ye.UNKNOWN;case An.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case An.INTERNAL:return ye.INTERNAL;case An.UNAVAILABLE:return ye.UNAVAILABLE;case An.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case An.NOT_FOUND:return ye.NOT_FOUND;case An.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case An.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case An.ABORTED:return ye.ABORTED;case An.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case An.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case An.DATA_LOSS:return ye.DATA_LOSS;default:return Ke()}}(jt=An||(An={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class or{constructor(r,i){this.comparator=r,this.root=i||Rr.EMPTY}insert(r,i){return new or(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(r){return new or(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(r,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new ry(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new ry(this.root,r,this.comparator,!1)}getReverseIterator(){return new ry(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new ry(this.root,r,this.comparator,!0)}}class ry{constructor(r,i,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!r.isEmpty();)if(h=i?o(r.key,i):1,u&&(h*=-1),h<0)r=this.isReverse?r.left:r.right;else{if(0===h){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Rr{constructor(r,i,o,u,h){this.key=r,this.value=i,this.color=null!=o?o:Rr.RED,this.left=null!=u?u:Rr.EMPTY,this.right=null!=h?h:Rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,u,h){return new Rr(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let u=this;const h=o(r,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(r,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(r,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Rr.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,u=this;if(i(r,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(r,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(r,u.key)){if(u.right.isEmpty())return Rr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(r,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const r=this.left.check();if(r!==this.right.check())throw Ke();return r+(this.isRed()?0:1)}}Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1,Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(s,r,i,o,u){return this}insert(s,r,i){return new Rr(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(r){this.comparator=r,this.data=new or(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,r[1])>=0)return;i(u.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new TI(this.data.getIterator())}getIteratorFrom(r){return new TI(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof Un)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new Un(this.comparator);return i.data=r,i}}class TI{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const F1=new or(We.comparator);function ps(){return F1}const L1=new or(We.comparator);function ew(){return L1}const WR=new or(We.comparator);function AI(){return WR}const qp=new Un(We.comparator);function en(...s){let r=qp;for(const i of s)r=r.add(i);return r}const V1=new Un(Bt);function iy(){return V1}class Dl{constructor(r,i,o,u,h){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,Gs.createSynthesizedTargetChangeForCurrentChange(r,i)),new Dl(wt.min(),o,iy(),ps(),en())}}class Gs{constructor(r,i,o,u,h){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(r,i){return new Gs(sr.EMPTY_BYTE_STRING,i,en(),en(),en())}}class Wp{constructor(r,i,o,u){this.k=r,this.removedTargetIds=i,this.key=o,this.$=u}}class MI{constructor(r,i){this.targetId=r,this.O=i}}class B1{constructor(r,i,o=sr.EMPTY_BYTE_STRING,u=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=u}}class xI{constructor(){this.F=0,this.M=OI(),this.L=sr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=en(),i=en(),o=en();return this.M.forEach((u,h)=>{switch(h){case 0:r=r.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:Ke()}}),new Gs(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=OI()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class sy{constructor(r){this.tt=r,this.et=new Map,this.nt=ps(),this.st=RI(),this.it=new Un(Bt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:Ke()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,u)=>{this.ht(u)&&i(u)})}ft(r){const i=r.targetId,o=r.O.count,u=this.dt(i);if(u){const h=u.target;if(W_(h))if(0===o){const m=new We(h.path);this.at(i,m,Tn.newNoDocument(m,wt.min()))}else ft(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((h,m)=>{const v=this.dt(m);if(v){if(h.current&&W_(v.target)){const D=new We(v.target.path);null!==this.nt.get(D)||this.gt(m,D)||this.at(m,D,Tn.newNoDocument(D,r))}h.K&&(i.set(m,h.W()),h.G())}});let o=en();this.st.forEach((h,m)=>{let v=!0;m.forEachWhile(D=>{const M=this.dt(D);return!M||2===M.purpose||(v=!1,!1)}),v&&(o=o.add(h))});const u=new Dl(r,i,this.it,this.nt,o);return this.nt=ps(),this.st=RI(),this.it=new Un(Bt),u}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const u=this.ut(r);this.gt(r,i)?u.H(i,1):u.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new xI,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new Un(Bt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||Le("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new xI),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function RI(){return new or(We.comparator)}function OI(){return new or(We.comparator)}const NI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tw{constructor(r,i){this.databaseId=r,this.D=i}}function ph(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function nw(s,r){return s.D?r.toBase64():r.toUint8Array()}function U1(s,r){return ph(s,r.toTimestamp())}function pr(s){return ft(!!s),wt.fromTimestamp(function(r){const i=El(r);return new ir(i.seconds,i.nanos)}(s))}function oy(s,r){return(i=s,new zt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function PI(s){const r=zt.fromString(s);return ft(Ju(r)),r}function gh(s,r){return oy(s.databaseId,r.path)}function Ki(s,r){const i=PI(r);if(i.get(1)!==s.databaseId.projectId)throw new Oe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Oe(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new We(Kt(i))}function mh(s,r){return oy(s.databaseId,r)}function j1(s){const r=PI(s);return 4===r.length?zt.emptyPath():Kt(r)}function wa(s){return new zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Kt(s){return ft(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function Ca(s,r,i){return{name:gh(s,r),fields:i.value.mapValue.fields}}function Yu(s,r,i){const o=Ki(s,r.name),u=pr(r.updateTime),h=new Zr({mapValue:{fields:r.fields}}),m=Tn.newFoundDocument(o,u,h);return i&&m.setHasCommittedMutations(),i?m.setHasCommittedMutations():m}function gt(s,r){let i;if(r instanceof Gp)i={update:Ca(s,r.key,r.value)};else if(r instanceof hh)i={delete:gh(s,r.key)};else if(r instanceof Cl)i={update:Ca(s,r.key,r.data),updateMask:sw(r.fieldMask)};else{if(!(r instanceof fh))return Ke();i={verify:gh(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(u,h){const m=h.transform;if(m instanceof Ea)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ku)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uh)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ch)return{fieldPath:h.field.canonicalString(),increment:m.C};throw Ke()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(u=r.precondition).updateTime?{updateTime:U1(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Ke()),i;var u}function Yi(s,r){const i=r.currentDocument?void 0!==(u=r.currentDocument).updateTime?Qn.updateTime(pr(u.updateTime)):void 0!==u.exists?Qn.exists(u.exists):Qn.none():Qn.none(),o=r.updateTransforms?r.updateTransforms.map(u=>function(h,m){let v=null;"setToServerValue"in m?(ft("REQUEST_TIME"===m.setToServerValue),v=new Ea):"appendMissingElements"in m?v=new Ku(m.appendMissingElements.values||[]):"removeAllFromArray"in m?v=new uh(m.removeAllFromArray.values||[]):"increment"in m?v=new ch(h,m.increment):Ke();const D=Wr.fromServerFormat(m.fieldPath);return new dh(D,v)}(s,u)):[];var u;if(r.update){const u=Ki(s,r.update.name),h=new Zr({mapValue:{fields:r.update.fields}});if(r.updateMask){const m=new Vp((r.updateMask.fieldPaths||[]).map(M=>Wr.fromServerFormat(M)));return new Cl(u,h,m,i,o)}return new Gp(u,h,i,o)}if(r.delete){const u=Ki(s,r.delete);return new hh(u,i)}if(r.verify){const u=Ki(s,r.verify);return new fh(u,i)}return Ke()}function Il(s,r){return{documents:[mh(s,r.path)]}}function H1(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=mh(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=mh(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(v){if(0===v.length)return;const D=v.map(M=>function(x){if("=="===x.op){if(dI(x.value))return{unaryFilter:{field:Kr(x.field),op:"IS_NAN"}};if(z_(x.value))return{unaryFilter:{field:Kr(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(dI(x.value))return{unaryFilter:{field:Kr(x.field),op:"IS_NOT_NAN"}};if(z_(x.value))return{unaryFilter:{field:Kr(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kr(x.field),op:Pn(x.op),value:x.value}}}(M));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(r.filters);u&&(i.structuredQuery.where=u);const h=function(v){if(0!==v.length)return v.map(D=>{return{field:Kr((M=D).field),direction:gs(M.dir)};var M})}(r.orderBy);h&&(i.structuredQuery.orderBy=h);const m=(D=r.limit,s.D||Gu(D)?D:{value:D});var D;return null!==m&&(i.structuredQuery.limit=m),r.startAt&&(i.structuredQuery.startAt=LI(r.startAt)),r.endAt&&(i.structuredQuery.endAt=LI(r.endAt)),i}function iw(s){let r=j1(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){ft(1===o);const x=i.from[0];x.allDescendants?u=x.collectionId:r=r.child(x.collectionId)}let h=[];i.where&&(h=$1(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(x=>{return new oh(Qu((N=x).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let v=null;i.limit&&(v=function(x){let N;return N="object"==typeof x?x.value:x,Gu(N)?null:N}(i.limit));let D=null;i.startAt&&(D=VI(i.startAt));let M=null;return i.endAt&&(M=VI(i.endAt)),mI(r,u,m,h,v,"F",D,M)}function $1(s){return s?void 0!==s.unaryFilter?[BI(s)]:void 0!==s.fieldFilter?[G1(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>$1(r)).reduce((r,i)=>r.concat(i)):Ke():[]}function LI(s){return{before:s.before,values:s.position}}function VI(s){return new jp(s.values||[],!!s.before)}function gs(s){return NI[s]}function Pn(s){return kI[s]}function Kr(s){return{fieldPath:s.canonicalString()}}function Qu(s){return Wr.fromServerFormat(s.fieldPath)}function G1(s){return ci.create(Qu(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ke()}}(s.fieldFilter.op),s.fieldFilter.value)}function BI(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Qu(s.unaryFilter.field);return ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qu(s.unaryFilter.field);return ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Qu(s.unaryFilter.field);return ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Qu(s.unaryFilter.field);return ci.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ke()}}function sw(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function Ju(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function di(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=Sl(r)),r=z1(s.get(i),r);return Sl(r)}function z1(s,r){let i=r;const o=s.length;for(let u=0;u<o;u++){const h=s.charAt(u);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function Sl(s){return s+"\x01\x01"}function Da(s){const r=s.length;if(ft(r>=2),2===r)return ft("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),zt.emptyPath();const i=r-2,o=[];let u="";for(let h=0;h<r;){const m=s.indexOf("\x01",h);switch((m<0||m>i)&&Ke(),s.charAt(m+1)){case"\x01":const v=s.substring(h,m);let D;0===u.length?D=v:(u+=v,D=u,u=""),o.push(D);break;case"\x10":u+=s.substring(h,m),u+="\0";break;case"\x11":u+=s.substring(h,m+1);break;default:Ke()}h=m+2}return new zt(o)}class UI{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class hi{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}hi.store="owner",hi.key="owner";class ms{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}ms.store="mutationQueues",ms.keyPath="userId";class un{constructor(r,i,o,u,h){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=h}}un.store="mutations",un.keyPath="batchId",un.userMutationsIndex="userMutationsIndex",un.userMutationsKeyPath=["userId","batchId"];class Or{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,di(i)]}static key(r,i,o){return[r,di(i),o]}}Or.store="documentMutations",Or.PLACEHOLDER=new Or;class _h{constructor(r,i){this.path=r,this.readTime=i}}class q1{constructor(r,i){this.path=r,this.version=i}}class Cn{constructor(r,i,o,u,h,m){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=u,this.readTime=h,this.parentPath=m}}Cn.store="remoteDocuments",Cn.readTimeIndex="readTimeIndex",Cn.readTimeIndexPath="readTime",Cn.collectionReadTimeIndex="collectionReadTimeIndex",Cn.collectionReadTimeIndexPath=["parentPath","readTime"];class zs{constructor(r){this.byteSize=r}}zs.store="remoteDocumentGlobal",zs.key="remoteDocumentGlobalKey";class fi{constructor(r,i,o,u,h,m,v){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=v}}fi.store="targets",fi.keyPath="targetId",fi.queryTargetsIndexName="queryTargetsIndex",fi.queryTargetsKeyPath=["canonicalId","targetId"];class gr{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}gr.store="targetDocuments",gr.keyPath=["targetId","path"],gr.documentTargetsIndex="documentTargetsIndex",gr.documentTargetsKeyPath=["path","targetId"];class Yr{constructor(r,i,o,u){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}Yr.key="targetGlobalKey",Yr.store="targetGlobal";class Xu{constructor(r,i){this.collectionId=r,this.parent=i}}Xu.store="collectionParents",Xu.keyPath=["collectionId","parent"];class qs{constructor(r,i,o,u){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=u}}qs.store="clientMetadata",qs.keyPath="clientId";class Tl{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}Tl.store="bundles",Tl.keyPath="bundleId";class Kp{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}Kp.store="namedQueries",Kp.keyPath="name";const KR=[ms.store,un.store,Or.store,Cn.store,fi.store,hi.store,Yr.store,gr.store,qs.store,zs.store,Xu.store,Tl.store,Kp.store],yt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Ae{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Ae((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(r,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,u)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Ae?i:Ae.resolve(i)}catch(i){return Ae.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.reject(i)}static resolve(r){return new Ae((i,o)=>{i(r)})}static reject(r){return new Ae((i,o)=>{o(r)})}static waitFor(r){return new Ae((i,o)=>{let u=0,h=0,m=!1;r.forEach(v=>{++u,v.next(()=>{++h,m&&h===u&&i()},D=>o(D))}),m=!0,h===u&&i()})}static or(r){let i=Ae.resolve(!1);for(const o of r)i=i.next(u=>u?Ae.resolve(u):o());return i}static forEach(r,i){const o=[];return r.forEach((u,h)=>{o.push(i.call(this,u,h))}),this.waitFor(o)}}class ay{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new fr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new ly(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const u=ow(o.target.error);this.Tt.reject(new ly(r,u))}}static open(r,i,o,u){try{return new ay(i,r.transaction(u,o))}catch(h){throw new ly(i,h)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Le("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new K1(i)}}class Ws{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===Ws.Rt((0,Zt.z$)())&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Le("SimpleDb","Removing database:",r),jn(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Ws.bt())return!0;const r=(0,Zt.z$)(),i=Ws.Rt(r),o=0<i&&i<10,u=Ws.vt(r),h=0<u&&u<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||h)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,Ie.Z)(function*(){return i.db||(Le("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,u)=>{const h=indexedDB.open(i.name,i.version);h.onsuccess=m=>{o(m.target.result)},h.onblocked=()=>{u(new ly(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const v=m.target.error;u("VersionError"===v.name?new Oe(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ly(r,v))},h.onupgradeneeded=m=>{Le("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',m.oldVersion),i.At.Ct(m.target.result,h.transaction,m.oldVersion,i.version).next(()=>{Le("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,u){var h=this;return(0,Ie.Z)(function*(){const m="readonly"===i;let v=0;for(;;){++v;try{h.db=yield h.Dt(r);const D=ay.open(h.db,r,m?"readonly":"readwrite",o),M=u(D).catch(x=>(D.abort(x),Ae.reject(x))).toPromise();return M.catch(()=>{}),yield D.It,M}catch(D){const M="FirebaseError"!==D.name&&v<3;if(Le("SimpleDb","Transaction failed with error:",D.message,"Retrying:",M),h.close(),!M)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Z1{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return jn(this.kt.delete())}}class ly extends Oe{constructor(r,i){super(ye.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function yh(s){return"IndexedDbTransactionError"===s.name}class K1{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(Le("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),jn(o)}add(r){return Le("SimpleDb","ADD",this.store.name,r,r),jn(this.store.add(r))}get(r){return jn(this.store.get(r)).next(i=>(void 0===i&&(i=null),Le("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return Le("SimpleDb","DELETE",this.store.name,r),jn(this.store.delete(r))}count(){return Le("SimpleDb","COUNT",this.store.name),jn(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),u=[];return this.Bt(o,(h,m)=>{u.push(m)}).next(()=>u)}Ut(r,i){Le("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const u=this.cursor(o);return this.Bt(u,(h,m,v)=>v.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const u=this.cursor(o);return this.Bt(u,i)}jt(r){const i=this.cursor({});return new Ae((o,u)=>{i.onerror=h=>{const m=ow(h.target.error);u(m)},i.onsuccess=h=>{const m=h.target.result;m?r(m.primaryKey,m.value).next(v=>{v?m.continue():o()}):o()}})}Bt(r,i){const o=[];return new Ae((u,h)=>{r.onerror=m=>{h(m.target.error)},r.onsuccess=m=>{const v=m.target.result;if(!v)return void u();const D=new Z1(v),M=i(v.primaryKey,v.value,D);if(M instanceof Ae){const x=M.catch(N=>(D.done(),Ae.reject(N)));o.push(x)}D.isDone?u():null===D.Ft?v.continue():v.continue(D.Ft)}}).next(()=>Ae.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function jn(s){return new Ae((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const u=ow(o.target.error);i(u)}})}let jI=!1;function ow(s){const r=Ws.Rt((0,Zt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jI||(jI=!0,setTimeout(()=>{throw o},0)),o}}return s}class uy extends W1{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function xi(s,r){const i=Ue(s);return Ws.St(i.Qt,r)}class aw{constructor(r,i,o,u){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(r.key)&&k1(h,r,o[u])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&YE(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&YE(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(wt.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),en())}isEqual(r){return this.batchId===r.batchId&&nh(this.mutations,r.mutations,(i,o)=>QE(i,o))&&nh(this.baseMutations,r.baseMutations,(i,o)=>QE(i,o))}}class lw{constructor(r,i,o,u){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(r,i,o){ft(r.mutations.length===o.length);let u=AI();const h=r.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,o[m].version);return new lw(r,i,o,u)}}class Al{constructor(r,i,o,u,h=wt.min(),m=wt.min(),v=sr.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v}withSequenceNumber(r){return new Al(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class HI{constructor(r){this.Wt=r}}function uw(s,r){if(r.document)return Yu(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=We.fromSegments(r.noDocument.path),o=Ml(r.noDocument.readTime),u=Tn.newNoDocument(i,o);return r.hasCommittedMutations?u.setHasCommittedMutations():u}if(r.unknownDocument){const i=We.fromSegments(r.unknownDocument.path),o=Ml(r.unknownDocument.version);return Tn.newUnknownDocument(i,o)}return Ke()}function cy(s,r,i){const o=cw(i),u=r.key.path.popLast().toArray();if(r.isFoundDocument()){const h={name:gh(v=s.Wt,(D=r).key),fields:D.data.value.mapValue.fields,updateTime:ph(v,D.version.toTimestamp())};return new Cn(null,null,h,r.hasCommittedMutations,o,u)}var v,D;if(r.isNoDocument()){const h=r.key.path.toArray(),m=ec(r.version),v=r.hasCommittedMutations;return new Cn(null,new _h(h,m),null,v,o,u)}if(r.isUnknownDocument()){const h=r.key.path.toArray(),m=ec(r.version);return new Cn(new q1(h,m),null,null,!0,o,u)}return Ke()}function cw(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function $I(s){const r=new ir(s[0],s[1]);return wt.fromTimestamp(r)}function ec(s){const r=s.toTimestamp();return new UI(r.seconds,r.nanoseconds)}function Ml(s){const r=new ir(s.seconds,s.nanoseconds);return wt.fromTimestamp(r)}function vh(s,r){const i=(r.baseMutations||[]).map(h=>Yi(s.Wt,h));for(let h=0;h<r.mutations.length-1;++h){const m=r.mutations[h];h+1<r.mutations.length&&void 0!==r.mutations[h+1].transform&&(m.updateTransforms=r.mutations[h+1].transform.fieldTransforms,r.mutations.splice(h+1,1),++h)}const o=r.mutations.map(h=>Yi(s.Wt,h)),u=ir.fromMillis(r.localWriteTimeMs);return new aw(r.batchId,u,i,o)}function dy(s){const r=Ml(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Ml(s.lastLimboFreeSnapshotVersion):wt.min();let o;var u;return void 0!==s.query.documents?(ft(1===(u=s.query).documents.length),o=Zi(ah(j1(u.documents[0])))):o=Zi(iw(s.query)),new Al(o,s.targetId,0,s.lastListenSequenceNumber,r,i,sr.fromBase64String(s.resumeToken))}function GI(s,r){const i=ec(r.snapshotVersion),o=ec(r.lastLimboFreeSnapshotVersion);let u;u=W_(r.target)?Il(s.Wt,r.target):H1(s.Wt,r.target);const h=r.resumeToken.toBase64();return new fi(r.targetId,sh(r.target),i,h,r.sequenceNumber,o,u)}function dw(s){const r=iw({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?x1(r,r.limit,"L"):r}class Y1{getBundleMetadata(r,i){return zI(r).get(i).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ml(u.createTime),version:u.version};var u})}saveBundleMetadata(r,i){return zI(r).put({bundleId:(o=i).id,createTime:ec(pr(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return qI(r).get(i).next(o=>{if(o)return{name:(u=o).name,query:dw(u.bundledQuery),readTime:Ml(u.readTime)};var u})}saveNamedQuery(r,i){return qI(r).put({name:(o=i).name,readTime:ec(pr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function zI(s){return xi(s,Tl.store)}function qI(s){return xi(s,Kp.store)}class Q1{constructor(){this.Gt=new tc}addToCollectionParentIndex(r,i){return this.Gt.add(i),Ae.resolve()}getCollectionParents(r,i){return Ae.resolve(this.Gt.getEntries(i))}}class tc{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i]||new Un(zt.comparator),h=!u.has(o);return this.index[i]=u.add(o),h}has(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(r){return(this.index[r]||new Un(zt.comparator)).toArray()}}class J1{constructor(){this.zt=new tc}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),u=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const h={collectionId:o,parent:di(u)};return WI(r).put(h)}return Ae.resolve()}getCollectionParents(r,i){const o=[],u=IDBKeyRange.bound([i,""],[lI(i),""],!1,!0);return WI(r).Lt(u).next(h=>{for(const m of h){if(m.collectionId!==i)break;o.push(Da(m.parent))}return o})}}function WI(s){return xi(s,Xu.store)}const hw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mr{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new mr(r,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function X1(s,r,i){const o=s.store(un.store),u=s.store(Or.store),h=[],m=IDBKeyRange.only(i.batchId);let v=0;const D=o.Kt({range:m},(x,N,H)=>(v++,H.delete()));h.push(D.next(()=>{ft(1===v)}));const M=[];for(const x of i.mutations){const N=Or.key(r,x.key.path,i.batchId);h.push(u.delete(N)),M.push(x.key)}return Ae.waitFor(h).next(()=>M)}function Yp(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Ke();r=s.noDocument}return JSON.stringify(r).length}mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(41943040,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);class fw{constructor(r,i,o,u){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=u,this.Jt={}}static Yt(r,i,o,u){ft(""!==r.uid);const h=r.isAuthenticated()?r.uid:"";return new fw(h,i,o,u)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(r).Kt({index:un.userMutationsIndex,range:o},(u,h,m)=>{i=!1,m.done()}).next(()=>i)}addMutationBatch(r,i,o,u){const h=bh(r),m=xl(r);return m.add({}).next(v=>{ft("number"==typeof v);const D=new aw(v,i,o,u),M=function(H,z,ee){const Ce=ee.baseMutations.map(tt=>gt(H.Wt,tt)),Re=ee.mutations.map(tt=>gt(H.Wt,tt));return new un(z,ee.batchId,ee.localWriteTime.toMillis(),Ce,Re)}(this.N,this.userId,D),x=[];let N=new Un((H,z)=>Bt(H.canonicalString(),z.canonicalString()));for(const H of u){const z=Or.key(this.userId,H.key.path,v);N=N.add(H.key.path.popLast()),x.push(m.put(M)),x.push(h.put(z,Or.PLACEHOLDER))}return N.forEach(H=>{x.push(this.Ht.addToCollectionParentIndex(r,H))}),r.addOnCommittedListener(()=>{this.Jt[v]=D.keys()}),Ae.waitFor(x).next(()=>D)})}lookupMutationBatch(r,i){return xl(r).get(i).next(o=>o?(ft(o.userId===this.userId),vh(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Ae.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const u=o.keys();return this.Jt[i]=u,u}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return xl(r).Kt({index:un.userMutationsIndex,range:u},(m,v,D)=>{v.userId===this.userId&&(ft(v.batchId>=o),h=vh(this.N,v)),D.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return xl(r).Kt({index:un.userMutationsIndex,range:i,reverse:!0},(u,h,m)=>{o=h.batchId,m.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(r).Lt(un.userMutationsIndex,i).next(o=>o.map(u=>vh(this.N,u)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=Or.prefixForPath(this.userId,i.path),u=IDBKeyRange.lowerBound(o),h=[];return bh(r).Kt({range:u},(m,v,D)=>{const[M,x,N]=m,H=Da(x);if(M===this.userId&&i.path.isEqual(H))return xl(r).get(N).next(z=>{if(!z)throw Ke();ft(z.userId===this.userId),h.push(vh(this.N,z))});D.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new Un(Bt);const u=[];return i.forEach(h=>{const m=Or.prefixForPath(this.userId,h.path),v=IDBKeyRange.lowerBound(m),D=bh(r).Kt({range:v},(M,x,N)=>{const[H,z,ee]=M,Ce=Da(z);H===this.userId&&h.path.isEqual(Ce)?o=o.add(ee):N.done()});u.push(D)}),Ae.waitFor(u).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1,h=Or.prefixForPath(this.userId,o),m=IDBKeyRange.lowerBound(h);let v=new Un(Bt);return bh(r).Kt({range:m},(D,M,x)=>{const[N,H,z]=D,ee=Da(H);N===this.userId&&o.isPrefixOf(ee)?ee.length===u&&(v=v.add(z)):x.done()}).next(()=>this.Zt(r,v))}Zt(r,i){const o=[],u=[];return i.forEach(h=>{u.push(xl(r).get(h).next(m=>{if(null===m)throw Ke();ft(m.userId===this.userId),o.push(vh(this.N,m))}))}),Ae.waitFor(u).next(()=>o)}removeMutationBatch(r,i){return X1(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Ae.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(r,u))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Ae.resolve();const o=IDBKeyRange.lowerBound(Or.prefixForUser(this.userId)),u=[];return bh(r).Kt({range:o},(h,m,v)=>{if(h[0]===this.userId){const D=Da(h[1]);u.push(D)}else v.done()}).next(()=>{ft(0===u.length)})})}containsKey(r,i){return ZI(r,this.userId,i)}ee(r){return KI(r).get(this.userId).next(i=>i||new ms(this.userId,-1,""))}}function ZI(s,r,i){const o=Or.prefixForPath(r,i.path),u=o[1],h=IDBKeyRange.lowerBound(o);let m=!1;return bh(s).Kt({range:h,qt:!0},(v,D,M)=>{const[x,N,H]=v;x===r&&N===u&&(m=!0),M.done()}).next(()=>m)}function xl(s){return xi(s,un.store)}function bh(s){return xi(s,Or.store)}function KI(s){return xi(s,ms.store)}class Rl{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new Rl(0)}static ie(){return new Rl(-1)}}class eM{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new Rl(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>wt.fromTimestamp(new ir(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(u=>(u.highestListenSequenceNumber=i,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.oe(r,u)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Eh(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(ft(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let u=0;const h=[];return Eh(r).Kt((m,v)=>{const D=dy(v);D.sequenceNumber<=i&&null===o.get(D.targetId)&&(u++,h.push(this.removeTargetData(r,D)))}).next(()=>Ae.waitFor(h)).next(()=>u)}forEachTarget(r,i){return Eh(r).Kt((o,u)=>{const h=dy(u);i(h)})}re(r){return tM(r).get(Yr.key).next(i=>(ft(null!==i),i))}oe(r,i){return tM(r).put(Yr.key,i)}ae(r,i){return Eh(r).put(GI(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=sh(i),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Eh(r).Kt({range:u,index:fi.queryTargetsIndexName},(m,v,D)=>{const M=dy(v);q_(i,M.target)&&(h=M,D.done())}).next(()=>h)}addMatchingKeys(r,i,o){const u=[],h=nc(r);return i.forEach(m=>{const v=di(m.path);u.push(h.put(new gr(o,v))),u.push(this.referenceDelegate.addReference(r,o,m))}),Ae.waitFor(u)}removeMatchingKeys(r,i,o){const u=nc(r);return Ae.forEach(i,h=>{const m=di(h.path);return Ae.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(r,o,h)])})}removeMatchingKeysForTargetId(r,i){const o=nc(r),u=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),u=nc(r);let h=en();return u.Kt({range:o,qt:!0},(m,v,D)=>{const M=Da(m[1]),x=new We(M);h=h.add(x)}).next(()=>h)}containsKey(r,i){const o=di(i.path),u=IDBKeyRange.bound([o],[lI(o)],!1,!0);let h=0;return nc(r).Kt({index:gr.documentTargetsIndex,qt:!0,range:u},([m,v],D,M)=>{0!==m&&(h++,M.done())}).next(()=>h>0)}Et(r,i){return Eh(r).get(i).next(o=>o?dy(o):null)}}function Eh(s){return xi(s,fi.store)}function tM(s){return xi(s,Yr.store)}function nc(s){return xi(s,gr.store)}function wh(s){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,Ie.Z)(function*(s){if(s.code!==ye.FAILED_PRECONDITION||s.message!==yt)throw s;Le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function YI([s,r],[i,o]){const u=Bt(s,i);return 0===u?Bt(r,o):u}class nM{constructor(r){this.ue=r,this.buffer=new Un(YI),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();YI(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rM{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ie.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(u){yh(u)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield wh(u)}yield i._e(r)}))}}class iM{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Ae.resolve(Wi.T);const o=new nM(i);return this.me.forEachTarget(r,u=>o.fe(u.sequenceNumber)).next(()=>this.me.ye(r,u=>o.fe(u))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(hw)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hw):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,u,h,m,v,D,M;const x=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,m=Date.now(),this.nthSequenceNumber(r,u))).next(N=>(o=N,v=Date.now(),this.removeTargets(r,o,i))).next(N=>(h=N,D=Date.now(),this.removeOrphanedDocuments(r,o))).next(N=>(M=Date.now(),nI()<=Tu.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-x}ms\n\tDetermined least recently used ${u} in `+(v-m)+`ms\n\tRemoved ${h} targets in `+(D-v)+`ms\n\tRemoved ${N} documents in `+(M-D)+`ms\nTotal Duration: ${M-x}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:N})))}}class sM{constructor(r,i){this.db=r,this.garbageCollector=new iM(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(u=>o+u))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,u)=>i(u))}addReference(r,i,o){return hy(r,o)}removeReference(r,i,o){return hy(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return hy(r,i)}Ie(r,i){return function(o,u){let h=!1;return KI(o).jt(m=>ZI(o,m,u).next(v=>(v&&(h=!0),Ae.resolve(!v)))).next(()=>h)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Te(r,(m,v)=>{if(v<=i){const D=this.Ie(r,m).next(M=>{if(!M)return h++,o.getEntry(r,m).next(()=>(o.removeEntry(m),nc(r).delete([0,di(m.path)])))});u.push(D)}}).next(()=>Ae.waitFor(u)).next(()=>o.apply(r)).next(()=>h)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return hy(r,i)}Te(r,i){const o=nc(r);let u,h=Wi.T;return o.Kt({index:gr.documentTargetsIndex},([m,v],{path:D,sequenceNumber:M})=>{0===m?(h!==Wi.T&&i(new We(Da(u)),h),h=M,u=D):h=Wi.T}).next(()=>{h!==Wi.T&&i(new We(Da(u)),h)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function hy(s,r){return nc(s).put((o=s.currentSequenceNumber,new gr(0,di(r.path),o)));var o}class rc{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,r))return h}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),u=this.inner[o];if(void 0!==u){for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],r))return void(u[h]=[r,i]);u.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],r))return 1===o.length?delete this.inner[i]:o.splice(u,1),!0;return!1}forEach(r){ju(this.inner,(i,o)=>{for(const[u,h]of o)r(u,h)})}isEmpty(){return BE(this.inner)}}class fy{constructor(){this.changes=new rc(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:wt.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:Tn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Ae.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class oM{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return Ia(r).put(Ri(i),o)}removeEntry(r,i){const o=Ia(r),u=Ri(i);return o.delete(u)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return Ia(r).get(Ri(i)).next(o=>this.Re(i,o))}Pe(r,i){return Ia(r).get(Ri(i)).next(o=>({document:this.Re(i,o),size:Yp(o)}))}getEntries(r,i){let o=ps();return this.be(r,i,(u,h)=>{const m=this.Re(u,h);o=o.insert(u,m)}).next(()=>o)}ve(r,i){let o=ps(),u=new or(We.comparator);return this.be(r,i,(h,m)=>{const v=this.Re(h,m);o=o.insert(h,v),u=u.insert(h,Yp(m))}).next(()=>({documents:o,Ve:u}))}be(r,i,o){if(i.isEmpty())return Ae.resolve();const u=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),h=i.getIterator();let m=h.getNext();return Ia(r).Kt({range:u},(v,D,M)=>{const x=We.fromSegments(v);for(;m&&We.comparator(m,x)<0;)o(m,null),m=h.getNext();m&&m.isEqual(x)&&(o(m,D),m=h.hasNext()?h.getNext():null),m?M.Mt(m.path.toArray()):M.done()}).next(()=>{for(;m;)o(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(r,i,o){let u=ps();const h=i.path.length+1,m={};if(o.isEqual(wt.min())){const v=i.path.toArray();m.range=IDBKeyRange.lowerBound(v)}else{const v=i.path.toArray(),D=cw(o);m.range=IDBKeyRange.lowerBound([v,D],!0),m.index=Cn.collectionReadTimeIndex}return Ia(r).Kt(m,(v,D,M)=>{if(v.length!==h)return;const x=uw(this.N,D);i.path.isPrefixOf(x.key.path)?Wu(i,x)&&(u=u.insert(x.key,x)):M.done()}).next(()=>u)}newChangeBuffer(r){return new Ch(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return Nr(r).get(zs.key).next(i=>(ft(!!i),i))}Ae(r,i){return Nr(r).put(zs.key,i)}Re(r,i){if(i){const o=uw(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(wt.min()))return o}return Tn.newInvalidDocument(r)}}class Ch extends fy{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new rc(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(r){const i=[];let o=0,u=new Un((h,m)=>Bt(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const v=this.De.get(h);if(m.document.isValidDocument()){const D=cy(this.Se.N,m.document,this.getReadTime(h));u=u.add(h.path.popLast()),o+=Yp(D)-v,i.push(this.Se.addEntry(r,h,D))}else if(o-=v,this.trackRemovals){const D=cy(this.Se.N,Tn.newNoDocument(h,wt.min()),this.getReadTime(h));i.push(this.Se.addEntry(r,h,D))}else i.push(this.Se.removeEntry(r,h))}),u.forEach(h=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,h))}),i.push(this.Se.updateMetadata(r,o)),Ae.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:u})=>(u.forEach((h,m)=>{this.De.set(h,m)}),o))}}function Nr(s){return xi(s,zs.store)}function Ia(s){return xi(s,Cn.store)}function Ri(s){return s.path.toArray()}class pw{constructor(r){this.N=r}Ct(r,i,o,u){ft(o<u&&o>=0&&u<=11);const h=new ay("createOrUpgrade",i);var v;o<1&&u>=1&&(r.createObjectStore(hi.store),(v=r).createObjectStore(ms.store,{keyPath:ms.keyPath}),v.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Or.store),QI(r),function(v){v.createObjectStore(Cn.store)}(r));let m=Ae.resolve();return o<3&&u>=3&&(0!==o&&(function(v){v.deleteObjectStore(gr.store),v.deleteObjectStore(fi.store),v.deleteObjectStore(Yr.store)}(r),QI(r)),m=m.next(()=>function(v){const D=v.store(Yr.store),M=new Yr(0,0,wt.min().toTimestamp(),0);return D.put(Yr.key,M)}(h))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(v,D){return D.store(un.store).Lt().next(M=>{v.deleteObjectStore(un.store),v.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0});const x=D.store(un.store),N=M.map(H=>x.put(H));return Ae.waitFor(N)})}(r,h))),m=m.next(()=>{!function(v){v.createObjectStore(qs.store,{keyPath:qs.keyPath})}(r)})),o<5&&u>=5&&(m=m.next(()=>this.Ce(h))),o<6&&u>=6&&(m=m.next(()=>(function(v){v.createObjectStore(zs.store)}(r),this.Ne(h)))),o<7&&u>=7&&(m=m.next(()=>this.xe(h))),o<8&&u>=8&&(m=m.next(()=>this.ke(r,h))),o<9&&u>=9&&(m=m.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(r),function(v){const D=v.objectStore(Cn.store);D.createIndex(Cn.readTimeIndex,Cn.readTimeIndexPath,{unique:!1}),D.createIndex(Cn.collectionReadTimeIndex,Cn.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&u>=10&&(m=m.next(()=>this.$e(h))),o<11&&u>=11&&(m=m.next(()=>{(function(v){v.createObjectStore(Tl.store,{keyPath:Tl.keyPath})})(r),function(v){v.createObjectStore(Kp.store,{keyPath:Kp.keyPath})}(r)})),m}Ne(r){let i=0;return r.store(Cn.store).Kt((o,u)=>{i+=Yp(u)}).next(()=>{const o=new zs(i);return r.store(zs.store).put(zs.key,o)})}Ce(r){const i=r.store(ms.store),o=r.store(un.store);return i.Lt().next(u=>Ae.forEach(u,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.Lt(un.userMutationsIndex,m).next(v=>Ae.forEach(v,D=>{ft(D.userId===h.userId);const M=vh(this.N,D);return X1(r,h.userId,M).next(()=>{})}))}))}xe(r){const i=r.store(gr.store),o=r.store(Cn.store);return r.store(Yr.store).get(Yr.key).next(u=>{const h=[];return o.Kt((m,v)=>{const D=new zt(m),M=[0,di(D)];h.push(i.get(M).next(x=>x?Ae.resolve():i.put(new gr(0,di(D),u.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(h))})}ke(r,i){r.createObjectStore(Xu.store,{keyPath:Xu.keyPath});const o=i.store(Xu.store),u=new tc,h=m=>{if(u.add(m)){const v=m.lastSegment(),D=m.popLast();return o.put({collectionId:v,parent:di(D)})}};return i.store(Cn.store).Kt({qt:!0},(m,v)=>{const D=new zt(m);return h(D.popLast())}).next(()=>i.store(Or.store).Kt({qt:!0},([m,v,D],M)=>{const x=Da(v);return h(x.popLast())}))}$e(r){const i=r.store(fi.store);return i.Kt((o,u)=>{const h=dy(u),m=GI(this.N,h);return i.put(m)})}}function QI(s){s.createObjectStore(gr.store,{keyPath:gr.keyPath}).createIndex(gr.documentTargetsIndex,gr.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(fi.store,{keyPath:fi.keyPath}).createIndex(fi.queryTargetsIndexName,fi.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(Yr.store)}const py="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gy{constructor(r,i,o,u,h,m,v,D,M,x){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=h,this.window=m,this.document=v,this.Fe=M,this.Me=x,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=N=>Promise.resolve(),!gy.Pt())throw new Oe(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sM(this,u),this.We=i+"main",this.N=new HI(D),this.Ge=new Ws(this.We,11,new pw(this.N)),this.ze=new eM(this.referenceDelegate,this.N),this.Ht=new J1,this.He=new oM(this.N,this.Ht),this.Je=new Y1,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===x&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(ye.FAILED_PRECONDITION,py);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new Wi(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,Ie.Z)(function*(u){if(i.started)return r(u)});return function(u){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,Ie.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Ie.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>my(r).put(new qs(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(yh(r))return Le("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Dh(r).get(hi.key).next(i=>Ae.resolve(this.cn(i)))}un(r){return my(r).delete(this.clientId)}hn(){var r=this;return(0,Ie.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=xi(o,qs.store);return u.Lt().next(h=>{const m=r.fn(h,18e5),v=h.filter(D=>-1===m.indexOf(D));return Ae.forEach(v,D=>u.delete(D.clientId)).next(()=>v)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Ae.resolve(!0):Dh(r).get(hi.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Oe(ye.FAILED_PRECONDITION,py);return!1}}return!(!this.networkEnabled||!this.inForeground)||my(r).Lt().next(o=>void 0===this.fn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,v=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&v)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Le("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,Ie.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[hi.store,qs.store],i=>{const o=new uy(i,Wi.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>my(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return fw.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let h;return Le("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",KR,m=>(h=new uy(m,this.Le?this.Le.next():Wi.T),"readwrite-primary"===i?this.sn(h).next(v=>!!v||this.rn(h)).next(v=>{if(!v)throw Kn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Oe(ye.FAILED_PRECONDITION,yt);return o(h)}).next(v=>this.an(h).next(()=>v)):this.En(h).next(()=>o(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(r){return Dh(r).get(hi.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Oe(ye.FAILED_PRECONDITION,py)})}an(r){const i=new hi(this.clientId,this.allowTabSynchronization,Date.now());return Dh(r).put(hi.key,i)}static Pt(){return Ws.Pt()}on(r){const i=Dh(r);return i.get(hi.key).next(o=>this.cn(o)?(Le("IndexedDbPersistence","Releasing primary lease."),i.delete(hi.key)):Ae.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(Kn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Zt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return Le("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Kn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){Kn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Dh(s){return xi(s,hi.store)}function my(s){return xi(s,qs.store)}function gw(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class aM{constructor(r,i){this.progress=r,this.Tn=i}}class mw{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}Pn(r,i){r.forEach((o,u)=>{for(const h of i)h.applyToLocalView(u)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return We.isDocumentKey((u=i).path)&&null===u.collectionGroup&&0===u.filters.length?this.Vn(r,i.path):J_(i)?this.Sn(r,i,o):this.Dn(r,i,o);var u}Vn(r,i){return this.An(r,new We(i)).next(o=>{let u=ew();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Sn(r,i,o){const u=i.collectionGroup;let h=ew();return this.Ht.getCollectionParents(r,u).next(m=>Ae.forEach(m,v=>{const D=(M=i,x=v.child(u),new $s(x,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,x;return this.Dn(r,D,o).next(M=>{M.forEach((x,N)=>{h=h.insert(x,N)})})}).next(()=>h))}Dn(r,i,o){let u,h;return this.He.getDocumentsMatchingQuery(r,i,o).next(m=>(u=m,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(m=>(h=m,this.Cn(r,h,u).next(v=>{u=v;for(const D of h)for(const M of D.mutations){const x=M.key;let N=u.get(x);null==N&&(N=Tn.newInvalidDocument(x),u=u.insert(x,N)),YE(M,N,D.localWriteTime),N.isFoundDocument()||(u=u.remove(x))}}))).next(()=>(u.forEach((m,v)=>{Wu(i,v)||(u=u.remove(m))}),u))}Cn(r,i,o){let u=en();for(const m of i)for(const v of m.mutations)v instanceof Cl&&null===o.get(v.key)&&(u=u.add(v.key));let h=o;return this.He.getEntries(r,u).next(m=>(m.forEach((v,D)=>{D.isFoundDocument()&&(h=h.insert(v,D))}),h))}}class _w{constructor(r,i,o,u){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=u}static kn(r,i){let o=en(),u=en();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new _w(r,i.fromCache,o,u)}}class lM{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,u){return 0===(h=i).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(wt.min())?this.Fn(r,i):this.On.bn(r,u).next(h=>{const m=this.Mn(i,h);return(lh(i)||Y_(i))&&this.Ln(i.limitType,m,u,o)?this.Fn(r,i):(nI()<=Tu.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_I(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(v=>(m.forEach(D=>{v=v.insert(D.key,D)}),v)))});var h}Mn(r,i){let o=new Un($p(r));return i.forEach((u,h)=>{Wu(r,h)&&(o=o.add(h))}),o}Ln(r,i,o,u){if(o.size!==i.size)return!0;const h="F"===r?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Fn(r,i){return nI()<=Tu.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",_I(i)),this.On.getDocumentsMatchingQuery(r,i,wt.min())}}class uM{constructor(r,i,o,u){this.persistence=r,this.Bn=i,this.N=u,this.Un=new or(Bt),this.qn=new rc(h=>sh(h),q_),this.Kn=wt.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new mw(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function JI(s,r,i,o){return new uM(s,r,i,o)}function ic(s,r){return XI.apply(this,arguments)}function XI(){return(XI=(0,Ie.Z)(function*(s,r){const i=Ue(s);let o=i.In,u=i.Qn;const h=yield i.persistence.runTransaction("Handle user change","readonly",m=>{let v;return i.In.getAllMutationBatches(m).next(D=>(v=D,o=i.persistence.getMutationQueue(r),u=new mw(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(m))).next(D=>{const M=[],x=[];let N=en();for(const H of v){M.push(H.batchId);for(const z of H.mutations)N=N.add(z.key)}for(const H of D){x.push(H.batchId);for(const z of H.mutations)N=N.add(z.key)}return u.bn(m,N).next(H=>({Wn:H,removedBatchIds:M,addedBatchIds:x}))})});return i.In=o,i.Qn=u,i.Bn.$n(i.Qn),h})).apply(this,arguments)}function eS(s,r){const i=Ue(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=r.batch.keys(),h=i.jn.newChangeBuffer({trackRemovals:!0});return function(m,v,D,M){const x=D.batch,N=x.keys();let H=Ae.resolve();return N.forEach(z=>{H=H.next(()=>M.getEntry(v,z)).next(ee=>{const Ce=D.docVersions.get(z);ft(null!==Ce),ee.version.compareTo(Ce)<0&&(x.applyToRemoteDocument(ee,D),ee.isValidDocument()&&M.addEntry(ee,D.commitVersion))})}),H.next(()=>m.In.removeMutationBatch(v,x))}(i,o,r,h).next(()=>h.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,u))})}function tS(s){const r=Ue(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function YR(s,r){const i=Ue(s),o=r.snapshotVersion;let u=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.jn.newChangeBuffer({trackRemovals:!0});u=i.Un;const v=[];r.targetChanges.forEach((M,x)=>{const N=u.get(x);if(!N)return;v.push(i.ze.removeMatchingKeys(h,M.removedDocuments,x).next(()=>i.ze.addMatchingKeys(h,M.addedDocuments,x)));const H=M.resumeToken;if(H.approximateByteSize()>0){const z=N.withResumeToken(H,o).withSequenceNumber(h.currentSequenceNumber);u=u.insert(x,z),ee=N,Re=M,ft((Ce=z).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&v.push(i.ze.updateTargetData(h,z))}var ee,Ce,Re});let D=ps();if(r.documentUpdates.forEach((M,x)=>{r.resolvedLimboDocuments.has(M)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(h,M))}),v.push(yw(h,m,r.documentUpdates,o,void 0).next(M=>{D=M})),!o.isEqual(wt.min())){const M=i.ze.getLastRemoteSnapshotVersion(h).next(x=>i.ze.setTargetsMetadata(h,h.currentSequenceNumber,o));v.push(M)}return Ae.waitFor(v).next(()=>m.apply(h)).next(()=>i.Qn.vn(h,D)).next(()=>D)}).then(h=>(i.Un=u,h))}function yw(s,r,i,o,u){let h=en();return i.forEach(m=>h=h.add(m)),r.getEntries(s,h).next(m=>{let v=ps();return i.forEach((D,M)=>{const x=m.get(D),N=(null==u?void 0:u.get(D))||o;M.isNoDocument()&&M.version.isEqual(wt.min())?(r.removeEntry(D,N),v=v.insert(D,M)):!x.isValidDocument()||M.version.compareTo(x.version)>0||0===M.version.compareTo(x.version)&&x.hasPendingWrites?(r.addEntry(M,N),v=v.insert(D,M)):Le("LocalStore","Ignoring outdated watch update for ",D,". Current version:",x.version," Watch version:",M.version)}),v})}function cM(s,r){const i=Ue(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function Ol(s,r){const i=Ue(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.ze.getTargetData(o,r).next(h=>h?(u=h,Ae.resolve(u)):i.ze.allocateTargetId(o).next(m=>(u=new Al(r,m,0,o.currentSequenceNumber),i.ze.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.Un.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function sc(s,r,i){return vw.apply(this,arguments)}function vw(){return(vw=(0,Ie.Z)(function*(s,r,i){const o=Ue(s),u=o.Un.get(r),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!yh(m))throw m;Le("LocalStore",`Failed to update sequence numbers for target ${r}: ${m}`)}o.Un=o.Un.remove(r),o.qn.delete(u.target)})).apply(this,arguments)}function _y(s,r,i){const o=Ue(s);let u=wt.min(),h=en();return o.persistence.runTransaction("Execute query","readonly",m=>function(v,D,M){const x=Ue(v),N=x.qn.get(M);return void 0!==N?Ae.resolve(x.Un.get(N)):x.ze.getTargetData(D,M)}(o,m,Zi(r)).next(v=>{if(v)return u=v.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(m,v.targetId).next(D=>{h=D})}).next(()=>o.Bn.getDocumentsMatchingQuery(m,r,i?u:wt.min(),i?h:en())).next(v=>({documents:v,Gn:h})))}function nS(s,r){const i=Ue(s),o=Ue(i.ze),u=i.Un.get(r);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,r).next(m=>m?m.target:null))}function rS(s){const r=Ue(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,u,h){const m=Ue(o);let v=ps(),D=cw(h);const M=Ia(u),x=IDBKeyRange.lowerBound(D,!0);return M.Kt({index:Cn.readTimeIndex,range:x},(N,H)=>{const z=uw(m.N,H);v=v.insert(z.key,z),D=H.readTime}).next(()=>({Tn:v,readTime:$I(D)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function bw(){return(bw=(0,Ie.Z)(function*(s){const r=Ue(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const u=Ia(o);let h=wt.min();return u.Kt({index:Cn.readTimeIndex,reverse:!0},(m,v,D)=>{v.readTime&&(h=$I(v.readTime)),D.done()}).next(()=>h)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function Ew(){return(Ew=(0,Ie.Z)(function*(s,r,i,o){const u=Ue(s);let h=en(),m=ps(),v=AI();for(const x of i){const N=r.zn(x.metadata.name);x.document&&(h=h.add(N)),m=m.insert(N,r.Hn(x)),v=v.insert(N,r.Jn(x.metadata.readTime))}const D=u.jn.newChangeBuffer({trackRemovals:!0}),M=yield Ol(u,(x=o,Zi(ah(zt.fromString(`__bundle__/docs/${x}`)))));var x;return u.persistence.runTransaction("Apply bundle documents","readwrite",x=>yw(x,D,m,wt.min(),v).next(N=>(D.apply(x),N)).next(N=>u.ze.removeMatchingKeysForTargetId(x,M.targetId).next(()=>u.ze.addMatchingKeys(x,h,M.targetId)).next(()=>u.Qn.vn(x,N)).next(()=>N)))})).apply(this,arguments)}function fM(s,r){return oc.apply(this,arguments)}function oc(){return(oc=(0,Ie.Z)(function*(s,r,i=en()){const o=yield Ol(s,Zi(dw(r.bundledQuery))),u=Ue(s);return u.persistence.runTransaction("Save named query","readwrite",h=>{const m=pr(r.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.Je.saveNamedQuery(h,r);const v=o.withResumeToken(sr.EMPTY_BYTE_STRING,m);return u.Un=u.Un.insert(v.targetId,v),u.ze.updateTargetData(h,v).next(()=>u.ze.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.ze.addMatchingKeys(h,i,o.targetId)).next(()=>u.Je.saveNamedQuery(h,r))})})).apply(this,arguments)}class iS{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Ae.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:pr(o.createTime)}),Ae.resolve()}getNamedQuery(r,i){return Ae.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:dw(o.bundledQuery),readTime:pr(o.readTime)}),Ae.resolve();var o}}class yy{constructor(){this.Zn=new Un(ar.ts),this.es=new Un(ar.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new ar(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new ar(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new We(new zt([])),o=new ar(i,r),u=new ar(i,r+1),h=[];return this.es.forEachInRange([o,u],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new We(new zt([])),o=new ar(i,r),u=new ar(i,r+1);let h=en();return this.es.forEachInRange([o,u],m=>{h=h.add(m.key)}),h}containsKey(r){const i=new ar(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class ar{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return We.comparator(r.key,i.key)||Bt(r.ls,i.ls)}static ns(r,i){return Bt(r.ls,i.ls)||We.comparator(r.key,i.key)}}class sS{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new Un(ar.ts)}checkEmpty(r){return Ae.resolve(0===this.In.length)}addMutationBatch(r,i,o,u){const h=this.fs;this.fs++;const m=new aw(h,i,o,u);this.In.push(m);for(const v of u)this.ds=this.ds.add(new ar(v.key,h)),this.Ht.addToCollectionParentIndex(r,v.key.path.popLast());return Ae.resolve(m)}lookupMutationBatch(r,i){return Ae.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const u=this._s(i+1),h=u<0?0:u;return Ae.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new ar(i,0),u=new ar(i,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([o,u],m=>{const v=this.ws(m.ls);h.push(v)}),Ae.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new Un(Bt);return i.forEach(u=>{const h=new ar(u,0),m=new ar(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],v=>{o=o.add(v.ls)})}),Ae.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1;let h=o;We.isDocumentKey(h)||(h=h.child(""));const m=new ar(new We(h),0);let v=new Un(Bt);return this.ds.forEachWhile(D=>{const M=D.key.path;return!!o.isPrefixOf(M)&&(M.length===u&&(v=v.add(D.ls)),!0)},m),Ae.resolve(this.gs(v))}gs(r){const i=[];return r.forEach(o=>{const u=this.ws(o);null!==u&&i.push(u)}),i}removeMutationBatch(r,i){ft(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Ae.forEach(i.mutations,u=>{const h=new ar(u.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(r,u.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new ar(i,0),u=this.ds.firstAfterOrEqual(o);return Ae.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(r){return Ae.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class oS{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new or(We.comparator),this.size=0}addEntry(r,i,o){const u=i.key,h=this.docs.get(u),m=h?h.size:0,v=this.ps(i);return this.docs=this.docs.insert(u,{document:i.clone(),size:v,readTime:o}),this.size+=v-m,this.Ht.addToCollectionParentIndex(r,u.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Ae.resolve(o?o.document.clone():Tn.newInvalidDocument(i))}getEntries(r,i){let o=ps();return i.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.clone():Tn.newInvalidDocument(u))}),Ae.resolve(o)}getDocumentsMatchingQuery(r,i,o){let u=ps();const h=new We(i.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:D,readTime:M}}=m.getNext();if(!i.path.isPrefixOf(v.path))break;M.compareTo(o)<=0||Wu(i,D)&&(u=u.insert(D.key,D.clone()))}return Ae.resolve(u)}Es(r,i){return Ae.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new pM(this)}getSize(r){return Ae.resolve(this.size)}}class pM extends fy{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?i.push(this.Se.addEntry(r,u.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Ae.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class gM{constructor(r){this.persistence=r,this.Ts=new rc(i=>sh(i),q_),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Is=0,this.As=new yy,this.targetCount=0,this.Rs=Rl.se()}forEachTarget(r,i){return this.Ts.forEach((o,u)=>i(u)),Ae.resolve()}getLastRemoteSnapshotVersion(r){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Ae.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Ae.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new Rl(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Ae.resolve()}updateTargetData(r,i){return this.ae(i),Ae.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(r,i,o){let u=0;const h=[];return this.Ts.forEach((m,v)=>{v.sequenceNumber<=i&&null===o.get(v.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(r,v.targetId)),u++)}),Ae.waitFor(h).next(()=>u)}getTargetCount(r){return Ae.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Ae.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Ae.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(m=>{h.push(u.markPotentiallyOrphaned(r,m))}),Ae.waitFor(h)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Ae.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Ae.resolve(o)}containsKey(r,i){return Ae.resolve(this.As.containsKey(i))}}class mM{constructor(r,i){this.Ps={},this.Le=new Wi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new gM(this),this.Ht=new Q1,this.He=new oS(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new HI(i),this.Je=new iS(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new sS(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){Le("MemoryPersistence","Starting transaction:",r);const u=new _M(this.Le.next());return this.referenceDelegate.vs(),o(u).next(h=>this.referenceDelegate.Vs(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ss(r,i){return Ae.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class _M extends W1{constructor(r){super(),this.currentSequenceNumber=r}}class ww{constructor(r){this.persistence=r,this.Ds=new yy,this.Cs=null}static Ns(r){return new ww(r)}get xs(){if(this.Cs)return this.Cs;throw Ke()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Ae.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Ae.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Ae.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(u=>{u.forEach(h=>this.xs.add(h.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,o=>{const u=We.fromPath(o);return this.ks(r,u).next(h=>{h||i.removeEntry(u)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function aS(s,r){return`firestore_clients_${s}_${r}`}function lS(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function ac(s,r){return`firestore_targets_${s}_${r}`}class Nl{constructor(r,i,o,u){this.user=r,this.batchId=i,this.state=o,this.error=u}static $s(r,i,o){const u=JSON.parse(o);let h,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(h=new Oe(u.error.code,u.error.message))),m?new Nl(r,i,u.state,h):(Kn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Jp{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Oe(o.error.code,o.error.message))),h?new Jp(r,o.state,u):(Kn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Ih{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=iy();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=cI(o.activeTargetIds[m]),h=h.add(o.activeTargetIds[m]);return u?new Ih(r,h):(Kn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class _s{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new _s(i.clientId,i.onlineState):(Kn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Cw{constructor(){this.activeTargetIds=iy()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Sh{constructor(r,i,o,u,h){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new or(Bt),this.started=!1,this.Ks=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=aS(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Cw),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ie.Z)(function*(){const i=yield r.syncEngine.pn();for(const u of i){if(u===r.Ls)continue;const h=r.getItem(aS(r.persistenceKey,u));if(h){const m=Ih.$s(u,h);m&&(r.qs=r.qs.insert(m.clientId,m))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const u=r.Xs(o);u&&r.Zs(u)}for(const u of r.Ks)r.Us(u);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,u)=>{u.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(ac(this.persistenceKey,r));if(o){const u=Jp.$s(r,o);u&&(i=u.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(ac(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(u=>{this.ni(u)}),this.currentUser=r,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return Le("SharedClientState","READ",r,i),i}setItem(r,i){Le("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){Le("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(Le("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void Kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ie.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const u=i.ai(o.key);return i.ci(u,null)}{const u=i.ui(o.key,o.newValue);if(u)return i.ci(u.clientId,u)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const u=i.hi(o.key,o.newValue);if(u)return i.li(u)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const u=i.fi(o.key,o.newValue);if(u)return i.di(u)}}else if(o.key===i.Hs){if(null!==o.newValue){const u=i.Xs(o.newValue);if(u)return i.Zs(u)}}else if(o.key===i.Qs){const u=function(h){let m=Wi.T;if(null!=h)try{const v=JSON.parse(h);ft("number"==typeof v),m=v}catch(v){Kn("SharedClientState","Failed to read sequence number from WebStorage",v)}return m}(o.newValue);u!==Wi.T&&i.sequenceNumberHandler(u)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const u=new Nl(this.currentUser,r,i,o),h=lS(this.persistenceKey,this.currentUser,r);this.setItem(h,u.Os())}ni(r){const i=lS(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const u=ac(this.persistenceKey,r),h=new Jp(r,i,o);this.setItem(u,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return Ih.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),u=Number(o[1]);return Nl.$s(new Zn(void 0!==o[2]?o[2]:null),u,i)}fi(r,i){const o=this.zs.exec(r),u=Number(o[1]);return Jp.$s(u,i)}Xs(r){return _s.$s(r)}li(r){var i=this;return(0,Ie.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);Le("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),u=this.ti(this.qs),h=this.ti(o),m=[],v=[];return h.forEach(D=>{u.has(D)||m.push(D)}),u.forEach(D=>{h.has(D)||v.push(D)}),this.syncEngine.gi(m,v).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=iy();return r.forEach((o,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class uS{constructor(){this.yi=new Cw,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Cw,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class yM{Ei(r){}shutdown(){}}class vM{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Iw{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class cS extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,u){const h=this.Bi(r,i);Le("RestConnection","Sending: ",h,o);const m={};return this.Ui(m,u),this.qi(r,h,m,o).then(v=>(Le("RestConnection","Received: ",v),v),v=>{throw eh("RestConnection",`${r} failed with error: `,v,"url: ",h,"request:",o),v})}Ki(r,i,o,u){return this.Li(r,i,o,u)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+ba,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${Dw[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,u){return new Promise((h,m)=>{const v=new tI;v.listenOnce(FE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case kp.NO_ERROR:const M=v.getResponseJson();Le("Connection","XHR received:",JSON.stringify(M)),h(M);break;case kp.TIMEOUT:Le("Connection",'RPC "'+r+'" timed out'),m(new Oe(ye.DEADLINE_EXCEEDED,"Request time out"));break;case kp.HTTP_ERROR:const x=v.getStatus();if(Le("Connection",'RPC "'+r+'" failed with status:',x,"response text:",v.getResponseText()),x>0){const N=v.getResponseJson().error;if(N&&N.status&&N.message){const H=function(z){const ee=z.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(ee)>=0?ee:ye.UNKNOWN}(N.status);m(new Oe(H,N.message))}else m(new Oe(ye.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Oe(ye.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Le("Connection",'RPC "'+r+'" completed.')}});const D=JSON.stringify(u);v.send(i,"POST",D,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],u=new Ro,h=$d(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new eI({})),this.Ui(m.initMessageHeaders,i),(0,Zt.uI)()||(0,Zt.b$)()||(0,Zt.d)()||(0,Zt.w1)()||(0,Zt.Mn)()||(0,Zt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Le("Connection","Creating WebChannel: "+v,m);const D=u.createWebChannel(v,m);let M=!1,x=!1;const N=new Iw({vi:z=>{x?Le("Connection","Not sending because WebChannel is closed:",z):(M||(Le("Connection","Opening WebChannel transport."),D.open(),M=!0),Le("Connection","WebChannel sending:",z),D.send(z))},Vi:()=>D.close()}),H=(z,ee,Ce)=>{z.listen(ee,Re=>{try{Ce(Re)}catch(tt){setTimeout(()=>{throw tt},0)}})};return H(D,Pp.EventType.OPEN,()=>{x||Le("Connection","WebChannel transport opened.")}),H(D,Pp.EventType.CLOSE,()=>{x||(x=!0,Le("Connection","WebChannel transport closed"),N.$i())}),H(D,Pp.EventType.ERROR,z=>{x||(x=!0,eh("Connection","WebChannel transport errored:",z),N.$i(new Oe(ye.UNAVAILABLE,"The operation could not be completed")))}),H(D,Pp.EventType.MESSAGE,z=>{var ee;if(!x){const Ce=z.data[0];ft(!!Ce);const Re=Ce,tt=Re.error||(null===(ee=Re[0])||void 0===ee?void 0:ee.error);if(tt){Le("Connection","WebChannel received error:",tt);const lt=tt.status;let at=function($n){const Ji=An[$n];if(void 0!==Ji)return P1(Ji)}(lt),bt=tt.message;void 0===at&&(at=ye.INTERNAL,bt="Unknown error status: "+lt+" with message "+tt.message),x=!0,N.$i(new Oe(at,bt)),D.close()}else Le("Connection","WebChannel received:",Ce),N.Oi(Ce)}}),H(h,b1.STAT_EVENT,z=>{z.stat===ot_PROXY?Le("Connection","Detected buffering proxy"):z.stat===ot_NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.ki()},0),N}}function vy(){return"undefined"!=typeof window?window:null}function Th(){return"undefined"!=typeof document?document:null}function Xp(s){return new tw(s,!0)}class Sw{constructor(r,i,o=1e3,u=1.5,h=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=u,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),u=Math.max(0,i-o);u>0&&Le("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,u,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class dS{constructor(r,i,o,u,h,m){this.Oe=r,this.er=o,this.nr=u,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Sw(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Ie.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Ie.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,Ie.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===ye.RESOURCE_EXHAUSTED?(Kn(i.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===ye.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const u=new Oe(ye.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(u)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Ie.Z)(function*(){r.state=0,r.start()}))}pr(r){return Le("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bM extends dS{constructor(r,i,o,u,h){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,h),this.N=u}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(D=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:Ke(),u=r.targetChange.targetIds||[],h=function(D,M){return D.D?(ft(void 0===M||"string"==typeof M),sr.fromBase64String(M||"")):(ft(void 0===M||M instanceof Uint8Array),sr.fromUint8Array(M||new Uint8Array))}(s,r.targetChange.resumeToken),m=r.targetChange.cause,v=m&&function(D){const M=void 0===D.code?ye.UNKNOWN:P1(D.code);return new Oe(M,D.message||"")}(m);i=new B1(o,u,h,v||null)}else if("documentChange"in r){const o=r.documentChange,u=Ki(s,o.document.name),h=pr(o.document.updateTime),m=new Zr({mapValue:{fields:o.document.fields}}),v=Tn.newFoundDocument(u,h,m);i=new Wp(o.targetIds||[],o.removedTargetIds||[],v.key,v)}else if("documentDelete"in r){const o=r.documentDelete,u=Ki(s,o.document),h=o.readTime?pr(o.readTime):wt.min(),m=Tn.newNoDocument(u,h);i=new Wp([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in r){const o=r.documentRemove,u=Ki(s,o.document);i=new Wp([],o.removedTargetIds||[],u,null)}else{if(!("filter"in r))return Ke();{const o=r.filter,h=new ny(o.count||0);i=new MI(o.targetId,h)}}var D;return i}(this.N,r),o=function(u){if(!("targetChange"in u))return wt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?wt.min():h.readTime?pr(h.readTime):wt.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=wa(this.N),i.addTarget=function(u,h){let m;const v=h.target;return m=W_(v)?{documents:Il(u,v)}:{query:H1(u,v)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=nw(u,h.resumeToken):h.snapshotVersion.compareTo(wt.min())>0&&(m.readTime=ph(u,h.snapshotVersion.toTimestamp())),m}(this.N,r);const o=function(s,r){const i=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ke()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=wa(this.N),i.removeTarget=r,this.wr(i)}}class hS extends dS{constructor(r,i,o,u,h){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,h),this.N=u,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(ft(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(ft(void 0!==r),s.map(i=>function(o,u){let h=pr(o.updateTime?o.updateTime:u);return h.isEqual(wt.min())&&(h=pr(u)),new CI(h,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=pr(r.commitTime);return this.listener.vr(o,i)}return ft(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=wa(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>gt(this.N,o))};this.wr(i)}}class Tw extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new Oe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Li(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new Oe(ye.UNKNOWN,u.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Ki(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ye.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new Oe(ye.UNKNOWN,u.toString())})}terminate(){this.Dr=!0}}class fS{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Kn(i),this.$r=!1):Le("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class pS{constructor(r,i,o,u,h){var m=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(v=>{o.enqueueAndForget((0,Ie.Z)(function*(){var D;Qi(m)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Ie.Z)(function*(M){const x=Ue(M);x.Kr.add(4),yield Mh(x),x.Wr.set("Unknown"),x.Kr.delete(4),yield Ah(x)}),function(M){return D.apply(this,arguments)})(m))}))}),this.Wr=new fS(o,u)}}function Ah(s){return by.apply(this,arguments)}function by(){return(by=(0,Ie.Z)(function*(s){if(Qi(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function Mh(s){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,Ie.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function eg(s,r){const i=Ue(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),kr(i)?mS(i):lc(i).cr()&&wy(i,r))}function tg(s,r){const i=Ue(s),o=lc(i);i.qr.delete(r),o.cr()&&gS(i,r),0===i.qr.size&&(o.cr()?o.lr():Qi(i)&&i.Wr.set("Unknown"))}function wy(s,r){s.Gr.Y(r.targetId),lc(s).Ir(r)}function gS(s,r){s.Gr.Y(r),lc(s).Ar(r)}function mS(s){s.Gr=new sy({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),lc(s).start(),s.Wr.Or()}function kr(s){return Qi(s)&&!lc(s).ar()&&s.qr.size>0}function Qi(s){return 0===Ue(s).Kr.size}function _S(s){s.Gr=void 0}function EM(s){return yS.apply(this,arguments)}function yS(){return(yS=(0,Ie.Z)(function*(s){s.qr.forEach((r,i)=>{wy(s,r)})})).apply(this,arguments)}function ng(s,r){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,Ie.Z)(function*(s,r){_S(s),kr(s)?(s.Wr.Lr(r),mS(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function Mw(s,r,i){return xw.apply(this,arguments)}function xw(){return(xw=(0,Ie.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof B1&&2===r.state&&r.cause)try{yield(o=(0,Ie.Z)(function*(u,h){const m=h.cause;for(const v of h.targetIds)u.qr.has(v)&&(yield u.remoteSyncer.rejectListen(v,m),u.qr.delete(v),u.Gr.removeTarget(v))}),function(u,h){return o.apply(this,arguments)})(s,r)}catch(o){Le("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield rg(s,o)}else if(r instanceof Wp?s.Gr.rt(r):r instanceof MI?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(wt.min()))try{const o=yield tS(s.localStore);i.compareTo(o)>=0&&(yield function(u,h){const m=u.Gr._t(h);return m.targetChanges.forEach((v,D)=>{if(v.resumeToken.approximateByteSize()>0){const M=u.qr.get(D);M&&u.qr.set(D,M.withResumeToken(v.resumeToken,h))}}),m.targetMismatches.forEach(v=>{const D=u.qr.get(v);if(!D)return;u.qr.set(v,D.withResumeToken(sr.EMPTY_BYTE_STRING,D.snapshotVersion)),gS(u,v);const M=new Al(D.target,v,1,D.sequenceNumber);wy(u,M)}),u.remoteSyncer.applyRemoteEvent(m)}(s,i))}catch(o){Le("RemoteStore","Failed to raise snapshot:",o),yield rg(s,o)}var o})).apply(this,arguments)}function rg(s,r,i){return Rw.apply(this,arguments)}function Rw(){return(Rw=(0,Ie.Z)(function*(s,r,i){if(!yh(r))throw r;s.Kr.add(1),yield Mh(s),s.Wr.set("Offline"),i||(i=()=>tS(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield Ah(s)}))})).apply(this,arguments)}function vS(s,r){return r().catch(i=>rg(s,i,r))}function kl(s){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,Ie.Z)(function*(s){const r=Ue(s),i=Sa(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;bS(r);)try{const u=yield cM(r.localStore,o);if(null===u){0===r.Ur.length&&i.lr();break}o=u.batchId,Dy(r,u)}catch(u){yield rg(r,u)}Iy(r)&&wM(r)})).apply(this,arguments)}function bS(s){return Qi(s)&&s.Ur.length<10}function Dy(s,r){s.Ur.push(r);const i=Sa(s);i.cr()&&i.Pr&&i.br(r.mutations)}function Iy(s){return Qi(s)&&!Sa(s).ar()&&s.Ur.length>0}function wM(s){Sa(s).start()}function ES(s){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,Ie.Z)(function*(s){Sa(s).Sr()})).apply(this,arguments)}function wS(s){return xh.apply(this,arguments)}function xh(){return(xh=(0,Ie.Z)(function*(s){const r=Sa(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function CS(s,r,i){return Nw.apply(this,arguments)}function Nw(){return(Nw=(0,Ie.Z)(function*(s,r,i){const o=s.Ur.shift(),u=lw.from(o,r,i);yield vS(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield kl(s)})).apply(this,arguments)}function kw(s,r){return ig.apply(this,arguments)}function ig(){return(ig=(0,Ie.Z)(function*(s,r){var i;r&&Sa(s).Pr&&(yield(i=(0,Ie.Z)(function*(o,u){if(SI(h=u.code)&&h!==ye.ABORTED){const m=o.Ur.shift();Sa(o).hr(),yield vS(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield kl(o)}var h}),function(o,u){return i.apply(this,arguments)})(s,r)),Iy(s)&&wM(s)})).apply(this,arguments)}function Pw(s,r){return Fw.apply(this,arguments)}function Fw(){return(Fw=(0,Ie.Z)(function*(s,r){const i=Ue(s);r?(i.Kr.delete(2),yield Ah(i)):r||(i.Kr.add(2),yield Mh(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function lc(s){return s.zr||(s.zr=function(r,i,o){const u=Ue(r);return u.Cr(),new bM(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:EM.bind(null,s),Ci:ng.bind(null,s),Tr:Mw.bind(null,s)}),s.jr.push(function(){var r=(0,Ie.Z)(function*(i){i?(s.zr.hr(),kr(s)?mS(s):s.Wr.set("Unknown")):(yield s.zr.stop(),_S(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function Sa(s){return s.Hr||(s.Hr=function(r,i,o){const u=Ue(r);return u.Cr(),new hS(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:ES.bind(null,s),Ci:kw.bind(null,s),Vr:wS.bind(null,s),vr:CS.bind(null,s)}),s.jr.push(function(){var r=(0,Ie.Z)(function*(i){i?(s.Hr.hr(),yield kl(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Le("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class Sy{constructor(r,i,o,u,h){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(r,i,o,u,h){const m=Date.now()+o,v=new Sy(r,i,m,u,h);return v.start(o),v}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(ye.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rh(s,r){if(Kn("AsyncQueue",`${r}: ${s}`),yh(s))return new Oe(ye.UNAVAILABLE,`${r}: ${s}`);throw s}class uc{constructor(r){this.comparator=r?(i,o)=>r(i,o)||We.comparator(i.key,o.key):(i,o)=>We.comparator(i.key,o.key),this.keyedMap=ew(),this.sortedSet=new or(this.comparator)}static emptySet(r){return new uc(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof uc)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new uc;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class Lw{constructor(){this.Jr=new or(We.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):Ke():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class Oh{constructor(r,i,o,u,h,m,v,D){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=D}static fromInitialDocuments(r,i,o,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Oh(r,i,uc.emptySet(i),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Hp(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class CM{constructor(){this.Xr=void 0,this.listeners=[]}}class DS{constructor(){this.queries=new rc(r=>wl(r),Hp),this.onlineState="Unknown",this.Zr=new Set}}function Vw(s,r){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,Ie.Z)(function*(s,r){const i=Ue(s),o=r.query;let u=!1,h=i.queries.get(o);if(h||(u=!0,h=new CM),u)try{h.Xr=yield i.onListen(o)}catch(m){const v=Rh(m,`Initialization of query '${_I(r.query)}' failed`);return void r.onError(v)}i.queries.set(o,h),h.listeners.push(r),r.eo(i.onlineState),h.Xr&&r.no(h.Xr)&&Bw(i)})).apply(this,arguments)}function Ay(s,r){return My.apply(this,arguments)}function My(){return(My=(0,Ie.Z)(function*(s,r){const i=Ue(s),o=r.query;let u=!1;const h=i.queries.get(o);if(h){const m=h.listeners.indexOf(r);m>=0&&(h.listeners.splice(m,1),u=0===h.listeners.length)}if(u)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function IS(s,r){const i=Ue(s);let o=!1;for(const u of r){const m=i.queries.get(u.query);if(m){for(const v of m.listeners)v.no(u)&&(o=!0);m.Xr=u}}o&&Bw(i)}function DM(s,r,i){const o=Ue(s),u=o.queries.get(r);if(u)for(const h of u.listeners)h.onError(i);o.queries.delete(r)}function Bw(s){s.Zr.forEach(r=>{r.next()})}class Uw{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const u of r.docChanges)3!==u.type&&o.push(u);r=new Oh(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Oh.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class SS{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class IM{constructor(r){this.N=r}zn(r){return Ki(this.N,r)}Hn(r){return r.metadata.exists?Yu(this.N,r.document,!1):Tn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return pr(r)}}class QR{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=SM(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new IM(this.N);for(const u of r)if(u.metadata.queries){const h=o.zn(u.metadata.name);for(const m of u.metadata.queries){const v=(i.get(m)||en()).add(h);i.set(m,v)}}return i}complete(){var r=this;return(0,Ie.Z)(function*(){const i=yield function(s,r,i,o){return Ew.apply(this,arguments)}(r.localStore,new IM(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const u of r.queries)yield fM(r.localStore,u,o.get(u.name));return r.progress.taskState="Success",new aM(Object.assign({},r.progress),i)})()}}function SM(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class TM{constructor(r){this.key=r}}class AM{constructor(r){this.key=r}}class MM{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=en(),this.mutatedKeys=en(),this.po=$p(r),this.Eo=new uc(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new Lw,u=i?i.Eo:this.Eo;let h=i?i.mutatedKeys:this.mutatedKeys,m=u,v=!1;const D=lh(this.query)&&u.size===this.query.limit?u.last():null,M=Y_(this.query)&&u.size===this.query.limit?u.first():null;if(r.inorderTraversal((x,N)=>{const H=u.get(x),z=Wu(this.query,N)?N:null,ee=!!H&&this.mutatedKeys.has(H.key),Ce=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Re=!1;H&&z?H.data.isEqual(z.data)?ee!==Ce&&(o.track({type:3,doc:z}),Re=!0):this.Ro(H,z)||(o.track({type:2,doc:z}),Re=!0,(D&&this.po(z,D)>0||M&&this.po(z,M)<0)&&(v=!0)):!H&&z?(o.track({type:0,doc:z}),Re=!0):H&&!z&&(o.track({type:1,doc:H}),Re=!0,(D||M)&&(v=!0)),Re&&(z?(m=m.add(z),h=Ce?h.add(x):h.delete(x)):(m=m.delete(x),h=h.delete(x)))}),lh(this.query)||Y_(this.query))for(;m.size>this.query.limit;){const x=lh(this.query)?m.last():m.first();m=m.delete(x.key),h=h.delete(x.key),o.track({type:1,doc:x})}return{Eo:m,Ao:o,Ln:v,mutatedKeys:h}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const u=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const h=r.Ao.Yr();h.sort((M,x)=>function(N,H){const z=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return z(N)-z(H)}(M.type,x.type)||this.po(M.doc,x.doc)),this.Po(o);const m=i?this.bo():[],v=0===this.yo.size&&this.current?1:0,D=v!==this.mo;return this.mo=v,0!==h.length||D?{snapshot:new Oh(this.query,r.Eo,u,h,r.mutatedKeys,0===v,D,!1),vo:m}:{vo:m}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Lw,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=en(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new AM(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new TM(o))}),i}So(r){this._o=r.Gn,this.yo=en();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return Oh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class JR{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class XR{constructor(r){this.key=r,this.Co=!1}}class eO{constructor(r,i,o,u,h,m){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new rc(v=>wl(v),Hp),this.ko=new Map,this.$o=new Set,this.Oo=new or(We.comparator),this.Fo=new Map,this.Mo=new yy,this.Lo={},this.Bo=new Map,this.Uo=Rl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function tO(s,r){return TS.apply(this,arguments)}function TS(){return(TS=(0,Ie.Z)(function*(s,r){const i=Zw(s);let o,u;const h=i.xo.get(r);if(h)o=h.targetId,i.sharedClientState.addLocalQueryTarget(o),u=h.view.Do();else{const m=yield Ol(i.localStore,Zi(r)),v=i.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield AS(i,r,o,"current"===v),i.isPrimaryClient&&eg(i.remoteStore,m)}return u})).apply(this,arguments)}function AS(s,r,i,o){return MS.apply(this,arguments)}function MS(){return(MS=(0,Ie.Z)(function*(s,r,i,o){s.Ko=(x,N,H)=>{return(z=(0,Ie.Z)(function*(ee,Ce,Re,tt){let lt=Ce.view.Io(Re);lt.Ln&&(lt=yield _y(ee.localStore,Ce.query,!1).then(({documents:$n})=>Ce.view.Io($n,lt)));const at=tt&&tt.targetChanges.get(Ce.targetId),bt=Ce.view.applyChanges(lt,ee.isPrimaryClient,at);return Gw(ee,Ce.targetId,bt.vo),bt.snapshot}),function(ee,Ce,Re,tt){return z.apply(this,arguments)})(s,x,N,H);var z};const u=yield _y(s.localStore,r,!0),h=new MM(r,u.Gn),m=h.Io(u.documents),v=Gs.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),D=h.applyChanges(m,s.isPrimaryClient,v);Gw(s,i,D.vo);const M=new JR(r,i,h);return s.xo.set(r,M),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),D.snapshot})).apply(this,arguments)}function nO(s,r){return xS.apply(this,arguments)}function xS(){return(xS=(0,Ie.Z)(function*(s,r){const i=Ue(s),o=i.xo.get(r),u=i.ko.get(o.targetId);if(u.length>1)return i.ko.set(o.targetId,u.filter(h=>!Hp(h,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sc(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),tg(i.remoteStore,o.targetId),Nh(i,o.targetId)}).catch(wh))):(Nh(i,o.targetId),yield sc(i.localStore,o.targetId,!0))})).apply(this,arguments)}function RS(){return(RS=(0,Ie.Z)(function*(s,r,i){const o=HS(s);try{const u=yield function(h,m){const v=Ue(h),D=ir.now(),M=m.reduce((N,H)=>N.add(H.key),en());let x;return v.persistence.runTransaction("Locally write mutations","readwrite",N=>v.Qn.bn(N,M).next(H=>{x=H;const z=[];for(const ee of m){const Ce=DI(ee,x.get(ee.key));null!=Ce&&z.push(new Cl(ee.key,Ce,hI(Ce.value.mapValue),Qn.exists(!0)))}return v.In.addMutationBatch(N,D,z,m)})).then(N=>(N.applyToLocalDocumentSet(x),{batchId:N.batchId,changes:x}))}(o.localStore,r);o.sharedClientState.addPendingMutation(u.batchId),function(h,m,v){let D=h.Lo[h.currentUser.toKey()];D||(D=new or(Bt)),D=D.insert(m,v),h.Lo[h.currentUser.toKey()]=D}(o,u.batchId,i),yield Po(o,u.changes),yield kl(o.remoteStore)}catch(u){const h=Rh(u,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function OS(s,r){return jw.apply(this,arguments)}function jw(){return(jw=(0,Ie.Z)(function*(s,r){const i=Ue(s);try{const o=yield YR(i.localStore,r);r.targetChanges.forEach((u,h)=>{const m=i.Fo.get(h);m&&(ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.Co=!0:u.modifiedDocuments.size>0?ft(m.Co):u.removedDocuments.size>0&&(ft(m.Co),m.Co=!1))}),yield Po(i,o,r)}catch(o){yield wh(o)}})).apply(this,arguments)}function NS(s,r,i){const o=Ue(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.xo.forEach((h,m)=>{const v=m.view.eo(r);v.snapshot&&u.push(v.snapshot)}),function(h,m){const v=Ue(h);v.onlineState=m;let D=!1;v.queries.forEach((M,x)=>{for(const N of x.listeners)N.eo(m)&&(D=!0)}),D&&Bw(v)}(o.eventManager,r),u.length&&o.No.Tr(u),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function iO(s,r,i){return kS.apply(this,arguments)}function kS(){return(kS=(0,Ie.Z)(function*(s,r,i){const o=Ue(s);o.sharedClientState.updateQueryState(r,"rejected",i);const u=o.Fo.get(r),h=u&&u.key;if(h){let m=new or(We.comparator);m=m.insert(h,Tn.newNoDocument(h,wt.min()));const v=en().add(h),D=new Dl(wt.min(),new Map,new Un(Bt),m,v);yield OS(o,D),o.Oo=o.Oo.remove(h),o.Fo.delete(r),Pl(o)}else yield sc(o.localStore,r,!1).then(()=>Nh(o,r,i)).catch(wh)})).apply(this,arguments)}function sO(s,r){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,Ie.Z)(function*(s,r){const i=Ue(s),o=r.batch.batchId;try{const u=yield eS(i.localStore,r);LS(i,o,null),FS(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Po(i,u)}catch(u){yield wh(u)}})).apply(this,arguments)}function xM(s,r,i){return $w.apply(this,arguments)}function $w(){return($w=(0,Ie.Z)(function*(s,r,i){const o=Ue(s);try{const u=yield function(h,m){const v=Ue(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let M;return v.In.lookupMutationBatch(D,m).next(x=>(ft(null!==x),M=x.keys(),v.In.removeMutationBatch(D,x))).next(()=>v.In.performConsistencyCheck(D)).next(()=>v.Qn.bn(D,M))})}(o.localStore,r);LS(o,r,i),FS(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield Po(o,u)}catch(u){yield wh(u)}})).apply(this,arguments)}function PS(){return(PS=(0,Ie.Z)(function*(s,r){const i=Ue(s);Qi(i.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const m=Ue(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>m.In.getHighestUnacknowledgedBatchId(v))}(i.localStore);if(-1===o)return void r.resolve();const u=i.Bo.get(o)||[];u.push(r),i.Bo.set(o,u)}catch(o){const u=Rh(o,"Initialization of waitForPendingWrites() operation failed");r.reject(u)}})).apply(this,arguments)}function FS(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function LS(s,r,i){const o=Ue(s);let u=o.Lo[o.currentUser.toKey()];if(u){const h=u.get(r);h&&(i?h.reject(i):h.resolve(),u=u.remove(r)),o.Lo[o.currentUser.toKey()]=u}}function Nh(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||RM(s,o)})}function RM(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(tg(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),Pl(s))}function Gw(s,r,i){for(const o of i)o instanceof TM?(s.Mo.addReference(o.key,r),zw(s,o)):o instanceof AM?(Le("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||RM(s,o.key)):Ke()}function zw(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(Le("SyncEngine","New document in limbo: "+i),s.$o.add(o),Pl(s))}function Pl(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new We(zt.fromString(r)),o=s.Uo.next();s.Fo.set(o,new XR(i)),s.Oo=s.Oo.insert(i,o),eg(s.remoteStore,new Al(Zi(ah(i.path)),o,2,Wi.T))}}function Po(s,r,i){return qw.apply(this,arguments)}function qw(){return(qw=(0,Ie.Z)(function*(s,r,i){const o=Ue(s),u=[],h=[],m=[];var v;o.xo.isEmpty()||(o.xo.forEach((v,D)=>{m.push(o.Ko(D,r,i).then(M=>{if(M){o.isPrimaryClient&&o.sharedClientState.updateQueryState(D.targetId,M.fromCache?"not-current":"current"),u.push(M);const x=_w.kn(D.targetId,M);h.push(x)}}))}),yield Promise.all(m),o.No.Tr(u),yield(v=(0,Ie.Z)(function*(D,M){const x=Ue(D);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Ae.forEach(M,H=>Ae.forEach(H.Nn,z=>x.persistence.referenceDelegate.addReference(N,H.targetId,z)).next(()=>Ae.forEach(H.xn,z=>x.persistence.referenceDelegate.removeReference(N,H.targetId,z)))))}catch(N){if(!yh(N))throw N;Le("LocalStore","Failed to update sequence numbers: "+N)}for(const N of M){const H=N.targetId;if(!N.fromCache){const z=x.Un.get(H),Ce=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);x.Un=x.Un.insert(H,Ce)}}}),function(D,M){return v.apply(this,arguments)})(o.localStore,h))})).apply(this,arguments)}function OM(s,r){return sg.apply(this,arguments)}function sg(){return(sg=(0,Ie.Z)(function*(s,r){const i=Ue(s);if(!i.currentUser.isEqual(r)){Le("SyncEngine","User change. New user:",r.toKey());const o=yield ic(i.localStore,r);i.currentUser=r,(u=i).Bo.forEach(m=>{m.forEach(v=>{v.reject(new Oe(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield Po(i,o.Wn)}var u})).apply(this,arguments)}function VS(s,r){const i=Ue(s),o=i.Fo.get(r);if(o&&o.Co)return en().add(o.key);{let u=en();const h=i.ko.get(r);if(!h)return u;for(const m of h){const v=i.xo.get(m);u=u.unionWith(v.view.To)}return u}}function BS(s,r){return xy.apply(this,arguments)}function xy(){return(xy=(0,Ie.Z)(function*(s,r){const i=Ue(s),o=yield _y(i.localStore,r.query,!0),u=r.view.So(o);return i.isPrimaryClient&&Gw(i,r.targetId,u.vo),u})).apply(this,arguments)}function aO(s){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,Ie.Z)(function*(s){const r=Ue(s);return rS(r.localStore).then(i=>Po(r,i))})).apply(this,arguments)}function Oy(s,r,i,o){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,Ie.Z)(function*(s,r,i,o){const u=Ue(s),h=yield function(m,v){const D=Ue(m),M=Ue(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",x=>M.Xt(x,v).next(N=>N?D.Qn.bn(x,N):Ae.resolve(null)))}(u.localStore,r);var v;null!==h?("pending"===i?yield kl(u.remoteStore):"acknowledged"===i||"rejected"===i?(LS(u,r,o||null),FS(u,r),v=r,Ue(Ue(u.localStore).In).te(v)):Ke(),yield Po(u,h)):Le("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function US(){return(US=(0,Ie.Z)(function*(s,r){const i=Ue(s);if(Zw(i),HS(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),u=yield NM(i,o.toArray());i.qo=!0,yield Pw(i.remoteStore,!0);for(const h of u)eg(i.remoteStore,h)}else if(!1===r&&!1!==i.qo){const o=[];let u=Promise.resolve();i.ko.forEach((h,m)=>{i.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(Nh(i,m),sc(i.localStore,m,!0))),tg(i.remoteStore,m)}),yield u,yield NM(i,o),function(h){const m=Ue(h);m.Fo.forEach((v,D)=>{tg(m.remoteStore,D)}),m.Mo.us(),m.Fo=new Map,m.Oo=new or(We.comparator)}(i),i.qo=!1,yield Pw(i.remoteStore,!1)}})).apply(this,arguments)}function NM(s,r,i){return Ww.apply(this,arguments)}function Ww(){return(Ww=(0,Ie.Z)(function*(s,r,i){const o=Ue(s),u=[],h=[];for(const m of r){let v;const D=o.ko.get(m);if(D&&0!==D.length){v=yield Ol(o.localStore,Zi(D[0]));for(const M of D){const x=o.xo.get(M),N=yield BS(o,x);N.snapshot&&h.push(N.snapshot)}}else{const M=yield nS(o.localStore,m);v=yield Ol(o.localStore,M),yield AS(o,kM(M),m,!1)}u.push(v)}return o.No.Tr(h),u})).apply(this,arguments)}function kM(s){return mI(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function ky(s){const r=Ue(s);return Ue(Ue(r.localStore).persistence).pn()}function PM(s,r,i,o){return jS.apply(this,arguments)}function jS(){return(jS=(0,Ie.Z)(function*(s,r,i,o){const u=Ue(s);if(u.qo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(u.ko.has(r))switch(i){case"current":case"not-current":{const h=yield rS(u.localStore),m=Dl.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield Po(u,h,m);break}case"rejected":yield sc(u.localStore,r,!0),Nh(u,r,o);break;default:Ke()}})).apply(this,arguments)}function uO(s,r,i){return og.apply(this,arguments)}function og(){return(og=(0,Ie.Z)(function*(s,r,i){const o=Zw(s);if(o.qo){for(const u of r){if(o.ko.has(u)){Le("SyncEngine","Adding an already active target "+u);continue}const h=yield nS(o.localStore,u),m=yield Ol(o.localStore,h);yield AS(o,kM(h),m.targetId,!1),eg(o.remoteStore,m)}for(const u of i)o.ko.has(u)&&(yield sc(o.localStore,u,!1).then(()=>{tg(o.remoteStore,u),Nh(o,u)}).catch(wh))}})).apply(this,arguments)}function Zw(s){const r=Ue(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=VS.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=iO.bind(null,r),r.No.Tr=IS.bind(null,r.eventManager),r.No.jo=DM.bind(null,r.eventManager),r}function HS(s){const r=Ue(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=xM.bind(null,r),r}class $S{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,Ie.Z)(function*(){i.N=Xp(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return JI(this.persistence,new lM,r.initialUser,this.N)}Go(r){return new mM(ww.Ns,this.N)}Wo(r){return new uS}terminate(){var r=this;return(0,Ie.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class FM extends $S{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,Ie.Z)(function*(){yield i().call(o,r),yield function(s){return bw.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield HS(o.Jo.syncEngine),yield kl(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return JI(this.persistence,new lM,r.initialUser,this.N)}zo(r){return new rM(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=gw(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new gy(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,vy(),Th(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new uS}}class GS extends FM{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,Ie.Z)(function*(){yield i().call(o,r);const u=o.Jo.syncEngine;o.sharedClientState instanceof Sh&&(o.sharedClientState.syncEngine={_i:Oy.bind(null,u),mi:PM.bind(null,u),gi:uO.bind(null,u),pn:ky.bind(null,u),wi:aO.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var h=(0,Ie.Z)(function*(m){yield function(s,r){return US.apply(this,arguments)}(o.Jo.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(r){const i=vy();if(!Sh.Pt(i))throw new Oe(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=gw(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Sh(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class Kw{initialize(r,i){var o=this;return(0,Ie.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>NS(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=OM.bind(null,o.syncEngine),yield Pw(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new DS}createDatastore(r){const i=Xp(r.databaseInfo.databaseId),o=new cS(r.databaseInfo);return new Tw(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,u=r.asyncQueue,h=v=>NS(this.syncEngine,v,0),m=vM.Pt()?new vM:new yM,new pS(i,o,u,h,m);var i,o,u,h,m}createSyncEngine(r,i){return function(o,u,h,m,v,D,M){const x=new eO(o,u,h,m,v,D);return M&&(x.qo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,Ie.Z)(function*(i){const o=Ue(i);Le("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield Mh(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function LM(s,r=10240){let i=0;return{read:()=>(0,Ie.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Yw{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class VM{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new fr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Ie.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Ie.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Ie.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),u=Number(o);isNaN(u)&&r.sa(`length string (${o}) is not valid number`);const h=yield r.ia(u);return new SS(JSON.parse(h),i.length+u)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Ie.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,Ie.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Ie.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class ag{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,Ie.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Oe(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Ie.Z)(function*(h,m){const v=Ue(h),D=wa(v.N)+"/documents",M={documents:m.map(z=>gh(v.N,z))},x=yield v.Ki("BatchGetDocuments",D,M),N=new Map;x.forEach(z=>{const ee=function(s,r){return"found"in r?function(i,o){ft(!!o.found);const u=Ki(i,o.found.name),h=pr(o.found.updateTime),m=new Zr({mapValue:{fields:o.found.fields}});return Tn.newFoundDocument(u,h,m)}(s,r):"missing"in r?function(i,o){ft(!!o.missing),ft(!!o.readTime);const u=Ki(i,o.missing),h=pr(o.readTime);return Tn.newNoDocument(u,h)}(s,r):Ke()}(v.N,z);N.set(ee.key.toString(),ee)});const H=[];return m.forEach(z=>{const ee=N.get(z.toString());ft(!!ee),H.push(ee)}),H}),function(h,m){return u.apply(this,arguments)})(i.datastore,r);var u;return o.forEach(u=>i.recordVersion(u)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new hh(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ie.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,u)=>{const h=We.fromPath(u);r.mutations.push(new fh(h,r.precondition(h)))}),yield(o=(0,Ie.Z)(function*(u,h){const m=Ue(u),v=wa(m.N)+"/documents",D={writes:h.map(M=>gt(m.N,M))};yield m.Li("Commit",v,D)}),function(u,h){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw Ke();i=wt.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new Oe(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?Qn.updateTime(i):Qn.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(wt.min()))throw new Oe(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qn.updateTime(i)}return Qn.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class BM{constructor(r,i,o,u){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=u,this.aa=5,this.rr=new Sw(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Ie.Z)(function*(){const i=new ag(r.datastore),o=r.ua(i);o&&o.then(u=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(u)}).catch(h=>{r.ha(h)}))}).catch(u=>{r.ha(u)})}))}ua(r){try{const i=this.updateFunction(r);return!Gu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!SI(i)}return!1}}class UM{constructor(r,i,o){var u=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=Zn.UNAUTHENTICATED,this.clientId=th.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var h=(0,Ie.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield u.credentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ie.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const u=Rh(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function zS(s,r){return lg.apply(this,arguments)}function lg(){return(lg=(0,Ie.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var u=(0,Ie.Z)(function*(h){o.isEqual(h)||(yield ic(r.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function qS(s,r){return pi.apply(this,arguments)}function pi(){return(pi=(0,Ie.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield Qw(s);Le("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(u=>{return(h=(0,Ie.Z)(function*(m,v){const D=Ue(m);D.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const M=Qi(D);D.Kr.add(3),yield Mh(D),M&&D.Wr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(v),D.Kr.delete(3),yield Ah(D)}),function(m,v){return h.apply(this,arguments)})(r.remoteStore,u);var h}),s.onlineComponents=r})).apply(this,arguments)}function Qw(s){return ug.apply(this,arguments)}function ug(){return(ug=(0,Ie.Z)(function*(s){return s.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield zS(s,new $S)),s.offlineComponents})).apply(this,arguments)}function Py(s){return Jw.apply(this,arguments)}function Jw(){return(Jw=(0,Ie.Z)(function*(s){return s.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield qS(s,new Kw)),s.onlineComponents})).apply(this,arguments)}function Fy(s){return Qw(s).then(r=>r.persistence)}function Ly(s){return Qw(s).then(r=>r.localStore)}function Xw(s){return Py(s).then(r=>r.remoteStore)}function e0(s){return Py(s).then(r=>r.syncEngine)}function cc(s){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,Ie.Z)(function*(s){const r=yield Py(s),i=r.eventManager;return i.onListen=tO.bind(null,r.syncEngine),i.onUnlisten=nO.bind(null,r.syncEngine),i})).apply(this,arguments)}function n0(s,r,i={}){const o=new fr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(u,h,m,v,D){const M=new Yw({next:N=>{h.enqueueAndForget(()=>Ay(u,x));const H=N.docs.has(m);!H&&N.fromCache?D.reject(new Oe(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&v&&"server"===v.source?D.reject(new Oe(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(N)},error:N=>D.reject(N)}),x=new Uw(ah(m.path),M,{includeMetadataChanges:!0,uo:!0});return Vw(u,x)}(yield cc(s),s.asyncQueue,r,i,o)})),o.promise}function By(s,r,i={}){const o=new fr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(u,h,m,v,D){const M=new Yw({next:N=>{h.enqueueAndForget(()=>Ay(u,x)),N.fromCache&&"server"===v.source?D.reject(new Oe(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(N)},error:N=>D.reject(N)}),x=new Uw(m,M,{includeMetadataChanges:!0,uo:!0});return Vw(u,x)}(yield cc(s),s.asyncQueue,r,i,o)})),o.promise}class zM{constructor(r,i,o,u,h,m,v,D){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.useFetchStreams=D}}class cg{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof cg&&r.projectId===this.projectId&&r.database===this.database}}const ZS=new Map;function r0(s,r,i){if(!i)throw new Oe(ye.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function KS(s,r,i,o){if(!0===r&&!0===o)throw new Oe(ye.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function qM(s){if(!We.isDocumentKey(s))throw new Oe(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function YS(s){if(We.isDocumentKey(s))throw new Oe(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dg(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":Ke()}function $t(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Oe(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dg(s);throw new Oe(ye.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function QS(s,r){if(r<=0)throw new Oe(ye.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class s0{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new Oe(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Oe(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,KS("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class hg{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,r instanceof cg?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Oe(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cg(o.options.projectId)}(r))}get app(){if(!this._app)throw new Oe(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Oe(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new w1;switch(i.type){case"gapi":const o=i.client;return ft(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new aI(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Oe(ye.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=ZS.get(r);i&&(Le("ComponentProvider","Removing Datastore"),ZS.delete(r),i.terminate())}(this),Promise.resolve()}}class mn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new mn(this.firestore,r,this._key)}}class Pr{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new Pr(this.firestore,r,this._query)}}class Fo extends Pr{constructor(r,i,o){super(r,i,ah(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new mn(this.firestore,null,new We(r))}withConverter(r){return new Fo(this.firestore,r,this._path)}}function JS(s,r,...i){if(s=(0,Zt.m9)(s),r0("collection","path",r),s instanceof hg){const o=zt.fromString(r,...i);return YS(o),new Fo(s,null,o)}{if(!(s instanceof mn||s instanceof Fo))throw new Oe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=zt.fromString(s.path,...i).child(zt.fromString(r));return YS(o),new Fo(s.firestore,null,o)}}function Fl(s,r,...i){if(s=(0,Zt.m9)(s),1===arguments.length&&(r=th.I()),r0("doc","path",r),s instanceof hg){const o=zt.fromString(r,...i);return qM(o),new mn(s,null,new We(o))}{if(!(s instanceof mn||s instanceof Fo))throw new Oe(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(zt.fromString(r,...i));return qM(o),new mn(s.firestore,s instanceof Fo?s.converter:null,new We(o))}}function Uy(s,r){return s=(0,Zt.m9)(s),r=(0,Zt.m9)(r),(s instanceof mn||s instanceof Fo)&&(r instanceof mn||r instanceof Fo)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function o0(s,r){return s=(0,Zt.m9)(s),r=(0,Zt.m9)(r),s instanceof Pr&&r instanceof Pr&&s.firestore===r.firestore&&Hp(s._query,r._query)&&s.converter===r.converter}class WM{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Sw(this,"async_queue_retry"),this.Ea=()=>{const i=Th();i&&Le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=Th();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=Th();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new fr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Ie.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!yh(i))throw i;Le("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,Kn("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const u=Sy.createAndSchedule(this,r,i,o,h=>this.Ra(h));return this._a.push(u),u}Ta(){this.ma&&Ke()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Ie.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function a0(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(s)}class fO{constructor(){this._progressObserver={},this._taskCompletionResolver=new fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class Hn extends hg{constructor(r,i){super(r,i),this.type="firestore",this._queue=new WM,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||eT(this),this._firestoreClient.terminate()}}function lr(s){return s._firestoreClient||eT(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function eT(s){var r;const i=s._freezeSettings(),o=(h=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new zM(s._databaseId,h,s._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var h,v;s._firestoreClient=new UM(s._credentials,s._queue,o)}function l0(s,r,i){const o=new fr;return s.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield zS(s,i),yield qS(s,r),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===ye.FAILED_PRECONDITION||h.code===ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function c0(s){if(s._initialized||s._terminated)throw new Oe(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ta{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new Oe(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Lo{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Lo(sr.fromBase64String(r))}catch(i){throw new Oe(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new Lo(sr.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class dc{constructor(r){this._methodName=r}}class fg{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new Oe(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new Oe(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Bt(this._lat,r._lat)||Bt(this._long,r._long)}}const hc=/^__.*__$/;class nT{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new Cl(r,this.data,this.fieldMask,i,this.fieldTransforms):new Gp(r,this.data,i,this.fieldTransforms)}}class jy{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new Cl(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function Hy(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class $y{constructor(r,i,o,u,h,m){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new $y(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.ka(r),u}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.Sa(),u}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return m0(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(Hy(this.Da)&&hc.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class Gy{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||Xp(r)}Ba(r,i,o,u=!1){return new $y({Da:r,methodName:i,La:o,path:Wr.emptyPath(),xa:!1,Ma:u},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function fc(s){const r=s._freezeSettings(),i=Xp(s._databaseId);return new Gy(s._databaseId,!!r.ignoreUndefinedProperties,i)}function kh(s,r,i,o,u,h={}){const m=s.Ba(h.merge||h.mergeFields?2:0,r,i,u);f0("Data must be an object, but it was:",m,o);const v=nx(o,m);let D,M;if(h.merge)D=new Vp(m.fieldMask),M=m.fieldTransforms;else if(h.mergeFields){const x=[];for(const N of h.mergeFields){const H=p0(r,N,i);if(!m.contains(H))throw new Oe(ye.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);sT(x,H)||x.push(H)}D=new Vp(x),M=m.fieldTransforms.filter(N=>D.covers(N.field))}else D=null,M=m.fieldTransforms;return new nT(new Zr(v),D,M)}class Ph extends dc{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Ph}}function ur(s,r,i){return new $y({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class rT extends dc{_toFieldTransform(r){return new dh(r.path,new Ea)}isEqual(r){return r instanceof rT}}class XM extends dc{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=ur(this,r,!0),o=this.Ua.map(h=>Lh(h,i)),u=new Ku(o);return new dh(r.path,u)}isEqual(r){return this===r}}class ex extends dc{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=ur(this,r,!0),o=this.Ua.map(h=>Lh(h,i)),u=new uh(o);return new dh(r.path,u)}isEqual(r){return this===r}}class yO extends dc{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new ch(r.N,O1(r.N,this.qa));return new dh(r.path,i)}isEqual(r){return this===r}}function Fh(s,r,i,o){const u=s.Ba(1,r,i);f0("Data must be an object, but it was:",u,o);const h=[],m=Zr.empty();ju(o,(D,M)=>{const x=g0(r,D,i);M=(0,Zt.m9)(M);const N=u.$a(x);if(M instanceof Ph)h.push(x);else{const H=Lh(M,N);null!=H&&(h.push(x),m.set(x,H))}});const v=new Vp(h);return new jy(m,v,u.fieldTransforms)}function h0(s,r,i,o,u,h){const m=s.Ba(1,r,i),v=[p0(r,o,i)],D=[u];if(h.length%2!=0)throw new Oe(ye.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<h.length;H+=2)v.push(p0(r,h[H])),D.push(h[H+1]);const M=[],x=Zr.empty();for(let H=v.length-1;H>=0;--H)if(!sT(M,v[H])){const z=v[H];let ee=D[H];ee=(0,Zt.m9)(ee);const Ce=m.$a(z);if(ee instanceof Ph)M.push(z);else{const Re=Lh(ee,Ce);null!=Re&&(M.push(z),x.set(z,Re))}}const N=new Vp(M);return new jy(x,N,m.fieldTransforms)}function tx(s,r,i,o=!1){return Lh(i,s.Ba(o?4:3,r))}function Lh(s,r){if(iT(s=(0,Zt.m9)(s)))return f0("Unsupported field value:",r,s),nx(s,r);if(s instanceof dc)return function(i,o){if(!Hy(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const u=[];let h=0;for(const m of i){let v=Lh(m,o.Oa(h));null==v&&(v={nullValue:"NULL_VALUE"}),u.push(v),h++}return{arrayValue:{values:u}}}(s,r)}return function(i,o){if(null===(i=(0,Zt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return O1(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const u=ir.fromDate(i);return{timestampValue:ph(o.N,u)}}if(i instanceof ir){const u=new ir(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ph(o.N,u)}}if(i instanceof fg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Lo)return{bytesValue:nw(o.N,i._byteString)};if(i instanceof mn){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:oy(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${dg(i)}`)}(s,r)}function nx(s,r){const i={};return BE(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):ju(s,(o,u)=>{const h=Lh(u,r.Na(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function iT(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof ir||s instanceof fg||s instanceof Lo||s instanceof mn||s instanceof dc)}function f0(s,r,i){if(!iT(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=dg(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function p0(s,r,i){if((r=(0,Zt.m9)(r))instanceof Ta)return r._internalPath;if("string"==typeof r)return g0(s,r);throw m0("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const rx=new RegExp("[~\\*/\\[\\]]");function g0(s,r,i){if(r.search(rx)>=0)throw m0(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ta(...r.split("."))._internalPath}catch(o){throw m0(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function m0(s,r,i,o,u){const h=o&&!o.isEmpty(),m=void 0!==u;let v=`Function ${r}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let D="";return(h||m)&&(D+=" (found",h&&(D+=` in field ${o}`),m&&(D+=` in document ${u}`),D+=")"),new Oe(ye.INVALID_ARGUMENT,v+s+D)}function sT(s,r){return s.some(i=>i.isEqual(r))}class pg{constructor(r,i,o,u,h){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(_0("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class ix extends pg{data(){return super.data()}}function _0(s,r){return"string"==typeof r?g0(s,r):r instanceof Ta?r._internalPath:r._delegate._internalPath}class Vh{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Aa extends pg{constructor(r,i,o,u,h,m){super(r,i,o,u,m),this._firestore=r,this._firestoreImpl=r,this.metadata=h}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(_0("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class gg extends Aa{data(r={}){return super.data(r)}}class Ll{constructor(r,i,o,u){this._firestore=r,this._userDataWriter=i,this._snapshot=u,this.metadata=new Vh(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new gg(this._firestore,this._userDataWriter,o.key,o,new Vh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Oe(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new gg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const v=new gg(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let D=-1,M=-1;return 0!==m.type&&(D=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),M=h.indexOf(m.doc.key)),{type:sx(m.type),doc:v,oldIndex:D,newIndex:M}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function sx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}function oT(s,r){return s instanceof Aa&&r instanceof Aa?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof Ll&&r instanceof Ll&&s._firestore===r._firestore&&o0(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function ys(s){if(Y_(s)&&0===s.explicitOrderBy.length)throw new Oe(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}function Vl(s,...r){for(const i of r)s=i._apply(s);return s}class ox extends mg{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=fc(r.firestore),o=function(u,h,m,v,D,M,x){let N;if(D.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on FieldPath.documentId().`);if("in"===M||"not-in"===M){uT(x,M);const z=[];for(const ee of x)z.push(lT(v,u,ee));N={arrayValue:{values:z}}}else N=lT(v,u,x)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||uT(x,M),N=tx(m,"where",x,"in"===M||"not-in"===M);const H=ci.create(D,M,N);return function(z,ee){if(ee.v()){const Re=WE(z);if(null!==Re&&!Re.isEqual(ee.field))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${ee.field.toString()}'`);const tt=Q_(z);null!==tt&&cT(0,ee.field,tt)}const Ce=function(Re,tt){for(const lt of Re.filters)if(tt.indexOf(lt.op)>=0)return lt.op;return null}(z,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==Ce)throw new Oe(ye.INVALID_ARGUMENT,Ce===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${Ce.toString()}' filters.`)}(u,H),H}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Pr(r.firestore,r.converter,function(u,h){const m=u.filters.concat([h]);return new $s(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(r._query,o))}}class vO extends mg{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,u,h){if(null!==o.startAt)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new oh(u,h);return function(v,D){if(null===Q_(v)){const M=WE(v);null!==M&&cT(0,M,D.field)}}(o,m),m}(r._query,this.Ka,this.Wa);return new Pr(r.firestore,r.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new $s(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class aT extends mg{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new Pr(r.firestore,r.converter,x1(r._query,this.Ga,this.za))}}class y0 extends mg{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=zy(r,this.type,this.Ha,this.Ja);return new Pr(r.firestore,r.converter,(u=i,new $s((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class dx extends mg{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=zy(r,this.type,this.Ha,this.Ja);return new Pr(r.firestore,r.converter,(u=i,new $s((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function zy(s,r,i,o){if(i[0]=(0,Zt.m9)(i[0]),i[0]instanceof pg)return function(u,h,m,v,D){if(!v)throw new Oe(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const M=[];for(const x of qu(u))if(x.field.isKeyField())M.push($_(h,v.key));else{const N=v.data.field(x.field);if($u(N))throw new Oe(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const H=x.field.canonicalString();throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}M.push(N)}return new jp(M,D)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const u=fc(s.firestore);return function(h,m,v,D,M,x){const N=h.explicitOrderBy;if(M.length>N.length)throw new Oe(ye.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let z=0;z<M.length;z++){const ee=M[z];if(N[z].field.isKeyField()){if("string"!=typeof ee)throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof ee}`);if(!J_(h)&&-1!==ee.indexOf("/"))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${ee}' contains a slash.`);const Ce=h.path.child(zt.fromString(ee));if(!We.isDocumentKey(Ce))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Re=new We(Ce);H.push($_(m,Re))}else{const Ce=tx(v,D,ee);H.push(Ce)}}return new jp(H,x)}(s._query,s.firestore._databaseId,u,r,i,o)}}function lT(s,r,i){if("string"==typeof(i=(0,Zt.m9)(i))){if(""===i)throw new Oe(ye.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(r)&&-1!==i.indexOf("/"))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(zt.fromString(i));if(!We.isDocumentKey(o))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return $_(s,new We(o))}if(i instanceof mn)return $_(s,i._key);throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${dg(i)}.`)}function uT(s,r){if(!Array.isArray(s)||0===s.length)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new Oe(ye.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function cT(s,r,i){if(!i.isEqual(r))throw new Oe(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class dT{convertValue(r,i="none"){switch(zu(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Yn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(Hu(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw Ke()}}convertObject(r,i){const o={};return ju(r.fields,(u,h)=>{o[u]=this.convertValue(h,i)}),o}convertGeoPoint(r){return new fg(Yn(r.latitude),Yn(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=uI(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(Bp(r));default:return null}}convertTimestamp(r){const i=El(r);return new ir(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=zt.fromString(r);ft(Ju(o));const u=new cg(o.get(1),o.get(3)),h=new We(o.popFirst(5));return u.isEqual(i)||Kn(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function qy(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class hx extends dT{constructor(r){super(),this.firestore=r}convertBytes(r){return new Lo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new mn(this.firestore,null,i)}}class hT{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=fc(r)}set(r,i,o){this._verifyNotCommitted();const u=_r(r,this._firestore),h=qy(u.converter,i,o),m=kh(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,Qn.none())),this}update(r,i,o,...u){this._verifyNotCommitted();const h=_r(r,this._firestore);let m;return m="string"==typeof(i=(0,Zt.m9)(i))||i instanceof Ta?h0(this._dataReader,"WriteBatch.update",h._key,i,o,u):Fh(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(m.toMutation(h._key,Qn.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=_r(r,this._firestore);return this._mutations=this._mutations.concat(new hh(i._key,Qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _r(s,r){if((s=(0,Zt.m9)(s)).firestore!==r)throw new Oe(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Bl extends dT{constructor(r){super(),this.firestore=r}convertBytes(r){return new Lo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new mn(this.firestore,null,i)}}function Wy(s,r,i){s=$t(s,mn);const o=$t(s.firestore,Hn),u=qy(s.converter,r,i);return Bh(o,[kh(fc(o),"setDoc",s._key,u,null!==s.converter,i).toMutation(s._key,Qn.none())])}function Zy(s,r,i,...o){s=$t(s,mn);const u=$t(s.firestore,Hn),h=fc(u);let m;return m="string"==typeof(r=(0,Zt.m9)(r))||r instanceof Ta?h0(h,"updateDoc",s._key,r,i,o):Fh(h,"updateDoc",s._key,r),Bh(u,[m.toMutation(s._key,Qn.exists(!0))])}function b0(s,...r){var i,o,u;s=(0,Zt.m9)(s);let h={includeMetadataChanges:!1},m=0;"object"!=typeof r[m]||a0(r[m])||(h=r[m],m++);const v={includeMetadataChanges:h.includeMetadataChanges};if(a0(r[m])){const N=r[m];r[m]=null===(i=N.next)||void 0===i?void 0:i.bind(N),r[m+1]=null===(o=N.error)||void 0===o?void 0:o.bind(N),r[m+2]=null===(u=N.complete)||void 0===u?void 0:u.bind(N)}let D,M,x;if(s instanceof mn)M=$t(s.firestore,Hn),x=ah(s._key.path),D={next:N=>{r[m]&&r[m](E0(M,s,N))},error:r[m+1],complete:r[m+2]};else{const N=$t(s,Pr);M=$t(N.firestore,Hn),x=N._query;const H=new Bl(M);D={next:z=>{r[m]&&r[m](new Ll(M,H,N,z))},error:r[m+1],complete:r[m+2]},ys(s._query)}return function(N,H,z,ee){const Ce=new Yw(ee),Re=new Uw(H,Ce,z);return N.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return Vw(yield cc(N),Re)})),()=>{Ce.Xo(),N.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return Ay(yield cc(N),Re)}))}}(lr(M),x,v,D)}function Bh(s,r){return function(i,o){const u=new fr;return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,r,i){return RS.apply(this,arguments)}(yield e0(i),o,u)})),u.promise}(lr(s),r)}function E0(s,r,i){const o=i.docs.get(r._key),u=new Bl(s);return new Aa(s,u,r._key,o,new Vh(i.hasPendingWrites,i.fromCache),r.converter)}class _T extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=fc(r)}get(r){const i=_r(r,this._firestore),o=new hx(this._firestore);return this._transaction.lookup([i._key]).then(u=>{if(!u||1!==u.length)return Ke();const h=u[0];if(h.isFoundDocument())return new pg(this._firestore,o,h.key,h,i.converter);if(h.isNoDocument())return new pg(this._firestore,o,i._key,null,i.converter);throw Ke()})}set(r,i,o){const u=_r(r,this._firestore),h=qy(u.converter,i,o),m=kh(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,m),this}update(r,i,o,...u){const h=_r(r,this._firestore);let m;return m="string"==typeof(i=(0,Zt.m9)(i))||i instanceof Ta?h0(this._dataReader,"Transaction.update",h._key,i,o,u):Fh(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,m),this}delete(r){const i=_r(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=_r(r,this._firestore),o=new Bl(this._firestore);return super.get(r).then(u=>new Aa(this._firestore,o,i._key,u._document,new Vh(!1,!1),i.converter))}}function yg(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function C0(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function vg(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){ba=s})(iD.SDK_VERSION),(0,iD._registerComponent)(new Yb.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new Hn(i,new sI(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,iD.registerVersion)("@firebase/firestore","3.0.1",void 0);class bg{constructor(r){this._delegate=r}static fromBase64String(r){return vg(),new bg(Lo.fromBase64String(r))}static fromUint8Array(r){return C0(),new bg(Lo.fromUint8Array(r))}toBase64(){return vg(),this._delegate.toBase64()}toUint8Array(){return C0(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function D0(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class vx{enableIndexedDbPersistence(r,i){return function(s,r){c0(s=$t(s,Hn));const i=lr(s),o=s._freezeSettings(),u=new Kw;return l0(i,u,new FM(u,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){c0(s=$t(s,Hn));const r=lr(s),i=s._freezeSettings(),o=new Kw;return l0(r,o,new GS(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new Oe(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new fr;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(i=(0,Ie.Z)(function*(o){if(!Ws.Pt())return Promise.resolve();const u=o+"main";yield Ws.delete(u)}),function(o){return i.apply(this,arguments)})(gw(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class I0{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof cg||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&eh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var u;const h=(s=$t(s,hg))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==r&&eh("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},h),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let m,v;if("string"==typeof o.mockUserToken)m=o.mockUserToken,v=Zn.MOCK_USER;else{m=(0,Zt.Sg)(o.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const D=o.mockUserToken.sub||o.mockUserToken.user_id;if(!D)throw new Oe(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Zn(D)}s._credentials=new B_(new iI(m,v))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ie.Z)(function*(){const r=yield Fy(s),i=yield Xw(s);return r.setNetworkEnabled(!0),function(o){const u=Ue(o);return u.Kr.delete(0),Ah(u)}(i)}))}(lr(s=$t(s,Hn)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ie.Z)(function*(){const r=yield Fy(s),i=yield Xw(s);return r.setNetworkEnabled(!1),(o=(0,Ie.Z)(function*(u){const h=Ue(u);h.Kr.add(0),yield Mh(h),h.Wr.set("Offline")}),function(u){return o.apply(this,arguments)})(i);var o}))}(lr(s=$t(s,Hn)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,KS("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new fr;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(s,r){return PS.apply(this,arguments)}(yield e0(r),i)})),i.promise}(lr(s=$t(s,Hn)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new Yw(r);return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return o=yield cc(s),u=i,Ue(o).Zr.add(u),void u.next();var o,u})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return o=yield cc(s),u=i,void Ue(o).Zr.delete(u);var o,u}))}}(lr(s=$t(s,Hn)),a0(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Uh(this,JS(this._delegate,r))}catch(i){throw mi(i,"collection()","Firestore.collection()")}}doc(r){try{return new Oi(this,Fl(this._delegate,r))}catch(i){throw mi(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new Qr(this,function(s,r){if(s=$t(s,hg),r0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Oe(ye.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pr(s,null,(i=r,new $s(zt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw mi(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new fr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const o=yield(u=s,Py(u).then(h=>h.datastore));var u;new BM(s.asyncQueue,o,r,i).run()})),i.promise}(lr(s),i=>r(new _T(s,i)))}(this._delegate,i=>r(new vT(this,i)))}batch(){return lr(this._delegate),new Ma(new hT(this._delegate,r=>Bh(this._delegate,r)))}loadBundle(r){return function(s,r){const i=lr(s=$t(s,Hn)),o=new fO;return function(s,r,i,o){const u=function(h,m){let v;return v="string"==typeof h?(new TextEncoder).encode(h):h,D=function(D,M){if(D instanceof Uint8Array)return LM(D,M);if(D instanceof ArrayBuffer)return LM(new Uint8Array(D),M);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new VM(D,m);var D}(i,Xp(r));s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function(s,r,i){const o=Ue(s);var u;(u=(0,Ie.Z)(function*(h,m,v){try{const D=yield m.getMetadata();if(yield function(H,z){const ee=Ue(H),Ce=pr(z.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Re=>ee.Je.getBundleMetadata(Re,z.id)).then(Re=>!!Re&&Re.createTime.compareTo(Ce)>=0)}(h.localStore,D))return yield m.close(),void v._completeWith((H=D,{taskState:"Success",documentsLoaded:H.totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}));v._updateProgress(SM(D));const M=new QR(D,h.localStore,m.N);let x=yield m.Qo();for(;x;){const H=yield M.fo(x);H&&v._updateProgress(H),x=yield m.Qo()}const N=yield M.complete();yield Po(h,N.Tn,void 0),yield function(H,z){const ee=Ue(H);return ee.persistence.runTransaction("Save bundle","readwrite",Ce=>ee.Je.saveBundleMetadata(Ce,z))}(h.localStore,D),v._completeWith(N.progress)}catch(D){eh("SyncEngine",`Loading bundle failed with ${D}`),v._failWith(D)}var H}),function(h,m,v){return u.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield e0(s),u,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(i,o){const u=Ue(i);return u.persistence.runTransaction("Get named query","readonly",h=>u.Je.getNamedQuery(h,o))}(yield Ly(s),r)}))}(lr(s=$t(s,Hn)),r).then(i=>i?new Pr(s,null,i.query):null)}(this._delegate,r).then(i=>i?new Qr(this,i):null)}}class ev extends dT{constructor(r){super(),this.firestore=r}convertBytes(r){return new bg(new Lo(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return Oi.forKey(i,this.firestore,null)}}class vT{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new ev(r)}get(r){const i=gc(r);return this._delegate.get(i).then(o=>new pc(this._firestore,new Aa(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const u=gc(r);return o?(yg("Transaction.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const h=gc(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...u),this}delete(r){const i=gc(r);return this._delegate.delete(i),this}}class Ma{constructor(r){this._delegate=r}set(r,i,o){const u=gc(r);return o?(yg("WriteBatch.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const h=gc(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...u),this}delete(r){const i=gc(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Ks{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new gg(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Eg(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=Ks.INSTANCES;let u=o.get(r);u||(u=new WeakMap,o.set(r,u));let h=u.get(i);return h||(h=new Ks(r,new ev(r),i),u.set(i,h)),h}}Ks.INSTANCES=new WeakMap;class Oi{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new ev(r)}static forPath(r,i,o){if(r.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Oi(i,new mn(i._delegate,o,new We(r)))}static forKey(r,i,o){return new Oi(i,new mn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new Uh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Uh(this.firestore,JS(this._delegate,r))}catch(i){throw mi(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Zt.m9)(r))instanceof mn&&Uy(this._delegate,r)}set(r,i){i=yg("DocumentReference.set",i);try{return i?Wy(this._delegate,r,i):Wy(this._delegate,r)}catch(o){throw mi(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?Zy(this._delegate,r):Zy(this._delegate,r,i,...o)}catch(u){throw mi(u,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return Bh($t(s.firestore,Hn),[new hh(s._key,Qn.none())])}(this._delegate)}onSnapshot(...r){const i=bT(r),o=ET(r,u=>new pc(this.firestore,new Aa(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return b0(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=$t(s,mn);const r=$t(s.firestore,Hn),i=lr(r),o=new Bl(r);return function(s,r){const i=new fr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(o=(0,Ie.Z)(function*(u,h,m){try{const v=yield function(D,M){const x=Ue(D);return x.persistence.runTransaction("read document","readonly",N=>x.Qn.An(N,M))}(u,h);v.isFoundDocument()?m.resolve(v):v.isNoDocument()?m.resolve(null):m.reject(new Oe(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const D=Rh(v,`Failed to get document '${h} from cache`);m.reject(D)}}),function(u,h,m){return o.apply(this,arguments)})(yield Ly(s),r,i);var o})),i.promise}(i,s._key).then(u=>new Aa(r,o,s._key,u,new Vh(null!==u&&u.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=$t(s,mn);const r=$t(s.firestore,Hn);return n0(lr(r),s._key,{source:"server"}).then(i=>E0(r,s,i))}(this._delegate):function(s){s=$t(s,mn);const r=$t(s.firestore,Hn);return n0(lr(r),s._key).then(i=>E0(r,s,i))}(this._delegate),i.then(o=>new pc(this.firestore,new Aa(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new Oi(this.firestore,this._delegate.withConverter(r?Ks.getInstance(this.firestore,r):null))}}function mi(s,r,i){return s.message=s.message.replace(r,i),s}function bT(s){for(const r of s)if("object"==typeof r&&!D0(r))return r;return{}}function ET(s,r){var i,o;let u;return u=D0(s[0])?s[0]:D0(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:h=>{u.next&&u.next(r(h))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class pc{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new Oi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return oT(this._delegate,r._delegate)}}class Eg extends pc{data(r){const i=this._delegate.data(r);return function(s,r){s||Ke()}(void 0!==i),i}}class Qr{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new ev(r)}where(r,i,o){try{return new Qr(this.firestore,Vl(this._delegate,function(s,r,i){const o=r,u=_0("where",s);return new ox(u,o,i)}(r,i,o)))}catch(u){throw mi(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new Qr(this.firestore,Vl(this._delegate,function(s,r="asc"){const i=r,o=_0("orderBy",s);return new vO(o,i)}(r,i)))}catch(o){throw mi(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new Qr(this.firestore,Vl(this._delegate,function(s){return QS("limit",s),new aT("limit",s,"F")}(r)))}catch(i){throw mi(i,"limit()","Query.limit()")}}limitToLast(r){try{return new Qr(this.firestore,Vl(this._delegate,function(s){return QS("limitToLast",s),new aT("limitToLast",s,"L")}(r)))}catch(i){throw mi(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new Qr(this.firestore,Vl(this._delegate,function(...s){return new y0("startAt",s,!0)}(...r)))}catch(i){throw mi(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new Qr(this.firestore,Vl(this._delegate,function(...s){return new y0("startAfter",s,!1)}(...r)))}catch(i){throw mi(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new Qr(this.firestore,Vl(this._delegate,function(...s){return new dx("endBefore",s,!0)}(...r)))}catch(i){throw mi(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new Qr(this.firestore,Vl(this._delegate,function(...s){return new dx("endAt",s,!1)}(...r)))}catch(i){throw mi(i,"endAt()","Query.endAt()")}}isEqual(r){return o0(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=$t(s,Pr);const r=$t(s.firestore,Hn),i=lr(r),o=new Bl(r);return function(s,r){const i=new fr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(o=(0,Ie.Z)(function*(u,h,m){try{const v=yield _y(u,h,!0),D=new MM(h,v.Gn),M=D.Io(v.documents),x=D.applyChanges(M,!1);m.resolve(x.snapshot)}catch(v){const D=Rh(v,`Failed to execute query '${h} against cache`);m.reject(D)}}),function(u,h,m){return o.apply(this,arguments)})(yield Ly(s),r,i);var o})),i.promise}(i,s._query).then(u=>new Ll(r,o,s,u))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=$t(s,Pr);const r=$t(s.firestore,Hn),i=lr(r),o=new Bl(r);return By(i,s._query,{source:"server"}).then(u=>new Ll(r,o,s,u))}(this._delegate):function(s){s=$t(s,Pr);const r=$t(s.firestore,Hn),i=lr(r),o=new Bl(r);return ys(s._query),By(i,s._query).then(u=>new Ll(r,o,s,u))}(this._delegate),i.then(o=>new S0(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=bT(r),o=ET(r,u=>new S0(this.firestore,new Ll(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return b0(this._delegate,i,o)}withConverter(r){return new Qr(this.firestore,this._delegate.withConverter(r?Ks.getInstance(this.firestore,r):null))}}class wT{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Eg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class S0{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new Qr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Eg(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new wT(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new Eg(this._firestore,o))})}isEqual(r){return oT(this._delegate,r._delegate)}}class Uh extends Qr{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Oi(this.firestore,r):null}doc(r){try{return new Oi(this.firestore,void 0===r?Fl(this._delegate):Fl(this._delegate,r))}catch(i){throw mi(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=$t(s.firestore,Hn),o=Fl(s),u=qy(s.converter,r);return Bh(i,[kh(fc(s.firestore),"addDoc",o._key,u,null!==s.converter,{}).toMutation(o._key,Qn.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new Oi(this.firestore,i))}isEqual(r){return Uy(this._delegate,r._delegate)}withConverter(r){return new Uh(this.firestore,this._delegate.withConverter(r?Ks.getInstance(this.firestore,r):null))}}function gc(s){return $t(s,mn)}class Ys{constructor(...r){this._delegate=new Ta(...r)}static documentId(){return new Ys(Wr.keyField().canonicalString())}isEqual(r){return(r=(0,Zt.m9)(r))instanceof Ta&&this._delegate._internalPath.isEqual(r._internalPath)}}class Qs{constructor(r){this._delegate=r}static serverTimestamp(){const r=new rT("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new Qs(r)}static delete(){const r=new Ph("deleteField");return r._methodName="FieldValue.delete",new Qs(r)}static arrayUnion(...r){const i=function(...s){return new XM("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new Qs(i)}static arrayRemove(...r){const i=function(...s){return new ex("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new Qs(i)}static increment(r){const i=function(s){return new yO("increment",s)}(r);return i._methodName="FieldValue.increment",new Qs(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const jh={Firestore:I0,GeoPoint:fg,Timestamp:ir,Blob:bg,Transaction:vT,WriteBatch:Ma,DocumentReference:Oi,DocumentSnapshot:pc,Query:Qr,QueryDocumentSnapshot:Eg,QuerySnapshot:S0,CollectionReference:Uh,FieldPath:Ys,FieldValue:Qs,setLogLevel:function(s){!function(s){Xt.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function CT(s,r){return function(s,r=Ld.z){return new On.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function nv(s,r){return CT(s,r).pipe((0,dt.U)(i=>({payload:i,type:"query"})))}function wg(s,r){return nv(s,r).pipe(ji(void 0),cp(),(0,dt.U)(([i,o])=>{const u=o.payload.docChanges(),h=u.map(m=>({type:m.type,payload:m}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,v)=>{const D=u.find(x=>x.doc.ref.isEqual(m.ref)),M=null==i?void 0:i.payload.docs.find(x=>x.ref.isEqual(m.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(m.metadata)||!D&&M&&JSON.stringify(M.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:m}})}),h}))}function T0(s,r,i){return wg(s,i).pipe(la((o,u)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return Cg(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return Cg(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return Cg(s,r.oldIndex,1)}return s}(s,o))}),s}(o,u.map(h=>h.payload),r),[]),n_(),(0,dt.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Cg(s,r,i,...o){const u=s.slice();return u.splice(r,i,...o),u}function IT(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}!function(s){(function(s,r){s.INTERNAL.registerComponent(new Yb.wA("firestore-compat",i=>((r,i)=>new I0(r,i,new vx))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},jh)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(YA.Z);class A0{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=wg(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,dt.U)(o=>o.filter(u=>r.indexOf(u.type)>-1)))),i.pipe(ji(void 0),cp(),Gr(([o,u])=>u.length>0||!o),(0,dt.U)(([o,u])=>u),Sr.iC)}auditTrail(r){return this.stateChanges(r).pipe(la((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=IT(r);return T0(this.query,i,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(r={}){return nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),Sr.iC)}get(r){return(0,gn.D)(this.query.get(r)).pipe(Sr.f6)}add(r){return this.ref.add(r)}doc(r){return new Ul(this.ref.doc(r),this.afs)}}class Ul{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:u,query:h}=Sx(o,i);return new A0(u,h,this.afs)}snapshotChanges(){return function(s,r){return CT(s,r).pipe(ji(void 0),cp(),(0,dt.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,gn.D)(this.ref.get(r)).pipe((0,Fd.QV)(this.afs.schedulers.insideAngular))}}class M0{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?wg(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Gr(i=>i.length>0),Sr.iC):wg(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(r){return this.stateChanges(r).pipe(la((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=IT(r);return T0(this.query,i,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(r={}){return nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(o=>o.payload.docs.map(u=>r.idField?Object.assign({[r.idField]:u.id},u.data()):u.data())),Sr.iC)}get(r){return(0,gn.D)(this.query.get(r)).pipe(Sr.f6)}}const Dx=new g.OlP("angularfire2.enableFirestorePersistence"),Ix=new g.OlP("angularfire2.firestore.persistenceSettings"),DO=new g.OlP("angularfire2.firestore.settings"),IO=new g.OlP("angularfire2.firestore.use-emulator");function Sx(s,r=(i=>i)){return{query:r(s),ref:s}}let SO=(()=>{class s{constructor(i,o,u,h,m,v,D,M,x,N,H,z,ee,Ce,Re,tt){this.schedulers=D;const lt=(0,Bs.on)(i,v,o),at=x;N&&tD(lt,v,H,ee,Ce,Re,z,tt),[this.firestore,this.persistenceEnabled$]=(0,Sr.cc)(`${lt.name}.firestore`,"AngularFirestore",lt.name,()=>{const bt=v.runOutsideAngular(()=>lt.firestore());if(h&&bt.settings(h),at&&bt.useEmulator(...at),u&&!Tc(m)){const $n=()=>{try{return(0,gn.D)(bt.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(Ji){return"undefined"!=typeof console&&console.warn(Ji),(0,rt.of)(!1)}};return[bt,v.runOutsideAngular($n)]}return[bt,(0,rt.of)(!1)]},[h,at,u])}collection(i,o){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:h,query:m}=Sx(u,o),v=this.schedulers.ngZone.run(()=>h);return new A0(v,m,this)}collectionGroup(i,o){const u=o||(m=>m),h=this.firestore.collectionGroup(i);return new M0(u(h),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>o);return new Ul(u,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Bs.Dh),g.LFG(Bs.xv,8),g.LFG(Dx,8),g.LFG(DO,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Sr.HU),g.LFG(Ix,8),g.LFG(IO,8),g.LFG(t_,8),g.LFG(XC,8),g.LFG(eD,8),g.LFG(qb,8),g.LFG(Wb,8),g.LFG(Zb,8),g.LFG(Kb,8))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),ST=(()=>{class s{constructor(i,o){this.af=i,this.router=o}addItem(i){this.af.collection("usuarios").add(i).then(()=>this.router.navigate(["home"]))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(SO),g.LFG(tr))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),TT=(()=>{class s{constructor(i,o,u){this.auth=i,this.router=o,this.firestore=u,this.isLoggedIn=!1,this.auth.authState.subscribe(h=>{console.log(h),this.isLoggedIn=h})}login(i,o){return this.auth.signInWithEmailAndPassword(i,o)}register(i,o){return this.auth.createUserWithEmailAndPassword(i,o)}logOut(){this.auth.signOut()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(t_),g.LFG(tr),g.LFG(ST))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Js(s){return null!=s&&"false"!=`${s}`}function iv(s){return Array.isArray(s)?s:[s]}function cr(s){return null==s?"":"string"==typeof s?s:`${s}px`}function $h(s){return s instanceof g.SBq?s.nativeElement:s}var MO=V(9105);function l(s,r,i,o){return(0,MO.m)(i)&&(o=i,i=void 0),o?l(s,r,i).pipe((0,dt.U)(u=>(0,Zc.k)(u)?o(...u):o(u))):new On.y(u=>{c(s,r,function(m){u.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},u,i)})}function c(s,r,i,o,u){let h;if(function(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const m=s;s.addEventListener(r,i,u),h=()=>m.removeEventListener(r,i,u)}else if(function(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const m=s;s.on(r,i),h=()=>m.off(r,i)}else if(function(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const m=s;s.addListener(r,i),h=()=>m.removeListener(r,i)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let m=0,v=s.length;m<v;m++)c(s[m],r,i,o,u)}o.add(h)}var b=V(6465),S=V(6102);new class extends S.v{flush(r){this.active=!0,this.scheduled=void 0;const{actions:i}=this;let o,u=-1,h=i.length;r=r||i.shift();do{if(o=r.execute(r.state,r.delay))break}while(++u<h&&(r=i.shift()));if(this.active=!1,o){for(;++u<h&&(r=i.shift());)r.unsubscribe();throw o}}}(class extends b.o{constructor(r,i){super(r,i),this.scheduler=r,this.work=i}requestAsyncId(r,i,o=0){return null!==o&&o>0?super.requestAsyncId(r,i,o):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(()=>r.flush(null))))}recycleAsyncId(r,i,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(r,i,o);0===r.actions.length&&(cancelAnimationFrame(i),r.scheduled=void 0)}});V(4581);class de{constructor(r){this.durationSelector=r}call(r,i){return i.subscribe(new ne(r,this.durationSelector))}}class ne extends Ui.Ds{constructor(r,i){super(r),this.durationSelector=i,this.hasValue=!1}_next(r){if(this.value=r,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:u}=this;i=u(r)}catch(u){return this.destination.error(u)}const o=(0,Ui.ft)(i,new Ui.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:r,hasValue:i,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(r))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ke=V(6561);function Je(s){const{index:r,period:i,subscriber:o}=s;if(o.next(r),!o.closed){if(-1===i)return o.complete();s.index=r+1,this.schedule(s,i)}}function ut(s,r=Ld.P){return function(s){return function(i){return i.lift(new de(s))}}(()=>function(s=0,r,i){let o=-1;return(0,ke.k)(r)?o=Number(r)<1?1:Number(r):(0,vu.K)(r)&&(i=r),(0,vu.K)(i)||(i=Ld.P),new On.y(u=>{const h=(0,ke.k)(s)?s:+s-i.now();return i.schedule(Je,h,{index:0,period:o,subscriber:u})})}(s,r))}function Ct(s){return r=>r.lift(new dr(s))}class dr{constructor(r){this.notifier=r}call(r,i){const o=new vs(r),u=(0,Ui.ft)(this.notifier,new Ui.IY(o));return u&&!o.seenValue?(o.add(u),i.subscribe(o)):o}}class vs extends Ui.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let mc;try{mc="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(s){mc=!1}let _c,Ig,Tx,rn=(()=>{class s{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function(s){return"browser"===s}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mc)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.Lbi))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(g.Lbi))},token:s,providedIn:"root"}),s})(),xa=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})();function Dg(s){return function(){if(null==_c&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_c=!0}))}finally{_c=_c||!1}return _c}()?s:!!s.capture}function xO(){if(null==Ig){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ig=!1,Ig;if("scrollBehavior"in document.documentElement.style)Ig=!0;else{const s=Element.prototype.scrollTo;Ig=!!s&&!/\{\s*\[native code\]\s*\}/.test(s.toString())}}return Ig}function ov(s){return s.composedPath?s.composedPath()[0]:s.target}const RO=new g.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,g.f3M)(se)}});let O0=(()=>{class s{constructor(i){if(this.value="ltr",this.change=new g.vpe,i){const u=i.documentElement?i.documentElement.dir:null,h=(i.body?i.body.dir:null)||u;this.value="ltr"===h||"rtl"===h?h:"ltr"}}ngOnDestroy(){this.change.complete()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(RO,8))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(RO,8))},token:s,providedIn:"root"}),s})(),N0=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})(),xT=(()=>{class s{constructor(i,o,u){this._ngZone=i,this._platform=o,this._scrolled=new Vt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=u}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const o=this.scrollContainers.get(i);o&&(o.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new On.y(o=>{this._globalSubscription||this._addGlobalListener();const u=i>0?this._scrolled.pipe(ut(i)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{u.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,rt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(i,o){const u=this.getAncestorScrollContainers(i);return this.scrolled(o).pipe(Gr(h=>!h||u.indexOf(h)>-1))}getAncestorScrollContainers(i){const o=[];return this.scrollContainers.forEach((u,h)=>{this._scrollableContainsElement(h,i)&&o.push(h)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,o){let u=$h(o),h=i.getElementRef().nativeElement;do{if(u==h)return!0}while(u=u.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>l(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.R0b),g.LFG(rn),g.LFG(se,8))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(g.R0b),g.LFG(rn),g.LFG(se,8))},token:s,providedIn:"root"}),s})(),k0=(()=>{class s{constructor(i,o,u){this._platform=i,this._change=new Vt.xQ,this._changeListener=h=>{this._change.next(h)},this._document=u,o.runOutsideAngular(()=>{if(i.isBrowser){const h=this._getWindow();h.addEventListener("resize",this._changeListener),h.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:o,height:u}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+u,right:i.left+o,height:u,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,o=this._getWindow(),u=i.documentElement,h=u.getBoundingClientRect();return{top:-h.top||i.body.scrollTop||o.scrollY||u.scrollTop||0,left:-h.left||i.body.scrollLeft||o.scrollX||u.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(ut(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(rn),g.LFG(g.R0b),g.LFG(se,8))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(rn),g.LFG(g.R0b),g.LFG(se,8))},token:s,providedIn:"root"}),s})(),FO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})(),LO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[N0,xa,FO],N0,FO]}),s})();class Ax{attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;null!=r&&(this._attachedHost=null,r.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(r){this._attachedHost=r}}class Mx extends Ax{constructor(r,i,o,u){super(),this.component=r,this.viewContainerRef=i,this.injector=o,this.componentFactoryResolver=u}}class RT extends Ax{constructor(r,i,o){super(),this.templateRef=r,this.viewContainerRef=i,this.context=o}get origin(){return this.templateRef.elementRef}attach(r,i=this.context){return this.context=i,super.attach(r)}detach(){return this.context=void 0,super.detach()}}class hP extends Ax{constructor(r){super(),this.element=r instanceof g.SBq?r.nativeElement:r}}class xx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(r){return r instanceof Mx?(this._attachedPortal=r,this.attachComponentPortal(r)):r instanceof RT?(this._attachedPortal=r,this.attachTemplatePortal(r)):this.attachDomPortal&&r instanceof hP?(this._attachedPortal=r,this.attachDomPortal(r)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fP extends xx{constructor(r,i,o,u,h){super(),this.outletElement=r,this._componentFactoryResolver=i,this._appRef=o,this._defaultInjector=u,this.attachDomPortal=m=>{const v=m.element,D=this._document.createComment("dom-portal");v.parentNode.insertBefore(D,v),this.outletElement.appendChild(v),this._attachedPortal=m,super.setDisposeFn(()=>{D.parentNode&&D.parentNode.replaceChild(v,D)})},this._document=h}attachComponentPortal(r){const o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component);let u;return r.viewContainerRef?(u=r.viewContainerRef.createComponent(o,r.viewContainerRef.length,r.injector||r.viewContainerRef.injector),this.setDisposeFn(()=>u.destroy())):(u=o.create(r.injector||this._defaultInjector),this._appRef.attachView(u.hostView),this.setDisposeFn(()=>{this._appRef.detachView(u.hostView),u.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(u)),this._attachedPortal=r,u}attachTemplatePortal(r){let i=r.viewContainerRef,o=i.createEmbeddedView(r.templateRef,r.context);return o.rootNodes.forEach(u=>this.outletElement.appendChild(u)),o.detectChanges(),this.setDisposeFn(()=>{let u=i.indexOf(o);-1!==u&&i.remove(u)}),this._attachedPortal=r,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(r){return r.hostView.rootNodes[0]}}let OT=(()=>{class s extends xx{constructor(i,o,u){super(),this._componentFactoryResolver=i,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new g.vpe,this.attachDomPortal=h=>{const m=h.element,v=this._document.createComment("dom-portal");h.setAttachedHost(this),m.parentNode.insertBefore(v,m),this._getRootNode().appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(m,v)})},this._document=u}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(i){i.setAttachedHost(this);const o=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,h=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),m=o.createComponent(h,o.length,i.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(m.hostView.rootNodes[0]),super.setDisposeFn(()=>m.destroy()),this._attachedPortal=i,this._attachedRef=m,this.attached.emit(m),m}attachTemplatePortal(i){i.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g._Vd),g.Y36(g.s_b),g.Y36(se))},s.\u0275dir=g.lG2({type:s,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[g.qOj]}),s})(),BO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({}),s})();const jO=xO();class IP{constructor(r,i){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=cr(-this._previousScrollPosition.left),r.style.top=cr(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const r=this._document.documentElement,o=r.style,u=this._document.body.style,h=o.scrollBehavior||"",m=u.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),jO&&(o.scrollBehavior=u.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jO&&(o.scrollBehavior=h,u.scrollBehavior=m)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,o=this._viewportRuler.getViewportSize();return i.scrollHeight>o.height||i.scrollWidth>o.width}}class SP{constructor(r,i,o,u){this._scrollDispatcher=r,this._ngZone=i,this._viewportRuler=o,this._config=u,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef=r}enable(){if(this._scrollSubscription)return;const r=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HO{enable(){}disable(){}attach(){}}function Rx(s,r){return r.some(i=>s.bottom<i.top||s.top>i.bottom||s.right<i.left||s.left>i.right)}function $O(s,r){return r.some(i=>s.top<i.top||s.bottom>i.bottom||s.left<i.left||s.right>i.right)}class TP{constructor(r,i,o,u){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=o,this._config=u,this._scrollSubscription=null}attach(r){this._overlayRef=r}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:u}=this._viewportRuler.getViewportSize();Rx(i,[{width:o,height:u,bottom:u,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AP=(()=>{class s{constructor(i,o,u,h){this._scrollDispatcher=i,this._viewportRuler=o,this._ngZone=u,this.noop=()=>new HO,this.close=m=>new SP(this._scrollDispatcher,this._ngZone,this._viewportRuler,m),this.block=()=>new IP(this._viewportRuler,this._document),this.reposition=m=>new TP(this._scrollDispatcher,this._viewportRuler,this._ngZone,m),this._document=h}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(xT),g.LFG(k0),g.LFG(g.R0b),g.LFG(se))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(xT),g.LFG(k0),g.LFG(g.R0b),g.LFG(se))},token:s,providedIn:"root"}),s})();class Ox{constructor(r){if(this.scrollStrategy=new HO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){const i=Object.keys(r);for(const o of i)void 0!==r[o]&&(this[o]=r[o])}}}class MP{constructor(r,i,o,u,h){this.offsetX=o,this.offsetY=u,this.panelClass=h,this.originX=r.originX,this.originY=r.originY,this.overlayX=i.overlayX,this.overlayY=i.overlayY}}class xP{constructor(r,i){this.connectionPair=r,this.scrollableViewProperties=i}}let GO=(()=>{class s{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const o=this._attachedOverlays.indexOf(i);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(se))},token:s,providedIn:"root"}),s})(),RP=(()=>{class s extends GO{constructor(i){super(i),this._keydownListener=o=>{const u=this._attachedOverlays;for(let h=u.length-1;h>-1;h--)if(u[h]._keydownEvents.observers.length>0){u[h]._keydownEvents.next(o);break}}}add(i){super.add(i),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(se))},token:s,providedIn:"root"}),s})(),OP=(()=>{class s extends GO{constructor(i,o){super(i),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=u=>{const h=ov(u),m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const D=m[v];if(!(D._outsidePointerEvents.observers.length<1)&&D.hasAttached()){if(D.overlayElement.contains(h))break;D._outsidePointerEvents.next(u)}}}}add(i){if(super.add(i),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se),g.LFG(rn))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(se),g.LFG(rn))},token:s,providedIn:"root"}),s})();const Gh="undefined"!=typeof window?window:{},zO=void 0!==Gh.__karma__&&!!Gh.__karma__||void 0!==Gh.jasmine&&!!Gh.jasmine||void 0!==Gh.jest&&!!Gh.jest||void 0!==Gh.Mocha&&!!Gh.Mocha;let Nx=(()=>{class s{constructor(i,o){this._platform=o,this._document=i}ngOnDestroy(){const i=this._containerElement;i&&i.parentNode&&i.parentNode.removeChild(i)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||zO){const u=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let h=0;h<u.length;h++)u[h].parentNode.removeChild(u[h])}const o=this._document.createElement("div");o.classList.add(i),zO?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se),g.LFG(rn))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(se),g.LFG(rn))},token:s,providedIn:"root"}),s})();class NP{constructor(r,i,o,u,h,m,v,D,M){this._portalOutlet=r,this._host=i,this._pane=o,this._config=u,this._ngZone=h,this._keyboardDispatcher=m,this._document=v,this._location=D,this._outsideClickDispatcher=M,this._backdropElement=null,this._backdropClick=new Vt.xQ,this._attachments=new Vt.xQ,this._detachments=new Vt.xQ,this._locationChanges=Nn.w.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._keydownEvents=new Vt.xQ,this._outsidePointerEvents=new Vt.xQ,u.scrollStrategy&&(this._scrollStrategy=u.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=u.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){let i=this._portalOutlet.attach(r);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Fs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){const r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=Object.assign(Object.assign({},this._config),r),this._updateElementSize()}setDirection(r){this._config=Object.assign(Object.assign({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){const r=this._config.direction;return r?"string"==typeof r?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const r=this._pane.style;r.width=cr(this._config.width),r.height=cr(this._config.height),r.minWidth=cr(this._config.minWidth),r.minHeight=cr(this._config.minHeight),r.maxWidth=cr(this._config.maxWidth),r.maxHeight=cr(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){const r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let r=this._backdropElement;if(!r)return;let i,o=()=>{r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",o),r.parentNode&&r.parentNode.removeChild(r)),this._backdropElement==r&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(r,this._config.backdropClass,!1),clearTimeout(i)};r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",o)}),r.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(r,i,o){const u=r.classList;iv(i).forEach(h=>{h&&(o?u.add(h):u.remove(h))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const r=this._ngZone.onStable.pipe(Ct((0,QC.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),r.unsubscribe())})})}_disposeScrollStrategy(){const r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}}const qO="cdk-overlay-connected-position-bounding-box",kP=/([A-Za-z%]+)$/;class WO{constructor(r,i,o,u,h){this._viewportRuler=i,this._document=o,this._platform=u,this._overlayContainer=h,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Vt.xQ,this._resizeSubscription=Nn.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}get positions(){return this._preferredPositions}attach(r){this._validatePositions(),r.hostElement.classList.add(qO),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const r=this._originRect,i=this._overlayRect,o=this._viewportRect,u=[];let h;for(let m of this._preferredPositions){let v=this._getOriginPoint(r,m),D=this._getOverlayPoint(v,i,m),M=this._getOverlayFit(D,i,o,m);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(m,v);this._canFitWithFlexibleDimensions(M,D,o)?u.push({position:m,origin:v,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(v,m)}):(!h||h.overlayFit.visibleArea<M.visibleArea)&&(h={overlayFit:M,overlayPoint:D,originPoint:v,position:m,overlayRect:i})}if(u.length){let m=null,v=-1;for(const D of u){const M=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);M>v&&(v=M,m=D)}return this._isPushed=!1,void this._applyPosition(m.position,m.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const r=this._lastPosition||this._preferredPositions[0],i=this._getOriginPoint(this._originRect,r);this._applyPosition(r,i)}}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,-1===r.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,i){let o,u;if("center"==i.originX)o=r.left+r.width/2;else{const h=this._isRtl()?r.right:r.left,m=this._isRtl()?r.left:r.right;o="start"==i.originX?h:m}return u="center"==i.originY?r.top+r.height/2:"top"==i.originY?r.top:r.bottom,{x:o,y:u}}_getOverlayPoint(r,i,o){let u,h;return u="center"==o.overlayX?-i.width/2:"start"===o.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,h="center"==o.overlayY?-i.height/2:"top"==o.overlayY?0:-i.height,{x:r.x+u,y:r.y+h}}_getOverlayFit(r,i,o,u){const h=KO(i);let{x:m,y:v}=r,D=this._getOffset(u,"x"),M=this._getOffset(u,"y");D&&(m+=D),M&&(v+=M);let H=0-v,z=v+h.height-o.height,ee=this._subtractOverflows(h.width,0-m,m+h.width-o.width),Ce=this._subtractOverflows(h.height,H,z),Re=ee*Ce;return{visibleArea:Re,isCompletelyWithinViewport:h.width*h.height===Re,fitsInViewportVertically:Ce===h.height,fitsInViewportHorizontally:ee==h.width}}_canFitWithFlexibleDimensions(r,i,o){if(this._hasFlexibleDimensions){const u=o.bottom-i.y,h=o.right-i.x,m=ZO(this._overlayRef.getConfig().minHeight),v=ZO(this._overlayRef.getConfig().minWidth),M=r.fitsInViewportHorizontally||null!=v&&v<=h;return(r.fitsInViewportVertically||null!=m&&m<=u)&&M}return!1}_pushOverlayOnScreen(r,i,o){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};const u=KO(i),h=this._viewportRect,m=Math.max(r.x+u.width-h.width,0),v=Math.max(r.y+u.height-h.height,0),D=Math.max(h.top-o.top-r.y,0),M=Math.max(h.left-o.left-r.x,0);let x=0,N=0;return x=u.width<=h.width?M||-m:r.x<this._viewportMargin?h.left-o.left-r.x:0,N=u.height<=h.height?D||-v:r.y<this._viewportMargin?h.top-o.top-r.y:0,this._previousPushAmount={x,y:N},{x:r.x+x,y:r.y+N}}_applyPosition(r,i){if(this._setTransformOrigin(r),this._setOverlayElementStyles(i,r),this._setBoundingBoxStyles(i,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._lastPosition=r,this._positionChanges.observers.length){const o=this._getScrollVisibility(),u=new xP(r,o);this._positionChanges.next(u)}this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,u=r.overlayY;o="center"===r.overlayX?"center":this._isRtl()?"start"===r.overlayX?"right":"left":"start"===r.overlayX?"left":"right";for(let h=0;h<i.length;h++)i[h].style.transformOrigin=`${o} ${u}`}_calculateBoundingBoxRect(r,i){const o=this._viewportRect,u=this._isRtl();let h,m,v,x,N,H;if("top"===i.overlayY)m=r.y,h=o.height-m+this._viewportMargin;else if("bottom"===i.overlayY)v=o.height-r.y+2*this._viewportMargin,h=o.height-v+this._viewportMargin;else{const z=Math.min(o.bottom-r.y+o.top,r.y),ee=this._lastBoundingBoxSize.height;h=2*z,m=r.y-z,h>ee&&!this._isInitialRender&&!this._growAfterOpen&&(m=r.y-ee/2)}if("end"===i.overlayX&&!u||"start"===i.overlayX&&u)H=o.width-r.x+this._viewportMargin,x=r.x-this._viewportMargin;else if("start"===i.overlayX&&!u||"end"===i.overlayX&&u)N=r.x,x=o.right-r.x;else{const z=Math.min(o.right-r.x+o.left,r.x),ee=this._lastBoundingBoxSize.width;x=2*z,N=r.x-z,x>ee&&!this._isInitialRender&&!this._growAfterOpen&&(N=r.x-ee/2)}return{top:m,left:N,bottom:v,right:H,width:x,height:h}}_setBoundingBoxStyles(r,i){const o=this._calculateBoundingBoxRect(r,i);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const u={};if(this._hasExactPosition())u.top=u.left="0",u.bottom=u.right=u.maxHeight=u.maxWidth="",u.width=u.height="100%";else{const h=this._overlayRef.getConfig().maxHeight,m=this._overlayRef.getConfig().maxWidth;u.height=cr(o.height),u.top=cr(o.top),u.bottom=cr(o.bottom),u.width=cr(o.width),u.left=cr(o.left),u.right=cr(o.right),u.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",u.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",h&&(u.maxHeight=cr(h)),m&&(u.maxWidth=cr(m))}this._lastBoundingBoxSize=o,Sg(this._boundingBox.style,u)}_resetBoundingBoxStyles(){Sg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,i){const o={},u=this._hasExactPosition(),h=this._hasFlexibleDimensions,m=this._overlayRef.getConfig();if(u){const x=this._viewportRuler.getViewportScrollPosition();Sg(o,this._getExactOverlayY(i,r,x)),Sg(o,this._getExactOverlayX(i,r,x))}else o.position="static";let v="",D=this._getOffset(i,"x"),M=this._getOffset(i,"y");D&&(v+=`translateX(${D}px) `),M&&(v+=`translateY(${M}px)`),o.transform=v.trim(),m.maxHeight&&(u?o.maxHeight=cr(m.maxHeight):h&&(o.maxHeight="")),m.maxWidth&&(u?o.maxWidth=cr(m.maxWidth):h&&(o.maxWidth="")),Sg(this._pane.style,o)}_getExactOverlayY(r,i,o){let u={top:"",bottom:""},h=this._getOverlayPoint(i,this._overlayRect,r);this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o));let m=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return h.y-=m,"bottom"===r.overlayY?u.bottom=this._document.documentElement.clientHeight-(h.y+this._overlayRect.height)+"px":u.top=cr(h.y),u}_getExactOverlayX(r,i,o){let m,u={left:"",right:""},h=this._getOverlayPoint(i,this._overlayRect,r);return this._isPushed&&(h=this._pushOverlayOnScreen(h,this._overlayRect,o)),m=this._isRtl()?"end"===r.overlayX?"left":"right":"end"===r.overlayX?"right":"left","right"===m?u.right=this._document.documentElement.clientWidth-(h.x+this._overlayRect.width)+"px":u.left=cr(h.x),u}_getScrollVisibility(){const r=this._getOriginRect(),i=this._pane.getBoundingClientRect(),o=this._scrollables.map(u=>u.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$O(r,o),isOriginOutsideView:Rx(r,o),isOverlayClipped:$O(i,o),isOverlayOutsideView:Rx(i,o)}}_subtractOverflows(r,...i){return i.reduce((o,u)=>o-Math.max(u,0),r)}_getNarrowedViewportRect(){const r=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+r-this._viewportMargin,bottom:o.top+i-this._viewportMargin,width:r-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,i){return"x"===i?null==r.offsetX?this._offsetX:r.offsetX:null==r.offsetY?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&iv(r).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){const r=this._origin;if(r instanceof g.SBq)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();const i=r.width||0,o=r.height||0;return{top:r.y,bottom:r.y+o,left:r.x,right:r.x+i,height:o,width:i}}}function Sg(s,r){for(let i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s}function ZO(s){if("number"!=typeof s&&null!=s){const[r,i]=s.split(kP);return i&&"px"!==i?null:parseFloat(r)}return s||null}function KO(s){return{top:Math.floor(s.top),right:Math.floor(s.right),bottom:Math.floor(s.bottom),left:Math.floor(s.left),width:Math.floor(s.width),height:Math.floor(s.height)}}class PP{constructor(r,i,o,u,h,m,v){this._preferredPositions=[],this._positionStrategy=new WO(o,u,h,m,v).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(r,i),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(r){this._overlayRef=r,this._positionStrategy.attach(r),this._direction&&(r.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(r){this._positionStrategy.withScrollableContainers(r)}withFallbackPosition(r,i,o,u){const h=new MP(r,i,o,u);return this._preferredPositions.push(h),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(r){return this._overlayRef?this._overlayRef.setDirection(r):this._direction=r,this}withOffsetX(r){return this._positionStrategy.withDefaultOffsetX(r),this}withOffsetY(r){return this._positionStrategy.withDefaultOffsetY(r),this}withLockedPosition(r){return this._positionStrategy.withLockedPosition(r),this}withPositions(r){return this._preferredPositions=r.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(r){return this._positionStrategy.setOrigin(r),this}}const YO="cdk-global-overlay-wrapper";class FP{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(r){const i=r.getConfig();this._overlayRef=r,this._width&&!i.width&&r.updateSize({width:this._width}),this._height&&!i.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(YO),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._rightOffset="",this._leftOffset=r,this._justifyContent="flex-start",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._leftOffset="",this._rightOffset=r,this._justifyContent="flex-end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._justifyContent="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const r=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:u,height:h,maxWidth:m,maxHeight:v}=o,D=!("100%"!==u&&"100vw"!==u||m&&"100%"!==m&&"100vw"!==m),M=!("100%"!==h&&"100vh"!==h||v&&"100%"!==v&&"100vh"!==v);r.position=this._cssPosition,r.marginLeft=D?"0":this._leftOffset,r.marginTop=M?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=this._rightOffset,D?i.justifyContent="flex-start":"center"===this._justifyContent?i.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?i.justifyContent="flex-end":"flex-end"===this._justifyContent&&(i.justifyContent="flex-start"):i.justifyContent=this._justifyContent,i.alignItems=M?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const r=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,o=i.style;i.classList.remove(YO),o.justifyContent=o.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}}let LP=(()=>{class s{constructor(i,o,u,h){this._viewportRuler=i,this._document=o,this._platform=u,this._overlayContainer=h}global(){return new FP}connectedTo(i,o,u){return new PP(o,u,i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(i){return new WO(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(k0),g.LFG(se),g.LFG(rn),g.LFG(Nx))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(k0),g.LFG(se),g.LFG(rn),g.LFG(Nx))},token:s,providedIn:"root"}),s})(),VP=0,P0=(()=>{class s{constructor(i,o,u,h,m,v,D,M,x,N,H){this.scrollStrategies=i,this._overlayContainer=o,this._componentFactoryResolver=u,this._positionBuilder=h,this._keyboardDispatcher=m,this._injector=v,this._ngZone=D,this._document=M,this._directionality=x,this._location=N,this._outsideClickDispatcher=H}create(i){const o=this._createHostElement(),u=this._createPaneElement(o),h=this._createPortalOutlet(u),m=new Ox(i);return m.direction=m.direction||this._directionality.value,new NP(h,o,u,m,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(i){const o=this._document.createElement("div");return o.id="cdk-overlay-"+VP++,o.classList.add("cdk-overlay-pane"),i.appendChild(o),o}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new fP(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(AP),g.LFG(Nx),g.LFG(g._Vd),g.LFG(LP),g.LFG(RP),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(se),g.LFG(O0),g.LFG(Xe),g.LFG(OP))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const jP={provide:new g.OlP("cdk-connected-overlay-scroll-strategy"),deps:[P0],useFactory:function(s){return()=>s.scrollStrategies.reposition()}};let HP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:[P0,jP],imports:[[N0,BO,LO],LO]}),s})();function JO(s){return r=>r.lift(new $P(s))}class $P{constructor(r){this.total=r}call(r,i){return i.subscribe(new GP(r,this.total))}}class GP extends $r.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){++this.count>this.total&&this.destination.next(r)}}class zP{constructor(r,i){this.dueTime=r,this.scheduler=i}call(r,i){return i.subscribe(new qP(r,this.dueTime,this.scheduler))}}class qP extends $r.L{constructor(r,i,o){super(r),this.dueTime=i,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(WP,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:r}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}}clearDebounce(){const r=this.debouncedSubscription;null!==r&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)}}function WP(s){s.debouncedNext()}function oN(s){return 0===s.offsetX&&0===s.offsetY}function aN(s){const r=s.touches&&s.touches[0]||s.changedTouches&&s.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}"undefined"!=typeof Element&&Element;const lN=new g.OlP("cdk-input-modality-detector-options"),fF={ignoreKeys:[18,17,224,91,16]},av=Dg({passive:!0,capture:!0});let cN=(()=>{class s{constructor(i,o,u,h){this._platform=i,this._mostRecentTarget=null,this._modality=new li(null),this._lastTouchMs=0,this._onKeydown=m=>{var v,D;(null===(D=null===(v=this._options)||void 0===v?void 0:v.ignoreKeys)||void 0===D?void 0:D.some(M=>M===m.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ov(m))},this._onMousedown=m=>{Date.now()-this._lastTouchMs<650||(this._modality.next(oN(m)?"keyboard":"mouse"),this._mostRecentTarget=ov(m))},this._onTouchstart=m=>{aN(m)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ov(m))},this._options=Object.assign(Object.assign({},fF),h),this.modalityDetected=this._modality.pipe(JO(1)),this.modalityChanged=this.modalityDetected.pipe(n_()),i.isBrowser&&o.runOutsideAngular(()=>{u.addEventListener("keydown",this._onKeydown,av),u.addEventListener("mousedown",this._onMousedown,av),u.addEventListener("touchstart",this._onTouchstart,av)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,av),document.removeEventListener("mousedown",this._onMousedown,av),document.removeEventListener("touchstart",this._onTouchstart,av))}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(rn),g.LFG(g.R0b),g.LFG(se),g.LFG(lN,8))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(rn),g.LFG(g.R0b),g.LFG(se),g.LFG(lN,8))},token:s,providedIn:"root"}),s})();const dN=new g.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),hN=new g.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Px=(()=>{class s{constructor(i,o,u,h){this._ngZone=o,this._defaultOptions=h,this._document=u,this._liveElement=i||this._createLiveElement()}announce(i,...o){const u=this._defaultOptions;let h,m;return 1===o.length&&"number"==typeof o[0]?m=o[0]:[h,m]=o,this.clear(),clearTimeout(this._previousTimeout),h||(h=u&&u.politeness?u.politeness:"polite"),null==m&&u&&(m=u.duration),this._liveElement.setAttribute("aria-live",h),this._ngZone.runOutsideAngular(()=>new Promise(v=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,v(),"number"==typeof m&&(this._previousTimeout=setTimeout(()=>this.clear(),m))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const i="cdk-live-announcer-element",o=this._document.getElementsByClassName(i),u=this._document.createElement("div");for(let h=0;h<o.length;h++)o[h].parentNode.removeChild(o[h]);return u.classList.add(i),u.classList.add("cdk-visually-hidden"),u.setAttribute("aria-atomic","true"),u.setAttribute("aria-live","polite"),this._document.body.appendChild(u),u}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(dN,8),g.LFG(g.R0b),g.LFG(se),g.LFG(hN,8))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(dN,8),g.LFG(g.R0b),g.LFG(se),g.LFG(hN,8))},token:s,providedIn:"root"}),s})();const fN=new g.OlP("cdk-focus-monitor-default-options"),NT=Dg({passive:!0,capture:!0});let Fx=(()=>{class s{constructor(i,o,u,h,m){this._ngZone=i,this._platform=o,this._inputModalityDetector=u,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Vt.xQ,this._rootNodeFocusAndBlurListener=v=>{const D=ov(v),M="focus"===v.type?this._onFocus:this._onBlur;for(let x=D;x;x=x.parentElement)M.call(this,v,x)},this._document=h,this._detectionMode=(null==m?void 0:m.detectionMode)||0}monitor(i,o=!1){const u=$h(i);if(!this._platform.isBrowser||1!==u.nodeType)return(0,rt.of)(null);const h=function(s){if(function(){if(null==Tx){const s="undefined"!=typeof document?document.head:null;Tx=!(!s||!s.createShadowRoot&&!s.attachShadow)}return Tx}()){const r=s.getRootNode?s.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}(u)||this._getDocument(),m=this._elementInfo.get(u);if(m)return o&&(m.checkChildren=!0),m.subject;const v={checkChildren:o,subject:new Vt.xQ,rootNode:h};return this._elementInfo.set(u,v),this._registerGlobalListeners(v),v.subject}stopMonitoring(i){const o=$h(i),u=this._elementInfo.get(o);u&&(u.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(u))}focusVia(i,o,u){const h=$h(i);h===this._getDocument().activeElement?this._getClosestElementsInfo(h).forEach(([v,D])=>this._originChanged(v,o,D)):(this._setOrigin(o),"function"==typeof h.focus&&h.focus(u))}ngOnDestroy(){this._elementInfo.forEach((i,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(i,o,u){u?i.classList.add(o):i.classList.remove(o)}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!(null==i?void 0:i.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(i,o){this._toggleClass(i,"cdk-focused",!!o),this._toggleClass(i,"cdk-touch-focused","touch"===o),this._toggleClass(i,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(i,"cdk-mouse-focused","mouse"===o),this._toggleClass(i,"cdk-program-focused","program"===o)}_setOrigin(i,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,o){const u=this._elementInfo.get(o),h=ov(i);!u||!u.checkChildren&&o!==h||this._originChanged(o,this._getFocusOrigin(h),u)}_onBlur(i,o){const u=this._elementInfo.get(o);!u||u.checkChildren&&i.relatedTarget instanceof Node&&o.contains(i.relatedTarget)||(this._setClasses(o),this._emitOrigin(u.subject,null))}_emitOrigin(i,o){this._ngZone.run(()=>i.next(o))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const o=i.rootNode,u=this._rootNodeFocusListenerCount.get(o)||0;u||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,NT),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,NT)}),this._rootNodeFocusListenerCount.set(o,u+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ct(this._stopInputModalityDetector)).subscribe(h=>{this._setOrigin(h,!0)}))}_removeGlobalListeners(i){const o=i.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const u=this._rootNodeFocusListenerCount.get(o);u>1?this._rootNodeFocusListenerCount.set(o,u-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,NT),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,NT),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,o,u){this._setClasses(i,o),this._emitOrigin(u.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(i){const o=[];return this._elementInfo.forEach((u,h)=>{(h===i||u.checkChildren&&h.contains(i))&&o.push([h,u])}),o}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.R0b),g.LFG(rn),g.LFG(cN),g.LFG(se,8),g.LFG(fN,8))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(g.R0b),g.LFG(rn),g.LFG(cN),g.LFG(se,8),g.LFG(fN,8))},token:s,providedIn:"root"}),s})();const pN="cdk-high-contrast-black-on-white",gN="cdk-high-contrast-white-on-black",Lx="cdk-high-contrast-active";let mN=(()=>{class s{constructor(i,o){this._platform=i,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const o=this._document.defaultView||window,u=o&&o.getComputedStyle?o.getComputedStyle(i):null,h=(u&&u.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(i),h){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(Lx),i.remove(pN),i.remove(gN),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(i.add(Lx),i.add(pN)):2===o&&(i.add(Lx),i.add(gN))}}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(rn),g.LFG(se))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(rn),g.LFG(se))},token:s,providedIn:"root"}),s})();const _N=new g.GfV("12.2.4");class yN{}const yc="*";function mF(s,r){return{type:7,name:s,definitions:r,options:{}}}function vN(s,r=null){return{type:4,styles:r,timings:s}}function bN(s,r=null){return{type:2,steps:s,options:r}}function F0(s){return{type:6,styles:s,offset:null}}function EN(s,r,i){return{type:0,name:s,styles:r,options:i}}function wN(s,r,i=null){return{type:1,expr:s,animation:r,options:i}}function CN(s){Promise.resolve(null).then(s)}class lv{constructor(r=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class DN{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let i=0,o=0,u=0;const h=this.players.length;0==h?CN(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++i==h&&this._onFinish()}),m.onDestroy(()=>{++o==h&&this._onDestroy()}),m.onStart(()=>{++u==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,v)=>Math.max(m,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const i=r*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(u)})}getPosition(){const r=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}function IN(){return"undefined"!=typeof window&&void 0!==window.document}function Bx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zh(s){switch(s.length){case 0:return new lv;case 1:return s[0];default:return new DN(s)}}function SN(s,r,i,o,u={},h={}){const m=[],v=[];let D=-1,M=null;if(o.forEach(x=>{const N=x.offset,H=N==D,z=H&&M||{};Object.keys(x).forEach(ee=>{let Ce=ee,Re=x[ee];if("offset"!==ee)switch(Ce=r.normalizePropertyName(Ce,m),Re){case"!":Re=u[ee];break;case yc:Re=h[ee];break;default:Re=r.normalizeStyleValue(ee,Ce,Re,m)}z[Ce]=Re}),H||v.push(z),M=z,D=N}),m.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${m.join(x)}`)}return v}function Ux(s,r,i,o){switch(r){case"start":s.onStart(()=>o(i&&jx(i,"start",s)));break;case"done":s.onDone(()=>o(i&&jx(i,"done",s)));break;case"destroy":s.onDestroy(()=>o(i&&jx(i,"destroy",s)))}}function jx(s,r,i){const o=i.totalTime,h=Hx(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==o?s.totalTime:o,!!i.disabled),m=s._data;return null!=m&&(h._data=m),h}function Hx(s,r,i,o,u="",h=0,m){return{element:s,triggerName:r,fromState:i,toState:o,phaseName:u,totalTime:h,disabled:!!m}}function eo(s,r,i){let o;return s instanceof Map?(o=s.get(r),o||s.set(r,o=i)):(o=s[r],o||(o=s[r]=i)),o}function TN(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}let $x=(s,r)=>!1,Gx=(s,r)=>!1,AN=(s,r,i)=>[];const MN=Bx();(MN||"undefined"!=typeof Element)&&($x=IN()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),Gx=(()=>{if(MN||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(i,o)=>r.apply(i,[o]):Gx}})(),AN=(s,r,i)=>{let o=[];if(i){const u=s.querySelectorAll(r);for(let h=0;h<u.length;h++)o.push(u[h])}else{const u=s.querySelector(r);u&&o.push(u)}return o});let Tg=null,xN=!1;function zx(s){Tg||(Tg=("undefined"!=typeof document?document.body:null)||{},xN=!!Tg.style&&"WebkitAppearance"in Tg.style);let r=!0;return Tg.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in Tg.style,!r&&xN&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in Tg.style)),r}const qx=Gx,Wx=$x,Zx=AN;function RN(s){const r={};return Object.keys(s).forEach(i=>{const o=i.replace(/([a-z])([A-Z])/g,"$1-$2");r[o]=s[i]}),r}let ON=(()=>{class s{validateStyleProperty(i){return zx(i)}matchesElement(i,o){return qx(i,o)}containsElement(i,o){return Wx(i,o)}query(i,o,u){return Zx(i,o,u)}computeStyle(i,o,u){return u||""}animate(i,o,u,h,m,v=[],D){return new lv(u,h)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class kT{}kT.NOOP=new ON;const Kx="ng-enter",PT="ng-leave",FT="ng-trigger",LT=".ng-trigger",kN="ng-animating",Yx=".ng-animating";function Ag(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Qx(parseFloat(r[1]),r[2])}function Qx(s,r){switch(r){case"s":return 1e3*s;default:return s}}function VT(s,r,i){return s.hasOwnProperty("duration")?s:function(s,r,i){let u,h=0,m="";if("string"==typeof s){const v=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};u=Qx(parseFloat(v[1]),v[2]);const D=v[3];null!=D&&(h=Qx(parseFloat(D),v[4]));const M=v[5];M&&(m=M)}else u=s;if(!i){let v=!1,D=r.length;u<0&&(r.push("Duration values below 0 are not allowed for this animation step."),v=!0),h<0&&(r.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&r.splice(D,0,`The provided timing value "${s}" is invalid.`)}return{duration:u,delay:h,easing:m}}(s,r,i)}function uv(s,r={}){return Object.keys(s).forEach(i=>{r[i]=s[i]}),r}function qh(s,r,i={}){if(r)for(let o in s)i[o]=s[o];else uv(s,i);return i}function FN(s,r,i){return i?r+":"+i+";":""}function LN(s){let r="";for(let i=0;i<s.style.length;i++){const o=s.style.item(i);r+=FN(0,o,s.style.getPropertyValue(o))}for(const i in s.style)s.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=FN(0,DF(i),s.style[i]));s.setAttribute("style",r)}function jl(s,r,i){s.style&&(Object.keys(r).forEach(o=>{const u=Xx(o);i&&!i.hasOwnProperty(o)&&(i[o]=s.style[u]),s.style[u]=r[o]}),Bx()&&LN(s))}function Mg(s,r){s.style&&(Object.keys(r).forEach(i=>{const o=Xx(i);s.style[o]=""}),Bx()&&LN(s))}function L0(s){return Array.isArray(s)?1==s.length?s[0]:bN(s):s}const Jx=new RegExp("{{\\s*(.+?)\\s*}}","g");function VN(s){let r=[];if("string"==typeof s){let i;for(;i=Jx.exec(s);)r.push(i[1]);Jx.lastIndex=0}return r}function BT(s,r,i){const o=s.toString(),u=o.replace(Jx,(h,m)=>{let v=r[m];return r.hasOwnProperty(m)||(i.push(`Please provide a value for the animation param ${m}`),v=""),v.toString()});return u==o?s:u}function UT(s){const r=[];let i=s.next();for(;!i.done;)r.push(i.value),i=s.next();return r}const CF=/-+([a-z0-9])/g;function Xx(s){return s.replace(CF,(...r)=>r[1].toUpperCase())}function DF(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function BN(s,r){return 0===s||0===r}function UN(s,r,i){const o=Object.keys(i);if(o.length&&r.length){let h=r[0],m=[];if(o.forEach(v=>{h.hasOwnProperty(v)||m.push(v),h[v]=i[v]}),m.length)for(var u=1;u<r.length;u++){let v=r[u];m.forEach(function(D){v[D]=eR(s,D)})}}return r}function to(s,r,i){switch(r.type){case 7:return s.visitTrigger(r,i);case 0:return s.visitState(r,i);case 1:return s.visitTransition(r,i);case 2:return s.visitSequence(r,i);case 3:return s.visitGroup(r,i);case 4:return s.visitAnimate(r,i);case 5:return s.visitKeyframes(r,i);case 6:return s.visitStyle(r,i);case 8:return s.visitReference(r,i);case 9:return s.visitAnimateChild(r,i);case 10:return s.visitAnimateRef(r,i);case 11:return s.visitQuery(r,i);case 12:return s.visitStagger(r,i);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function eR(s,r){return window.getComputedStyle(s)[r]}function IF(s,r){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,r,i){if(":"==s[0]){const D=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,i);if("function"==typeof D)return void r.push(D);s=D}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(`The provided transition expression "${s}" is not supported`),r;const u=o[1],h=o[2],m=o[3];r.push(jN(u,m));"<"==h[0]&&!("*"==u&&"*"==m)&&r.push(jN(m,u))}(o,i,r)):i.push(s),i}const HT=new Set(["true","1"]),$T=new Set(["false","0"]);function jN(s,r){const i=HT.has(s)||$T.has(s),o=HT.has(r)||$T.has(r);return(u,h)=>{let m="*"==s||s==u,v="*"==r||r==h;return!m&&i&&"boolean"==typeof u&&(m=u?HT.has(s):$T.has(s)),!v&&o&&"boolean"==typeof h&&(v=h?HT.has(r):$T.has(r)),m&&v}}const AF=new RegExp("s*:selfs*,?","g");function tR(s,r,i){return new MF(s).build(r,i)}class MF{constructor(r){this._driver=r}build(r,i){const o=new OF(i);return this._resetContextStyleTimingState(o),to(this,L0(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,i){let o=i.queryCount=0,u=i.depCount=0;const h=[],m=[];return"@"==r.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(v=>{if(this._resetContextStyleTimingState(i),0==v.type){const D=v,M=D.name;M.toString().split(/\s*,\s*/).forEach(x=>{D.name=x,h.push(this.visitState(D,i))}),D.name=M}else if(1==v.type){const D=this.visitTransition(v,i);o+=D.queryCount,u+=D.depCount,m.push(D)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:h,transitions:m,queryCount:o,depCount:u,options:null}}visitState(r,i){const o=this.visitStyle(r.styles,i),u=r.options&&r.options.params||null;if(o.containsDynamicStyles){const h=new Set,m=u||{};if(o.styles.forEach(v=>{if(GT(v)){const D=v;Object.keys(D).forEach(M=>{VN(D[M]).forEach(x=>{m.hasOwnProperty(x)||h.add(x)})})}}),h.size){const v=UT(h.values());i.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:r.name,style:o,options:u?{params:u}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const o=to(this,L0(r.animation),i);return{type:1,matchers:IF(r.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:xg(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(o=>to(this,o,i)),options:xg(r.options)}}visitGroup(r,i){const o=i.currentTime;let u=0;const h=r.steps.map(m=>{i.currentTime=o;const v=to(this,m,i);return u=Math.max(u,i.currentTime),v});return i.currentTime=u,{type:3,steps:h,options:xg(r.options)}}visitAnimate(r,i){const o=function(s,r){let i=null;if(s.hasOwnProperty("duration"))i=s;else if("number"==typeof s)return nR(VT(s,r).duration,0,"");const o=s;if(o.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=nR(0,0,"");return h.dynamic=!0,h.strValue=o,h}return i=i||VT(o,r),nR(i.duration,i.delay,i.easing)}(r.timings,i.errors);i.currentAnimateTimings=o;let u,h=r.styles?r.styles:F0({});if(5==h.type)u=this.visitKeyframes(h,i);else{let m=r.styles,v=!1;if(!m){v=!0;const M={};o.easing&&(M.easing=o.easing),m=F0(M)}i.currentTime+=o.duration+o.delay;const D=this.visitStyle(m,i);D.isEmptyStep=v,u=D}return i.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(r,i){const o=this._makeStyleAst(r,i);return this._validateStyleAst(o,i),o}_makeStyleAst(r,i){const o=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==yc?o.push(m):i.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(r.styles);let u=!1,h=null;return o.forEach(m=>{if(GT(m)){const v=m,D=v.easing;if(D&&(h=D,delete v.easing),!u)for(let M in v)if(v[M].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:h,offset:r.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(r,i){const o=i.currentAnimateTimings;let u=i.currentTime,h=i.currentTime;o&&h>0&&(h-=o.duration+o.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void i.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const D=i.collectedStyles[i.currentQuerySelector],M=D[v];let x=!0;M&&(h!=u&&h>=M.startTime&&u<=M.endTime&&(i.errors.push(`The CSS property "${v}" that exists between the times of "${M.startTime}ms" and "${M.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${u}ms"`),x=!1),h=M.startTime),x&&(D[v]={startTime:h,endTime:u}),i.options&&function(s,r,i){const o=r.params||{},u=VN(s);u.length&&u.forEach(h=>{o.hasOwnProperty(h)||i.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[v],i.options,i.errors)})})}visitKeyframes(r,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;let h=0;const m=[];let v=!1,D=!1,M=0;const x=r.steps.map(tt=>{const lt=this._makeStyleAst(tt,i);let at=null!=lt.offset?lt.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(i=>{if(GT(i)&&i.hasOwnProperty("offset")){const o=i;r=parseFloat(o.offset),delete o.offset}});else if(GT(s)&&s.hasOwnProperty("offset")){const i=s;r=parseFloat(i.offset),delete i.offset}return r}(lt.styles),bt=0;return null!=at&&(h++,bt=lt.offset=at),D=D||bt<0||bt>1,v=v||bt<M,M=bt,m.push(bt),lt});D&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&i.errors.push("Please ensure that all keyframe offsets are in order");const N=r.steps.length;let H=0;h>0&&h<N?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(H=1/(N-1));const z=N-1,ee=i.currentTime,Ce=i.currentAnimateTimings,Re=Ce.duration;return x.forEach((tt,lt)=>{const at=H>0?lt==z?1:H*lt:m[lt],bt=at*Re;i.currentTime=ee+Ce.delay+bt,Ce.duration=bt,this._validateStyleAst(tt,i),tt.offset=at,o.styles.push(tt)}),o}visitReference(r,i){return{type:8,animation:to(this,L0(r.animation),i),options:xg(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:xg(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:xg(r.options)}}visitQuery(r,i){const o=i.currentQuerySelector,u=r.options||{};i.queryCount++,i.currentQuery=r;const[h,m]=function(s){const r=!!s.split(/\s*,\s*/).find(i=>":self"==i);return r&&(s=s.replace(AF,"")),[s=s.replace(/@\*/g,LT).replace(/@\w+/g,i=>LT+"-"+i.substr(1)).replace(/:animating/g,Yx),r]}(r.selector);i.currentQuerySelector=o.length?o+" "+h:h,eo(i.collectedStyles,i.currentQuerySelector,{});const v=to(this,L0(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:h,limit:u.limit||0,optional:!!u.optional,includeSelf:m,animation:v,originalSelector:r.selector,options:xg(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:VT(r.timings,i.errors,!0);return{type:12,animation:to(this,L0(r.animation),i),timings:o,options:null}}}class OF{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function GT(s){return!Array.isArray(s)&&"object"==typeof s}function xg(s){return s?(s=uv(s)).params&&(s.params=function(s){return s?uv(s):null}(s.params)):s={},s}function nR(s,r,i){return{duration:s,delay:r,easing:i}}function rR(s,r,i,o,u,h,m=null,v=!1){return{type:1,element:s,keyframes:r,preStyleProps:i,postStyleProps:o,duration:u,delay:h,totalTime:u+h,easing:m,subTimeline:v}}class zT{constructor(){this._map=new Map}consume(r){let i=this._map.get(r);return i?this._map.delete(r):i=[],i}append(r,i){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const LF=new RegExp(":enter","g"),BF=new RegExp(":leave","g");function iR(s,r,i,o,u,h={},m={},v,D,M=[]){return(new UF).buildKeyframes(s,r,i,o,u,h,m,v,D,M)}class UF{buildKeyframes(r,i,o,u,h,m,v,D,M,x=[]){M=M||new zT;const N=new sR(r,i,M,u,h,x,[]);N.options=D,N.currentTimeline.setStyles([m],null,N.errors,D),to(this,o,N);const H=N.timelines.filter(z=>z.containsAnimation());if(H.length&&Object.keys(v).length){const z=H[H.length-1];z.allowOnlyTimelineStyles()||z.setStyles([v],null,N.errors,D)}return H.length?H.map(z=>z.buildKeyframes()):[rR(i,[],[],[],0,0,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const o=i.subInstructions.consume(i.element);if(o){const u=i.createSubContext(r.options),h=i.currentTimeline.currentTime,m=this._visitSubInstructions(o,u,u.options);h!=m&&i.transformIntoNewTimeline(m)}i.previousNode=r}visitAnimateRef(r,i){const o=i.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=r}_visitSubInstructions(r,i,o){let h=i.currentTimeline.currentTime;const m=null!=o.duration?Ag(o.duration):null,v=null!=o.delay?Ag(o.delay):null;return 0!==m&&r.forEach(D=>{const M=i.appendInstructionToTimeline(D,m,v);h=Math.max(h,M.duration+M.delay)}),h}visitReference(r,i){i.updateOptions(r.options,!0),to(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const o=i.subContextCount;let u=i;const h=r.options;if(h&&(h.params||h.delay)&&(u=i.createSubContext(h),u.transformIntoNewTimeline(),null!=h.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=qT);const m=Ag(h.delay);u.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>to(this,m,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const o=[];let u=i.currentTimeline.currentTime;const h=r.options&&r.options.delay?Ag(r.options.delay):0;r.steps.forEach(m=>{const v=i.createSubContext(r.options);h&&v.delayNextStep(h),to(this,m,v),u=Math.max(u,v.currentTimeline.currentTime),o.push(v.currentTimeline)}),o.forEach(m=>i.currentTimeline.mergeTimelineCollectedStyles(m)),i.transformIntoNewTimeline(u),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const o=r.strValue;return VT(i.params?BT(o,i.params,i.errors):o,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const o=i.currentAnimateTimings=this._visitTiming(r.timings,i),u=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),u.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,i):(i.incrementTime(o.duration),this.visitStyle(h,i),u.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const o=i.currentTimeline,u=i.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const h=u&&u.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(h):o.setStyles(r.styles,h,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const o=i.currentAnimateTimings,u=i.currentTimeline.duration,h=o.duration,v=i.createSubContext().currentTimeline;v.easing=o.easing,r.styles.forEach(D=>{v.forwardTime((D.offset||0)*h),v.setStyles(D.styles,D.easing,i.errors,i.options),v.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(v),i.transformIntoNewTimeline(u+h),i.previousNode=r}visitQuery(r,i){const o=i.currentTimeline.currentTime,u=r.options||{},h=u.delay?Ag(u.delay):0;h&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qT);let m=o;const v=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!u.optional,i.errors);i.currentQueryTotal=v.length;let D=null;v.forEach((M,x)=>{i.currentQueryIndex=x;const N=i.createSubContext(r.options,M);h&&N.delayNextStep(h),M===i.element&&(D=N.currentTimeline),to(this,r.animation,N),N.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,N.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(m),D&&(i.currentTimeline.mergeTimelineCollectedStyles(D),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const o=i.parentContext,u=i.currentTimeline,h=r.timings,m=Math.abs(h.duration),v=m*(i.currentQueryTotal-1);let D=m*i.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":D=v-D;break;case"full":D=o.currentStaggerTime}const x=i.currentTimeline;D&&x.delayNextStep(D);const N=x.currentTime;to(this,r.animation,i),i.previousNode=r,o.currentStaggerTime=u.currentTime-N+(u.startTime-o.currentTimeline.startTime)}}const qT={};class sR{constructor(r,i,o,u,h,m,v,D){this._driver=r,this.element=i,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=h,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=D||new WT(this._driver,i,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const o=r;let u=this.options;null!=o.duration&&(u.duration=Ag(o.duration)),null!=o.delay&&(u.delay=Ag(o.delay));const h=o.params;if(h){let m=u.params;m||(m=this.options.params={}),Object.keys(h).forEach(v=>{(!i||!m.hasOwnProperty(v))&&(m[v]=BT(h[v],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const o=r.params={};Object.keys(i).forEach(u=>{o[u]=i[u]})}}return r}createSubContext(r=null,i,o){const u=i||this.element,h=new sR(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=qT,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,o){const u={duration:null!=i?i:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},h=new jF(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,u,r.stretchStartingKeyframe);return this.timelines.push(h),u}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,o,u,h,m){let v=[];if(u&&v.push(this.element),r.length>0){r=(r=r.replace(LF,"."+this._enterClassName)).replace(BF,"."+this._leaveClassName);let M=this._driver.query(this.element,r,1!=o);0!==o&&(M=o<0?M.slice(M.length+o,M.length):M.slice(0,o)),v.push(...M)}return!h&&0==v.length&&m.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),v}}class WT{constructor(r,i,o,u){this._driver=r,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new WT(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles[r]=i,this._globalTimelineStyles[r]=i,this._styleSummary[r]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||yc,this._currentKeyframe[i]=yc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,o,u){i&&(this._previousKeyframe.easing=i);const h=u&&u.params||{},m=function(s,r){const i={};let o;return s.forEach(u=>{"*"===u?(o=o||Object.keys(r),o.forEach(h=>{i[h]=yc})):qh(u,!1,i)}),i}(r,this._globalTimelineStyles);Object.keys(m).forEach(v=>{const D=BT(m[v],h,o);this._pendingStyles[v]=D,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:yc),this._updateStyle(v,D)})}applyStylesToKeyframe(){const r=this._pendingStyles,i=Object.keys(r);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const i=this._localTimelineStyles[r];this._pendingStyles[r]=i,this._updateStyle(r,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(i=>{const o=this._styleSummary[i],u=r._styleSummary[i];(!o||u.time>o.time)&&this._updateStyle(i,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((v,D)=>{const M=qh(v,!0);Object.keys(M).forEach(x=>{const N=M[x];"!"==N?r.add(x):N==yc&&i.add(x)}),o||(M.offset=D/this.duration),u.push(M)});const h=r.size?UT(r.values()):[],m=i.size?UT(i.values()):[];if(o){const v=u[0],D=uv(v);v.offset=0,D.offset=1,u=[v,D]}return rR(this.element,u,h,m,this.duration,this.startTime,this.easing,!1)}}class jF extends WT{constructor(r,i,o,u,h,m,v=!1){super(r,i,m.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=h,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&i){const h=[],m=o+i,v=i/m,D=qh(r[0],!1);D.offset=0,h.push(D);const M=qh(r[0],!1);M.offset=GN(v),h.push(M);const x=r.length-1;for(let N=1;N<=x;N++){let H=qh(r[N],!1);H.offset=GN((i+H.offset*o)/m),h.push(H)}o=m,i=0,u="",r=h}return rR(this.element,r,this.preStyleProps,this.postStyleProps,o,i,u,!0)}}function GN(s,r=3){const i=Math.pow(10,r-1);return Math.round(s*i)/i}class oR{}class $F extends oR{normalizePropertyName(r,i){return Xx(r)}normalizeStyleValue(r,i,o,u){let h="";const m=o.toString().trim();if(GF[i]&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&u.push(`Please provide a CSS unit value for ${r}:${o}`)}return m+h}}const GF=(()=>function(s){const r={};return s.forEach(i=>r[i]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zN(s,r,i,o,u,h,m,v,D,M,x,N,H){return{type:0,element:s,triggerName:r,isRemovalTransition:u,fromState:i,fromStyles:h,toState:o,toStyles:m,timelines:v,queriedElements:D,preStyleProps:M,postStyleProps:x,totalTime:N,errors:H}}const aR={};class qN{constructor(r,i,o){this._triggerName=r,this.ast=i,this._stateStyles=o}match(r,i,o,u){return function(s,r,i,o,u){return s.some(h=>h(r,i,o,u))}(this.ast.matchers,r,i,o,u)}buildStyles(r,i,o){const u=this._stateStyles["*"],h=this._stateStyles[r],m=u?u.buildStyles(i,o):{};return h?h.buildStyles(i,o):m}build(r,i,o,u,h,m,v,D,M,x){const N=[],H=this.ast.options&&this.ast.options.params||aR,ee=this.buildStyles(o,v&&v.params||aR,N),Ce=D&&D.params||aR,Re=this.buildStyles(u,Ce,N),tt=new Set,lt=new Map,at=new Map,bt="void"===u,$n={params:Object.assign(Object.assign({},H),Ce)},Ji=x?[]:iR(r,i,this.ast.animation,h,m,ee,Re,$n,M,N);let Xi=0;if(Ji.forEach(bc=>{Xi=Math.max(bc.duration+bc.delay,Xi)}),N.length)return zN(i,this._triggerName,o,u,bt,ee,Re,[],[],lt,at,Xi,N);Ji.forEach(bc=>{const Ec=bc.element,Gk=eo(lt,Ec,{});bc.preStyleProps.forEach(Og=>Gk[Og]=!0);const U0=eo(at,Ec,{});bc.postStyleProps.forEach(Og=>U0[Og]=!0),Ec!==i&&tt.add(Ec)});const vc=UT(tt.values());return zN(i,this._triggerName,o,u,bt,ee,Re,Ji,vc,lt,at,Xi)}}class WF{constructor(r,i,o){this.styles=r,this.defaultParams=i,this.normalizer=o}buildStyles(r,i){const o={},u=uv(this.defaultParams);return Object.keys(r).forEach(h=>{const m=r[h];null!=m&&(u[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(v=>{let D=m[v];D.length>1&&(D=BT(D,u,i));const M=this.normalizer.normalizePropertyName(v,i);D=this.normalizer.normalizeStyleValue(v,M,D,i),o[M]=D})}}),o}}class KF{constructor(r,i,o){this.name=r,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(u=>{this.states[u.name]=new WF(u.style,u.options&&u.options.params||{},o)}),WN(this.states,"true","1"),WN(this.states,"false","0"),i.transitions.forEach(u=>{this.transitionFactories.push(new qN(r,u,this.states))}),this.fallbackTransition=function(s,r,i){return new qN(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,o,u){return this.transitionFactories.find(m=>m.match(r,i,o,u))||null}matchStyles(r,i,o){return this.fallbackTransition.buildStyles(r,i,o)}}function WN(s,r,i){s.hasOwnProperty(r)?s.hasOwnProperty(i)||(s[i]=s[r]):s.hasOwnProperty(i)&&(s[r]=s[i])}const QF=new zT;class JF{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,i){const o=[],u=tR(this._driver,i,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[r]=u}_buildPlayer(r,i,o){const u=r.element,h=SN(0,this._normalizer,0,r.keyframes,i,o);return this._driver.animate(u,h,r.duration,r.delay,r.easing,[],!0)}create(r,i,o={}){const u=[],h=this._animations[r];let m;const v=new Map;if(h?(m=iR(this._driver,i,h,Kx,PT,{},{},o,QF,u),m.forEach(x=>{const N=eo(v,x.element,{});x.postStyleProps.forEach(H=>N[H]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),m=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);v.forEach((x,N)=>{Object.keys(x).forEach(H=>{x[H]=this._driver.computeStyle(N,H,yc)})});const M=zh(m.map(x=>{const N=v.get(x.element);return this._buildPlayer(x,{},N)}));return this._playersById[r]=M,M.onDestroy(()=>this.destroy(r)),this.players.push(M),M}destroy(r){const i=this._getPlayer(r);i.destroy(),delete this._playersById[r];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(r){const i=this._playersById[r];if(!i)throw new Error(`Unable to find the timeline player referenced by ${r}`);return i}listen(r,i,o,u){const h=Hx(i,"","","");return Ux(this._getPlayer(r),o,h,u),()=>{}}command(r,i,o,u){if("register"==o)return void this.register(r,u[0]);if("create"==o)return void this.create(r,i,u[0]||{});const h=this._getPlayer(r);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(r)}}}const ZN="ng-animate-queued",KN="ng-animate-disabled",YN=".ng-animate-disabled",nL=[],QN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class lR{constructor(r,i=""){this.namespaceId=i;const o=r&&r.hasOwnProperty("value");if(this.value=function(s){return null!=s?s:null}(o?r.value:r),o){const h=uv(r);delete h.value,this.options=h}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const i=r.params;if(i){const o=this.options.params;Object.keys(i).forEach(u=>{null==o[u]&&(o[u]=i[u])})}}}const V0="void",uR=new lR(V0);class iL{constructor(r,i,o){this.id=r,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Bo(i,this._hostClassName)}listen(r,i,o,u){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${i}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if(!function(s){return"start"==s||"done"==s}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${i}" is not supported!`);const h=eo(this._elementListeners,r,[]),m={name:i,phase:o,callback:u};h.push(m);const v=eo(this._engine.statesByElement,r,{});return v.hasOwnProperty(i)||(Bo(r,FT),Bo(r,FT+"-"+i),v[i]=uR),()=>{this._engine.afterFlush(()=>{const D=h.indexOf(m);D>=0&&h.splice(D,1),this._triggers[i]||delete v[i]})}}register(r,i){return!this._triggers[r]&&(this._triggers[r]=i,!0)}_getTrigger(r){const i=this._triggers[r];if(!i)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return i}trigger(r,i,o,u=!0){const h=this._getTrigger(i),m=new cR(this.id,i,r);let v=this._engine.statesByElement.get(r);v||(Bo(r,FT),Bo(r,FT+"-"+i),this._engine.statesByElement.set(r,v={}));let D=v[i];const M=new lR(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&D&&M.absorbOptions(D.options),v[i]=M,D||(D=uR),M.value!==V0&&D.value===M.value){if(!function(s,r){const i=Object.keys(s),o=Object.keys(r);if(i.length!=o.length)return!1;for(let u=0;u<i.length;u++){const h=i[u];if(!r.hasOwnProperty(h)||s[h]!==r[h])return!1}return!0}(D.params,M.params)){const Ce=[],Re=h.matchStyles(D.value,D.params,Ce),tt=h.matchStyles(M.value,M.params,Ce);Ce.length?this._engine.reportError(Ce):this._engine.afterFlush(()=>{Mg(r,Re),jl(r,tt)})}return}const H=eo(this._engine.playersByElement,r,[]);H.forEach(Ce=>{Ce.namespaceId==this.id&&Ce.triggerName==i&&Ce.queued&&Ce.destroy()});let z=h.matchTransition(D.value,M.value,r,M.params),ee=!1;if(!z){if(!u)return;z=h.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:z,fromState:D,toState:M,player:m,isFallbackTransition:ee}),ee||(Bo(r,ZN),m.onStart(()=>{cv(r,ZN)})),m.onDone(()=>{let Ce=this.players.indexOf(m);Ce>=0&&this.players.splice(Ce,1);const Re=this._engine.playersByElement.get(r);if(Re){let tt=Re.indexOf(m);tt>=0&&Re.splice(tt,1)}}),this.players.push(m),H.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((i,o)=>{delete i[r]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(u=>u.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const o=this._engine.driver.query(r,LT,!0);o.forEach(u=>{if(u[Vo])return;const h=this._engine.fetchNamespacesByElement(u);h.size?h.forEach(m=>m.triggerLeaveAnimation(u,i,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(r,i,o,u){const h=this._engine.statesByElement.get(r);if(h){const m=[];if(Object.keys(h).forEach(v=>{if(this._triggers[v]){const D=this.trigger(r,v,V0,u);D&&m.push(D)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,i),o&&zh(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(i&&o){const u=new Set;i.forEach(h=>{const m=h.name;if(u.has(m))return;u.add(m);const D=this._triggers[m].fallbackTransition,M=o[m]||uR,x=new lR(V0),N=new cR(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:D,fromState:M,toState:x,player:N,isFallbackTransition:!0})})}}removeNode(r,i){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let u=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(r):[];if(h&&h.length)u=!0;else{let m=r;for(;m=m.parentNode;)if(o.statesByElement.get(m)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(r),u)o.markElementAsRemoved(this.id,r,!1,i);else{const h=r[Vo];(!h||h===QN)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,i))}}insertNode(r,i){Bo(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const h=o.element,m=this._elementListeners.get(h);m&&m.forEach(v=>{if(v.name==o.triggerName){const D=Hx(h,o.triggerName,o.fromState.value,o.toState.value);D._data=r,Ux(o.player,v.phase,D,v.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):i.push(o)}),this._queue=[],i.sort((o,u)=>{const h=o.transition.ast.depCount,m=u.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(o=>o.element===r)||i,i}}class sL{constructor(r,i,o){this.bodyNode=r,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,h)=>{}}_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,i){const o=new iL(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,i){const o=this._namespaceList.length-1;if(o>=0){let u=!1;for(let h=o;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,i)){this._namespaceList.splice(h+1,0,r),u=!0;break}u||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(i,r),r}register(r,i){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,i)),o}registerTrigger(r,i,o){let u=this._namespaceLookup[r];u&&u.register(i,o)&&this.totalAnimations++}destroy(r,i){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,o=this.statesByElement.get(r);if(o){const u=Object.keys(o);for(let h=0;h<u.length;h++){const m=o[u[h]].namespaceId;if(m){const v=this._fetchNamespace(m);v&&i.add(v)}}}return i}trigger(r,i,o,u){if(ZT(i)){const h=this._fetchNamespace(r);if(h)return h.trigger(i,o,u),!0}return!1}insertNode(r,i,o,u){if(!ZT(i))return;const h=i[Vo];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(i);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(i,o)}u&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Bo(r,KN)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),cv(r,KN))}removeNode(r,i,o,u){if(ZT(i)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(i,u):this.markElementAsRemoved(r,i,!1,u),o){const m=this.namespacesByHostElement.get(i);m&&m.id!==r&&m.removeNode(i,u)}}else this._onRemovalComplete(i,u)}markElementAsRemoved(r,i,o,u){this.collectedLeaveElements.push(i),i[Vo]={namespaceId:r,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1}}listen(r,i,o,u,h){return ZT(i)?this._fetchNamespace(r).listen(i,o,u,h):()=>{}}_buildInstruction(r,i,o,u,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,u,r.fromState.options,r.toState.options,i,h)}destroyInnerAnimations(r){let i=this.driver.query(r,LT,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,Yx,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return zh(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[Vo];if(i&&i.setForRemoval){if(r[Vo]=QN,i.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}this.driver.matchesElement(r,YN)&&this.markElementAsDisabled(r,!1),this.driver.query(r,YN,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Bo(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,r)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?zh(i).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,i){const o=new zT,u=[],h=new Map,m=[],v=new Map,D=new Map,M=new Map,x=new Set;this.disabledNodes.forEach(Ze=>{x.add(Ze);const ct=this.driver.query(Ze,".ng-animate-queued",!0);for(let Dt=0;Dt<ct.length;Dt++)x.add(ct[Dt])});const N=this.bodyNode,H=Array.from(this.statesByElement.keys()),z=ek(H,this.collectedEnterElements),ee=new Map;let Ce=0;z.forEach((Ze,ct)=>{const Dt=Kx+Ce++;ee.set(ct,Dt),Ze.forEach(Yt=>Bo(Yt,Dt))});const Re=[],tt=new Set,lt=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const ct=this.collectedLeaveElements[Ze],Dt=ct[Vo];Dt&&Dt.setForRemoval&&(Re.push(ct),tt.add(ct),Dt.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(Yt=>tt.add(Yt)):lt.add(ct))}const at=new Map,bt=ek(H,Array.from(tt));bt.forEach((Ze,ct)=>{const Dt=PT+Ce++;at.set(ct,Dt),Ze.forEach(Yt=>Bo(Yt,Dt))}),r.push(()=>{z.forEach((Ze,ct)=>{const Dt=ee.get(ct);Ze.forEach(Yt=>cv(Yt,Dt))}),bt.forEach((Ze,ct)=>{const Dt=at.get(ct);Ze.forEach(Yt=>cv(Yt,Dt))}),Re.forEach(Ze=>{this.processLeaveNode(Ze)})});const $n=[],Ji=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(i).forEach(Dt=>{const Yt=Dt.player,Jr=Dt.element;if($n.push(Yt),this.collectedEnterElements.length){const Gl=Jr[Vo];if(Gl&&Gl.setForMove)return void Yt.destroy()}const $l=!N||!this.driver.containsElement(N,Jr),no=at.get(Jr),Wh=ee.get(Jr),Jn=this._buildInstruction(Dt,o,Wh,no,$l);if(Jn.errors&&Jn.errors.length)Ji.push(Jn);else{if($l)return Yt.onStart(()=>Mg(Jr,Jn.fromStyles)),Yt.onDestroy(()=>jl(Jr,Jn.toStyles)),void u.push(Yt);if(Dt.isFallbackTransition)return Yt.onStart(()=>Mg(Jr,Jn.fromStyles)),Yt.onDestroy(()=>jl(Jr,Jn.toStyles)),void u.push(Yt);Jn.timelines.forEach(Gl=>Gl.stretchStartingKeyframe=!0),o.append(Jr,Jn.timelines),m.push({instruction:Jn,player:Yt,element:Jr}),Jn.queriedElements.forEach(Gl=>eo(v,Gl,[]).push(Yt)),Jn.preStyleProps.forEach((Gl,j0)=>{const nA=Object.keys(Gl);if(nA.length){let Ng=D.get(j0);Ng||D.set(j0,Ng=new Set),nA.forEach(mR=>Ng.add(mR))}}),Jn.postStyleProps.forEach((Gl,j0)=>{const nA=Object.keys(Gl);let Ng=M.get(j0);Ng||M.set(j0,Ng=new Set),nA.forEach(mR=>Ng.add(mR))})}});if(Ji.length){const Ze=[];Ji.forEach(ct=>{Ze.push(`@${ct.triggerName} has failed due to:\n`),ct.errors.forEach(Dt=>Ze.push(`- ${Dt}\n`))}),$n.forEach(ct=>ct.destroy()),this.reportError(Ze)}const Xi=new Map,vc=new Map;m.forEach(Ze=>{const ct=Ze.element;o.has(ct)&&(vc.set(ct,ct),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,Xi))}),u.forEach(Ze=>{const ct=Ze.element;this._getPreviousPlayers(ct,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Yt=>{eo(Xi,ct,[]).push(Yt),Yt.destroy()})});const bc=Re.filter(Ze=>nk(Ze,D,M)),Ec=new Map;XN(Ec,this.driver,lt,M,yc).forEach(Ze=>{nk(Ze,D,M)&&bc.push(Ze)});const U0=new Map;z.forEach((Ze,ct)=>{XN(U0,this.driver,new Set(Ze),D,"!")}),bc.forEach(Ze=>{const ct=Ec.get(Ze),Dt=U0.get(Ze);Ec.set(Ze,Object.assign(Object.assign({},ct),Dt))});const Og=[],zk=[],qk={};m.forEach(Ze=>{const{element:ct,player:Dt,instruction:Yt}=Ze;if(o.has(ct)){if(x.has(ct))return Dt.onDestroy(()=>jl(ct,Yt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(Yt.totalTime),void u.push(Dt);let Jr=qk;if(vc.size>1){let no=ct;const Wh=[];for(;no=no.parentNode;){const Jn=vc.get(no);if(Jn){Jr=Jn;break}Wh.push(no)}Wh.forEach(Jn=>vc.set(Jn,Jr))}const $l=this._buildAnimation(Dt.namespaceId,Yt,Xi,h,U0,Ec);if(Dt.setRealPlayer($l),Jr===qk)Og.push(Dt);else{const no=this.playersByElement.get(Jr);no&&no.length&&(Dt.parentPlayer=zh(no)),u.push(Dt)}}else Mg(ct,Yt.fromStyles),Dt.onDestroy(()=>jl(ct,Yt.toStyles)),zk.push(Dt),x.has(ct)&&u.push(Dt)}),zk.forEach(Ze=>{const ct=h.get(Ze.element);if(ct&&ct.length){const Dt=zh(ct);Ze.setRealPlayer(Dt)}}),u.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<Re.length;Ze++){const ct=Re[Ze],Dt=ct[Vo];if(cv(ct,PT),Dt&&Dt.hasAnimation)continue;let Yt=[];if(v.size){let $l=v.get(ct);$l&&$l.length&&Yt.push(...$l);let no=this.driver.query(ct,Yx,!0);for(let Wh=0;Wh<no.length;Wh++){let Jn=v.get(no[Wh]);Jn&&Jn.length&&Yt.push(...Jn)}}const Jr=Yt.filter($l=>!$l.destroyed);Jr.length?uL(this,ct,Jr):this.processLeaveNode(ct)}return Re.length=0,Og.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const ct=this.players.indexOf(Ze);this.players.splice(ct,1)}),Ze.play()}),Og}elementContainsData(r,i){let o=!1;const u=i[Vo];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(r).elementContainsData(i)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,o,u,h){let m=[];if(i){const v=this.playersByQueriedElement.get(r);v&&(m=v)}else{const v=this.playersByElement.get(r);if(v){const D=!h||h==V0;v.forEach(M=>{M.queued||!D&&M.triggerName!=u||m.push(M)})}}return(o||u)&&(m=m.filter(v=>!(o&&o!=v.namespaceId||u&&u!=v.triggerName))),m}_beforeAnimationBuild(r,i,o){const h=i.element,m=i.isRemovalTransition?void 0:r,v=i.isRemovalTransition?void 0:i.triggerName;for(const D of i.timelines){const M=D.element,x=M!==h,N=eo(o,M,[]);this._getPreviousPlayers(M,x,m,v,i.toState).forEach(z=>{const ee=z.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),z.destroy(),N.push(z)})}Mg(h,i.fromStyles)}_buildAnimation(r,i,o,u,h,m){const v=i.triggerName,D=i.element,M=[],x=new Set,N=new Set,H=i.timelines.map(ee=>{const Ce=ee.element;x.add(Ce);const Re=Ce[Vo];if(Re&&Re.removedBeforeQueried)return new lv(ee.duration,ee.delay);const tt=Ce!==D,lt=function(s){const r=[];return tk(s,r),r}((o.get(Ce)||nL).map(Xi=>Xi.getRealPlayer())).filter(Xi=>!!Xi.element&&Xi.element===Ce),at=h.get(Ce),bt=m.get(Ce),$n=SN(0,this._normalizer,0,ee.keyframes,at,bt),Ji=this._buildPlayer(ee,$n,lt);if(ee.subTimeline&&u&&N.add(Ce),tt){const Xi=new cR(r,v,Ce);Xi.setRealPlayer(Ji),M.push(Xi)}return Ji});M.forEach(ee=>{eo(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function(s,r,i){let o;if(s instanceof Map){if(o=s.get(r),o){if(o.length){const u=o.indexOf(i);o.splice(u,1)}0==o.length&&s.delete(r)}}else if(o=s[r],o){if(o.length){const u=o.indexOf(i);o.splice(u,1)}0==o.length&&delete s[r]}return o}(this.playersByQueriedElement,ee.element,ee))}),x.forEach(ee=>Bo(ee,kN));const z=zh(H);return z.onDestroy(()=>{x.forEach(ee=>cv(ee,kN)),jl(D,i.toStyles)}),N.forEach(ee=>{eo(u,ee,[]).push(z)}),z}_buildPlayer(r,i,o){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,o):new lv(r.duration,r.delay)}}class cR{constructor(r,i,o){this.namespaceId=r,this.triggerName=i,this.element=o,this._player=new lv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>Ux(r,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){eo(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function ZT(s){return s&&1===s.nodeType}function JN(s,r){const i=s.style.display;return s.style.display=null!=r?r:"none",i}function XN(s,r,i,o,u){const h=[];i.forEach(D=>h.push(JN(D)));const m=[];o.forEach((D,M)=>{const x={};D.forEach(N=>{const H=x[N]=r.computeStyle(M,N,u);(!H||0==H.length)&&(M[Vo]=rL,m.push(M))}),s.set(M,x)});let v=0;return i.forEach(D=>JN(D,h[v++])),m}function ek(s,r){const i=new Map;if(s.forEach(v=>i.set(v,[])),0==r.length)return i;const u=new Set(r),h=new Map;function m(v){if(!v)return 1;let D=h.get(v);if(D)return D;const M=v.parentNode;return D=i.has(M)?M:u.has(M)?1:m(M),h.set(v,D),D}return r.forEach(v=>{const D=m(v);1!==D&&i.get(D).push(v)}),i}const KT="$$classes";function Bo(s,r){if(s.classList)s.classList.add(r);else{let i=s[KT];i||(i=s[KT]={}),i[r]=!0}}function cv(s,r){if(s.classList)s.classList.remove(r);else{let i=s[KT];i&&delete i[r]}}function uL(s,r,i){zh(i).onDone(()=>s.processLeaveNode(r))}function tk(s,r){for(let i=0;i<s.length;i++){const o=s[i];o instanceof DN?tk(o.players,r):r.push(o)}}function nk(s,r,i){const o=i.get(s);if(!o)return!1;let u=r.get(s);return u?o.forEach(h=>u.add(h)):r.set(s,o),i.delete(s),!0}class YT{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,h)=>{},this._transitionEngine=new sL(r,i,o),this._timelineEngine=new JF(r,i,o),this._transitionEngine.onRemovalComplete=(u,h)=>this.onRemovalComplete(u,h)}registerTrigger(r,i,o,u,h){const m=r+"-"+u;let v=this._triggerCache[m];if(!v){const D=[],M=tR(this._driver,h,D);if(D.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${D.join("\n - ")}`);v=function(s,r,i){return new KF(s,r,i)}(u,M,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(i,u,v)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,o,u){this._transitionEngine.insertNode(r,i,o,u)}onRemove(r,i,o,u){this._transitionEngine.removeNode(r,i,u||!1,o)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,o,u){if("@"==o.charAt(0)){const[h,m]=TN(o);this._timelineEngine.command(h,i,m,u)}else this._transitionEngine.trigger(r,i,o,u)}listen(r,i,o,u,h){if("@"==o.charAt(0)){const[m,v]=TN(o);return this._timelineEngine.listen(m,i,v,h)}return this._transitionEngine.listen(r,i,o,u,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function rk(s,r){let i=null,o=null;return Array.isArray(r)&&r.length?(i=dR(r[0]),r.length>1&&(o=dR(r[r.length-1]))):r&&(i=dR(r)),i||o?new dv(s,i,o):null}class dv{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let u=dv.initialStylesByElement.get(r);u||dv.initialStylesByElement.set(r,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&jl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jl(this._element,this._initialStyles),this._endStyles&&(jl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(dv.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),jl(this._element,this._initialStyles),this._state=3)}}function dR(s){let r=null;const i=Object.keys(s);for(let o=0;o<i.length;o++){const u=i[o];hL(u)&&(r=r||{},r[u]=s[u])}return r}function hL(s){return"display"===s||"position"===s}dv.initialStylesByElement=new WeakMap;const ik="animation",sk="animationend";class gL{constructor(r,i,o,u,h,m,v){this._element=r,this._name=i,this._duration=o,this._delay=u,this._easing=h,this._fillMode=m,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=D=>this._handleCallback(D)}apply(){(function(s,r){const i=fR(s,"").trim();let o=0;i.length&&(function(s,r){let i=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&i++;return i}(i)+1,r=`${i}, ${r}`),QT(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),lk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ok(this._element,this._name,"paused")}resume(){ok(this._element,this._name,"running")}setPosition(r){const i=ak(this._element,this._name);this._position=r*this._duration,QT(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(r){const i=r._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),lk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const o=fR(s,"").split(","),u=hR(o,r);u>=0&&(o.splice(u,1),QT(s,"",o.join(",")))}(this._element,this._name))}}function ok(s,r,i){QT(s,"PlayState",i,ak(s,r))}function ak(s,r){const i=fR(s,"");return i.indexOf(",")>0?hR(i.split(","),r):hR([i],r)}function hR(s,r){for(let i=0;i<s.length;i++)if(s[i].indexOf(r)>=0)return i;return-1}function lk(s,r,i){i?s.removeEventListener(sk,r):s.addEventListener(sk,r)}function QT(s,r,i,o){const u=ik+r;if(null!=o){const h=s.style[u];if(h.length){const m=h.split(",");m[o]=i,i=m.join(",")}}s.style[u]=i}function fR(s,r){return s.style[ik+r]||""}class uk{constructor(r,i,o,u,h,m,v,D){this.element=r,this.keyframes=i,this.animationName=o,this._duration=u,this._delay=h,this._finalStyles=v,this._specialStyles=D,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=u+h,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gL(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(r[o]=i?this._finalStyles[o]:eR(this.element,o))})}this.currentSnapshot=r}}class EL extends lv{constructor(r,i){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=RN(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const i=this._startingStyles[r];i?this.element.style.setProperty(r,i):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class dk{constructor(){this._count=0}validateStyleProperty(r){return zx(r)}matchesElement(r,i){return qx(r,i)}containsElement(r,i){return Wx(r,i)}query(r,i,o){return Zx(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}buildKeyframeElement(r,i,o){o=o.map(v=>RN(v));let u=`@keyframes ${i} {\n`,h="";o.forEach(v=>{h=" ";const D=parseFloat(v.offset);u+=`${h}${100*D}% {\n`,h+=" ",Object.keys(v).forEach(M=>{const x=v[M];switch(M){case"offset":return;case"easing":return void(x&&(u+=`${h}animation-timing-function: ${x};\n`));default:return void(u+=`${h}${M}: ${x};\n`)}}),u+=`${h}}\n`}),u+="}\n";const m=document.createElement("style");return m.textContent=u,m}animate(r,i,o,u,h,m=[],v){const D=m.filter(Re=>Re instanceof uk),M={};BN(o,u)&&D.forEach(Re=>{let tt=Re.currentSnapshot;Object.keys(tt).forEach(lt=>M[lt]=tt[lt])});const x=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(u=>{"offset"==u||"easing"==u||(r[u]=o[u])})}),r}(i=UN(r,i,M));if(0==o)return new EL(r,x);const N="gen_css_kf_"+this._count++,H=this.buildKeyframeElement(r,N,i);(function(s){var r;const i=null===(r=s.getRootNode)||void 0===r?void 0:r.call(s);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(r).appendChild(H);const ee=rk(r,i),Ce=new uk(r,i,N,o,u,h,x,ee);return Ce.onDestroy(()=>function(s){s.parentNode.removeChild(s)}(H)),Ce}}class fk{constructor(r,i,o,u){this.element=r,this.keyframes=i,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,i,o){return r.animate(i,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(r[i]=this._finished?this._finalKeyframe[i]:eR(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class SL{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pk().toString()),this._cssKeyframesDriver=new dk}validateStyleProperty(r){return zx(r)}matchesElement(r,i){return qx(r,i)}containsElement(r,i){return Wx(r,i)}query(r,i,o){return Zx(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,i,o,u,h,m=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,i,o,u,h,m);const x={duration:o,delay:u,fill:0==u?"both":"forwards"};h&&(x.easing=h);const N={},H=m.filter(ee=>ee instanceof fk);BN(o,u)&&H.forEach(ee=>{let Ce=ee.currentSnapshot;Object.keys(Ce).forEach(Re=>N[Re]=Ce[Re])});const z=rk(r,i=UN(r,i=i.map(ee=>qh(ee,!1)),N));return new fk(r,i,x,z)}}function pk(){return IN()&&Element.prototype.animate||{}}let AL=(()=>{class s extends yN{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(i)?bN(i):i;return gk(this._renderer,null,o,"register",[u]),new ML(o,this._renderer)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.FYo),g.LFG(se))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class ML extends class{}{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new xL(this._id,r,i||{},this._renderer)}}class xL{constructor(r,i,o,u){this.id=r,this.element=i,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return gk(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,i;return null!==(i=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==i?i:0}}function gk(s,r,i,o,u){return s.setProperty(r,`@@${i}:${o}`,u)}const mk="@.disabled";let RL=(()=>{class s{constructor(i,o,u){this.delegate=i,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,m)=>{m&&m.parentNode(h)&&m.removeChild(h.parentNode,h)}}createRenderer(i,o){const h=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let x=this._rendererCache.get(h);return x||(x=new _k("",h,this.engine),this._rendererCache.set(h,x)),x}const m=o.id,v=o.id+"-"+this._currentId;this._currentId++,this.engine.register(v,i);const D=x=>{Array.isArray(x)?x.forEach(D):this.engine.registerTrigger(m,v,i,x.name,x)};return o.data.animation.forEach(D),new OL(this,v,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,u){i>=0&&i<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,v]=h;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(g.FYo),g.LFG(YT),g.LFG(g.R0b))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();class _k{constructor(r,i,o){this.namespaceId=r,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>i.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,o,u=!0){this.delegate.insertBefore(r,i,o),this.engine.onInsert(this.namespaceId,i,r,u)}removeChild(r,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,o,u){this.delegate.setAttribute(r,i,o,u)}removeAttribute(r,i,o){this.delegate.removeAttribute(r,i,o)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,o,u){this.delegate.setStyle(r,i,o,u)}removeStyle(r,i,o){this.delegate.removeStyle(r,i,o)}setProperty(r,i,o){"@"==i.charAt(0)&&i==mk?this.disableAnimations(r,!!o):this.delegate.setProperty(r,i,o)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,o){return this.delegate.listen(r,i,o)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class OL extends _k{constructor(r,i,o,u){super(i,o,u),this.factory=r,this.namespaceId=i}setProperty(r,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==mk?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,i.substr(1),o):this.delegate.setProperty(r,i,o)}listen(r,i,o){if("@"==i.charAt(0)){const u=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let h=i.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(h)),this.engine.listen(this.namespaceId,u,h,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,o,v)})}return this.delegate.listen(r,i,o)}}let PL=(()=>{class s extends YT{constructor(i,o,u){super(i.body,o,u)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(se),g.LFG(kT),g.LFG(oR))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac}),s})();const hv=new g.OlP("AnimationModuleType"),yk=[{provide:yN,useClass:AL},{provide:oR,useFactory:function(){return new $F}},{provide:YT,useClass:PL},{provide:g.FYo,useFactory:function(s,r,i){return new RL(s,r,i)},deps:[Ko,YT,g.R0b]}],vk=[{provide:kT,useFactory:function(){return"function"==typeof pk()?new SL:new dk}},{provide:hv,useValue:"BrowserAnimations"},...yk],bk=[{provide:kT,useClass:ON},{provide:hv,useValue:"NoopAnimations"},...yk];let BL=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?bk:vk}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({providers:vk,imports:[rs]}),s})();const Ek=new g.GfV("12.2.4"),qL=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Rg,Hl=(()=>{class s{constructor(i,o,u){this._hasDoneGlobalChecks=!1,this._document=u,i._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const i=this._document.defaultView||window;return"object"==typeof i&&i?i:null}_checkIsEnabled(i){return!(!(0,g.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}_isTestEnv(){const i=this._getWindow();return i&&(i.__karma__||i.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const o=getComputedStyle(i);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(i)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Ek.full!==_N.full&&console.warn("The Angular Material version ("+Ek.full+") does not match the Angular CDK version ("+_N.full+").\nPlease ensure the versions of these two packages exactly match.")}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(mN),g.LFG(qL,8),g.LFG(se))},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[N0],N0]}),s})();function wk(s){return class extends s{constructor(...r){super(...r),this._disabled=!1}get disabled(){return this._disabled}set disabled(r){this._disabled=Js(r)}}}function WL(s,r){return class extends s{constructor(...i){super(...i),this.defaultColor=r,this.color=r}get color(){return this._color}set color(i){const o=i||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function ZL(s){return class extends s{constructor(...r){super(...r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(r){this._disableRipple=Js(r)}}}try{Rg="undefined"!=typeof Intl}catch(s){Rg=!1}class a2{constructor(r,i,o){this._renderer=r,this.element=i,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Dk={enterDuration:225,exitDuration:150},pR=Dg({passive:!0}),Ik=["mousedown","touchstart"],Sk=["mouseup","mouseleave","touchend","touchcancel"];class u2{constructor(r,i,o,u){this._target=r,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,u.isBrowser&&(this._containerElement=$h(o))}fadeInRipple(r,i,o={}){const u=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h=Object.assign(Object.assign({},Dk),o.animation);o.centered&&(r=u.left+u.width/2,i=u.top+u.height/2);const m=o.radius||function(s,r,i){const o=Math.max(Math.abs(s-i.left),Math.abs(s-i.right)),u=Math.max(Math.abs(r-i.top),Math.abs(r-i.bottom));return Math.sqrt(o*o+u*u)}(r,i,u),v=r-u.left,D=i-u.top,M=h.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=v-m+"px",x.style.top=D-m+"px",x.style.height=2*m+"px",x.style.width=2*m+"px",null!=o.color&&(x.style.backgroundColor=o.color),x.style.transitionDuration=`${M}ms`,this._containerElement.appendChild(x),function(s){window.getComputedStyle(s).getPropertyValue("opacity")}(x),x.style.transform="scale(1)";const N=new a2(this,x,o);return N.state=0,this._activeRipples.add(N),o.persistent||(this._mostRecentTransientRipple=N),this._runTimeoutOutsideZone(()=>{const H=N===this._mostRecentTransientRipple;N.state=1,!o.persistent&&(!H||!this._isPointerDown)&&N.fadeOut()},M),N}fadeOutRipple(r){const i=this._activeRipples.delete(r);if(r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!i)return;const o=r.element,u=Object.assign(Object.assign({},Dk),r.config.animation);o.style.transitionDuration=`${u.exitDuration}ms`,o.style.opacity="0",r.state=2,this._runTimeoutOutsideZone(()=>{r.state=3,o.parentNode.removeChild(o)},u.exitDuration)}fadeOutAll(){this._activeRipples.forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){const i=$h(r);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(Ik))}handleEvent(r){"mousedown"===r.type?this._onMousedown(r):"touchstart"===r.type?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Sk),this._pointerUpEventsRegistered=!0)}_onMousedown(r){const i=oN(r),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!o&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!aN(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=r.changedTouches;for(let o=0;o<i.length;o++)this.fadeInRipple(i[o].clientX,i[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(r=>{!r.config.persistent&&(1===r.state||r.config.terminateOnPointerUp&&0===r.state)&&r.fadeOut()}))}_runTimeoutOutsideZone(r,i=0){this._ngZone.runOutsideAngular(()=>setTimeout(r,i))}_registerEvents(r){this._ngZone.runOutsideAngular(()=>{r.forEach(i=>{this._triggerElement.addEventListener(i,this,pR)})})}_removeTriggerEvents(){this._triggerElement&&(Ik.forEach(r=>{this._triggerElement.removeEventListener(r,this,pR)}),this._pointerUpEventsRegistered&&Sk.forEach(r=>{this._triggerElement.removeEventListener(r,this,pR)}))}}const h2=new g.OlP("mat-ripple-global-options");let eA=(()=>{class s{constructor(i,o,u,h,m){this._elementRef=i,this._animationMode=m,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new u2(this,o,i,u)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,o=0,u){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,o,Object.assign(Object.assign({},this.rippleConfig),u)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),i))}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(rn),g.Y36(h2,8),g.Y36(hv,8))},s.\u0275dir=g.lG2({type:s,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,o){2&i&&g.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),s})(),Tk=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[Hl,xa],Hl]}),s})();const Rk=["mat-button",""],Ok=["*"],E2=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],w2=WL(wk(ZL(class{constructor(s){this._elementRef=s}})));let kk=(()=>{class s extends w2{constructor(i,o,u){super(i),this._focusMonitor=o,this._animationMode=u,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const h of E2)this._hasHostAttributes(h)&&this._getHostElement().classList.add(h);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,o){i?this._focusMonitor.focusVia(this._getHostElement(),i,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(o=>this._getHostElement().hasAttribute(o))}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.SBq),g.Y36(Fx),g.Y36(hv,8))},s.\u0275cmp=g.Xpm({type:s,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,o){if(1&i&&g.Gf(eA,5),2&i){let u;g.iGM(u=g.CRH())&&(o.ripple=u.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,o){2&i&&(g.uIk("disabled",o.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:Rk,ngContentSelectors:Ok,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,o){1&i&&(g.F$t(),g.TgZ(0,"span",0),g.Hsn(1),g.qZA(),g._UZ(2,"span",1),g._UZ(3,"span",2)),2&i&&(g.xp6(2),g.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),g.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[eA],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),s})(),C2=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[Tk,Hl],Hl]}),s})();const Pk=new Set;let fv,Fk=(()=>{class s{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):I2}matchMedia(i){return this._platform.WEBKIT&&function(s){if(!Pk.has(s))try{fv||(fv=document.createElement("style"),fv.setAttribute("type","text/css"),document.head.appendChild(fv)),fv.sheet&&(fv.sheet.insertRule(`@media ${s} {.fx-query-test{ }}`,0),Pk.add(s))}catch(r){console.error(r)}}(i),this._matchMedia(i)}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(rn))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(rn))},token:s,providedIn:"root"}),s})();function I2(s){return{matches:"all"===s||""===s,media:s,addListener:()=>{},removeListener:()=>{}}}let Lk=(()=>{class s{constructor(i,o){this._mediaMatcher=i,this._zone=o,this._queries=new Map,this._destroySubject=new Vt.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Vk(iv(i)).some(u=>this._registerQuery(u).mql.matches)}observe(i){let h=Uf(Vk(iv(i)).map(m=>this._registerQuery(m).observable));return h=sl(h.pipe(Fs(1)),h.pipe(JO(1),function(s,r=Ld.P){return i=>i.lift(new zP(s,r))}(0))),h.pipe((0,dt.U)(m=>{const v={matches:!1,breakpoints:{}};return m.forEach(({matches:D,query:M})=>{v.matches=v.matches||D,v.breakpoints[M]=D}),v}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const o=this._mediaMatcher.matchMedia(i),h={observable:new On.y(m=>{const v=D=>this._zone.run(()=>m.next(D));return o.addListener(v),()=>{o.removeListener(v)}}).pipe(ji(o),(0,dt.U)(({matches:m})=>({query:i,matches:m})),Ct(this._destroySubject)),mql:o};return this._queries.set(i,h),h}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(Fk),g.LFG(g.R0b))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(Fk),g.LFG(g.R0b))},token:s,providedIn:"root"}),s})();function Vk(s){return s.map(r=>r.split(",")).reduce((r,i)=>r.concat(i)).map(r=>r.trim())}function T2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div",1),g.TgZ(1,"button",2),g.NdJ("click",function(){return g.CHM(i),g.oxw().action()}),g._uU(2),g.qZA(),g.qZA()}if(2&s){const i=g.oxw();g.xp6(2),g.Oqu(i.data.action)}}function A2(s,r){}const Bk=new g.OlP("MatSnackBarData");class tA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const M2=Math.pow(2,31)-1;class gR{constructor(r,i){this._overlayRef=i,this._afterDismissed=new Vt.xQ,this._afterOpened=new Vt.xQ,this._onAction=new Vt.xQ,this._dismissedByAction=!1,this.containerInstance=r,this.onAction().subscribe(()=>this.dismiss()),r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,M2))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let x2=(()=>{class s{constructor(i,o){this.snackBarRef=i,this.data=o}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(gR),g.Y36(Bk))},s.\u0275cmp=g.Xpm({type:s,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(i,o){1&i&&(g.TgZ(0,"span"),g._uU(1),g.qZA(),g.YNc(2,T2,3,1,"div",0)),2&i&&(g.xp6(1),g.Oqu(o.data.message),g.xp6(1),g.Q6J("ngIf",o.hasAction))},directives:[ns,kk],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),s})();const R2={snackBarState:mF("state",[EN("void, hidden",F0({transform:"scale(0.8)",opacity:0})),EN("visible",F0({transform:"scale(1)",opacity:1})),wN("* => visible",vN("150ms cubic-bezier(0, 0, 0.2, 1)")),wN("* => void, * => hidden",vN("75ms cubic-bezier(0.4, 0.0, 1, 1)",F0({opacity:0})))])};let O2=(()=>{class s extends xx{constructor(i,o,u,h,m){super(),this._ngZone=i,this._elementRef=o,this._changeDetectorRef=u,this._platform=h,this.snackBarConfig=m,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Vt.xQ,this._onExit=new Vt.xQ,this._onEnter=new Vt.xQ,this._animationState="void",this.attachDomPortal=v=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(v)),this._live="assertive"!==m.politeness||m.announcementMessage?"off"===m.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(i)}attachTemplatePortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(i)}onAnimationEnd(i){const{fromState:o,toState:u}=i;if(("void"===u&&"void"!==o||"hidden"===u)&&this._completeExit(),"visible"===u){const h=this._onEnter;this._ngZone.run(()=>{h.next(),h.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Fs(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const i=this._elementRef.nativeElement,o=this.snackBarConfig.panelClass;o&&(Array.isArray(o)?o.forEach(u=>i.classList.add(u)):i.classList.add(o)),"center"===this.snackBarConfig.horizontalPosition&&i.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&i.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),o=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&o){let u=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(u=document.activeElement),i.removeAttribute("aria-hidden"),o.appendChild(i),null==u||u.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(g.R0b),g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(rn),g.Y36(tA))},s.\u0275cmp=g.Xpm({type:s,selectors:[["snack-bar-container"]],viewQuery:function(i,o){if(1&i&&g.Gf(OT,7),2&i){let u;g.iGM(u=g.CRH())&&(o._portalOutlet=u.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(i,o){1&i&&g.WFA("@state.done",function(h){return o.onAnimationEnd(h)}),2&i&&g.d8E("@state",o._animationState)},features:[g.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,o){1&i&&(g.TgZ(0,"div",0),g.YNc(1,A2,0,0,"ng-template",1),g.qZA(),g._UZ(2,"div")),2&i&&(g.xp6(2),g.uIk("aria-live",o._live)("role",o._role))},directives:[OT],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[R2.snackBarState]}}),s})(),Uk=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[HP,BO,Ug,C2,Hl],Hl]}),s})();const jk=new g.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new tA}});let k2=(()=>{class s{constructor(i,o,u,h,m,v){this._overlay=i,this._live=o,this._injector=u,this._breakpointObserver=h,this._parentSnackBar=m,this._defaultConfig=v,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=x2,this.snackBarContainerComponent=O2,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}openFromComponent(i,o){return this._attach(i,o)}openFromTemplate(i,o){return this._attach(i,o)}open(i,o="",u){const h=Object.assign(Object.assign({},this._defaultConfig),u);return h.data={message:i,action:o},h.announcementMessage===i&&(h.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,h)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,o){const h=g.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:tA,useValue:o}]}),m=new Mx(this.snackBarContainerComponent,o.viewContainerRef,h),v=i.attach(m);return v.instance.snackBarConfig=o,v.instance}_attach(i,o){const u=Object.assign(Object.assign(Object.assign({},new tA),this._defaultConfig),o),h=this._createOverlay(u),m=this._attachSnackBarContainer(h,u),v=new gR(m,h);if(i instanceof g.Rgc){const D=new RT(i,null,{$implicit:u.data,snackBarRef:v});v.instance=m.attachTemplatePortal(D)}else{const D=this._createInjector(u,v),M=new Mx(i,void 0,D),x=m.attachComponentPortal(M);v.instance=x.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ct(h.detachments())).subscribe(D=>{const M=h.overlayElement.classList;D.matches?M.add(this.handsetCssClass):M.remove(this.handsetCssClass)}),u.announcementMessage&&m._onAnnounce.subscribe(()=>{this._live.announce(u.announcementMessage,u.politeness)}),this._animateSnackBar(v,u),this._openedSnackBarRef=v,this._openedSnackBarRef}_animateSnackBar(i,o){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),o.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),o.duration&&o.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(o.duration))}_createOverlay(i){const o=new Ox;o.direction=i.direction;let u=this._overlay.position().global();const h="rtl"===i.direction,m="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!h||"end"===i.horizontalPosition&&h,v=!m&&"center"!==i.horizontalPosition;return m?u.left("0"):v?u.right("0"):u.centerHorizontally(),"top"===i.verticalPosition?u.top("0"):u.bottom("0"),o.positionStrategy=u,this._overlay.create(o)}_createInjector(i,o){return g.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:gR,useValue:o},{provide:Bk,useValue:i.data}]})}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(P0),g.LFG(Px),g.LFG(g.zs3),g.LFG(Lk),g.LFG(s,12),g.LFG(jk))},s.\u0275prov=g.Yz7({factory:function(){return new s(g.LFG(P0),g.LFG(Px),g.LFG(g.gxx),g.LFG(Lk),g.LFG(s,12),g.LFG(jk))},token:s,providedIn:Uk}),s})(),P2=(()=>{class s{constructor(){this.color="",this.mensaje=""}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-alert"]],inputs:{color:"color",mensaje:"mensaje"},decls:3,vars:4,consts:[["role","alert"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"]],template:function(i,o){1&i&&(g.TgZ(0,"div",0),g._uU(1),g._UZ(2,"button",1),g.qZA()),2&i&&(g.Gre("alert ",o.color," alert-dismissible fade show"),g.xp6(1),g.hij(" ",o.mensaje," "))},styles:[""]}),s})();function F2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"h2"),g._uU(2,"Bienvenido"),g.qZA(),g.TgZ(3,"p"),g._uU(4,"Crea tu cuenta"),g.qZA(),g.TgZ(5,"a",21),g.NdJ("click",function(){return g.CHM(i),g.oxw().log=!1}),g._uU(6,"Registrarse"),g.qZA(),g.qZA()}}function L2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"p"),g._uU(2,"Ya tenes una cuenta?"),g._UZ(3,"br"),g._uU(4," Inicia sesion"),g.qZA(),g.TgZ(5,"a",21),g.NdJ("click",function(){return g.CHM(i),g.oxw().log=!0}),g._uU(6,"Iniciar sesion"),g.qZA(),g.qZA()}}function V2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"input",22),g.NdJ("click",function(){return g.CHM(i),g.oxw().login()}),g.qZA()}}function B2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"input",23),g.NdJ("click",function(){return g.CHM(i),g.oxw().register()}),g.qZA()}}function U2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"input",24),g.NdJ("click",function(){return g.CHM(i),g.oxw().loginRapido()}),g.qZA()}}function j2(s,r){if(1&s&&g._UZ(0,"app-alert",25),2&s){const i=g.oxw();g.s9C("mensaje",i.mensaje)}}let H2=(()=>{class s{constructor(i,o,u,h){this.auth=i,this.router=o,this.firestore=u,this.snackbar=h,this.alert=!1,this.email="",this.password="",this.mensaje="",this.log=!0,this.snackBar=h}ngOnInit(){}loginRapido(){this.email="invitado@gmail.com",this.password="invitado"}login(){this.snackBar.open("error"),""!==this.email&&""!==this.password&&this.auth.login(this.email,this.password).then(i=>{let o={email:i.user.email,uid:i.user.uid,loginDate:Date.now()};console.log(o),this.firestore.addItem(o)}).catch(i=>{this.mensaje=i.code,this.alert=!0})}register(){""!==this.email&&""!==this.password&&this.auth.register(this.email,this.password).then(i=>{console.log(i);let o={email:i.user.email,uid:i.user.uid,loginDate:Date.now()};this.firestore.addItem(o)}).catch(i=>{console.log(i.code),this.mensaje=i.code,this.alert=!0})}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(TT),g.Y36(tr),g.Y36(ST),g.Y36(k2))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-login"]],decls:40,vars:11,consts:[[1,"wrapper"],[1,"container"],[1,"col-left"],[1,"login-text"],[4,"ngIf"],[1,"col-right"],[1,"login-form"],["type","text","name","email","placeholder","Email","required","",3,"ngModel","value","ngModelChange"],["type","password","name","password","placeholder","contrase\xf1a","required","",3,"ngModel","value","ngModelChange"],["type","button","class","btn btn-primary","value","Iniciar sesi\xf3n",3,"click",4,"ngIf"],["type","button","class","btn btn-primary","value","Registrarse",3,"click",4,"ngIf"],["type","button","class","btn btn-primary","value","Iniciar sesi\xf3n rapido",3,"click",4,"ngIf"],["color","alert-warning",3,"mensaje",4,"ngIf"],["href",""],[1,"mdc-snackbar"],["role","status","aria-relevant","additions",1,"mdc-snackbar__surface"],["aria-atomic","false",1,"mdc-snackbar__label"],["aria-atomic","true",1,"mdc-snackbar__actions"],["type","button",1,"mdc-button","mdc-snackbar__action"],[1,"mdc-button__ripple"],[1,"mdc-button__label"],[1,"btn",3,"click"],["type","button","value","Iniciar sesi\xf3n",1,"btn","btn-primary",3,"click"],["type","button","value","Registrarse",1,"btn","btn-primary",3,"click"],["type","button","value","Iniciar sesi\xf3n rapido",1,"btn","btn-primary",3,"click"],["color","alert-warning",3,"mensaje"]],template:function(i,o){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.YNc(4,F2,7,0,"div",4),g.YNc(5,L2,7,0,"div",4),g.qZA(),g.qZA(),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"h2"),g._uU(9,"Login"),g.qZA(),g.TgZ(10,"form"),g.TgZ(11,"p"),g.TgZ(12,"label"),g._uU(13,"Email"),g.TgZ(14,"span"),g._uU(15,"*"),g.qZA(),g.qZA(),g.TgZ(16,"input",7),g.NdJ("ngModelChange",function(h){return o.email=h}),g.qZA(),g.qZA(),g.TgZ(17,"p"),g.TgZ(18,"label"),g._uU(19,"Contrase\xf1a"),g.TgZ(20,"span"),g._uU(21,"*"),g.qZA(),g.qZA(),g.TgZ(22,"input",8),g.NdJ("ngModelChange",function(h){return o.password=h}),g.qZA(),g.qZA(),g.TgZ(23,"p"),g.YNc(24,V2,1,0,"input",9),g.YNc(25,B2,1,0,"input",10),g.YNc(26,U2,1,0,"input",11),g.qZA(),g.YNc(27,j2,1,1,"app-alert",12),g.TgZ(28,"p"),g.TgZ(29,"a",13),g._uU(30,"Forget Password?"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(31,"aside",14),g.TgZ(32,"div",15),g.TgZ(33,"div",16),g._uU(34),g.qZA(),g.TgZ(35,"div",17),g.TgZ(36,"button",18),g._UZ(37,"div",19),g.TgZ(38,"span",20),g._uU(39,"Retry"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(4),g.Q6J("ngIf",o.log),g.xp6(1),g.Q6J("ngIf",!o.log),g.xp6(11),g.s9C("value",o.email),g.Q6J("ngModel",o.email),g.xp6(6),g.s9C("value",o.password),g.Q6J("ngModel",o.password),g.xp6(2),g.Q6J("ngIf",o.log),g.xp6(1),g.Q6J("ngIf",!o.log),g.xp6(1),g.Q6J("ngIf",o.log),g.xp6(1),g.Q6J("ngIf",o.alert),g.xp6(7),g.hij(" ",o.mensaje," "))},directives:[ns,Nf,ii,ad,bo,yu,ri,Of,P2],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;font-family:Arial,Helvetica,sans-serif;font-size:16px;font-weight:400;color:#666;background:#eaeff4}.wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:1140px;min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column}.container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:600px;height:auto;display:flex;background:#ffffff;box-shadow:0 0 5px #999;background-size:cover;background-image:url(login.a1bef78d90f74ff31ab7.jpeg)}.credit[_ngcontent-%COMP%]{position:relative;margin:25px auto 0;width:100%;text-align:center;color:#666;font-size:16px;font-weight:400}.col-left[_ngcontent-%COMP%], .col-right[_ngcontent-%COMP%]{padding:30px;display:flex}.col-left[_ngcontent-%COMP%]{width:60%;-webkit-clip-path:polygon(0 0,0% 100%,100% 0);clip-path:polygon(0 0,0% 100%,100% 0)}.col-right[_ngcontent-%COMP%]{padding:60px 30px;width:50%;margin-left:-10%}@media (max-width: 575.98px){.container[_ngcontent-%COMP%]{flex-direction:column;box-shadow:none}.col-left[_ngcontent-%COMP%], .col-right[_ngcontent-%COMP%]{width:100%;margin:0;-webkit-clip-path:none;clip-path:none}.col-right[_ngcontent-%COMP%]{padding:30px}}.login-text[_ngcontent-%COMP%]{position:relative;width:100%;color:#fff}.login-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;font-size:30px;font-weight:700}.login-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;font-size:16px;font-weight:500;line-height:22px}label[_ngcontent-%COMP%]{color:#fff}.login-text[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;padding:7px 20px;font-size:16px;letter-spacing:1px;text-decoration:none;border-radius:30px;color:#fff;outline:none;border:1px solid #ffffff;box-shadow:inset 0 0 #fff;transition:.3s;-webkit-transition:.3s}.login-text[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{color:#44c7f5;box-shadow:inset 150px 0 #fff}.login-form[_ngcontent-%COMP%]{position:relative;width:100%}.login-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;font-size:22px;font-weight:700}.login-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;text-align:left;color:#666;font-size:15px}.login-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin:0;padding-top:3px}.login-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#44c7f5;font-size:14px;text-decoration:none}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:2px;letter-spacing:.5px}.login-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child   label[_ngcontent-%COMP%]{width:60%;float:left}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff574e;padding-left:2px}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:35px;padding:0 10px;outline:none;border:1px solid #cccccc;border-radius:30px}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#ff574e}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{display:inline-block;width:100%;margin-top:5px;color:#44c7f5;font-size:16px;letter-spacing:1px;cursor:pointer;background:transparent;border:1px solid #44c7f5;border-radius:30px;box-shadow:inset 0 0 #44c7f5;transition:.3s;-webkit-transition:.3s}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .login-form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{color:#fff;box-shadow:inset 250px 0 #44c7f5}"]}),s})(),$2=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-quien-soy"]],decls:2,vars:0,template:function(i,o){1&i&&(g.TgZ(0,"p"),g._uU(1,"quien-soy works!"),g.qZA())},styles:[""]}),s})();const z2=function(){return[""]},q2=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:GA,canActivate:[(()=>{class s{constructor(i,o){this.auth=i,this.router=o}canActivate(i,o){return!!this.auth.isLoggedIn}}return s.\u0275fac=function(i){return new(i||s)(g.LFG(TT),g.LFG(tr))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()]},{path:"login",component:H2},{path:"about",component:$2},{path:"**",redirectTo:"error"},{path:"error",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-error"]],decls:41,vars:2,consts:[[1,"fondo"],[1,"notfound-copy"],["aria-labelledby","404","alt","404 Page not found",1,"not-found"],["id","svgtitle1"],[1,"404-text"],["opacity",".5","fill","#3B3D3D"],["d","M320.1 209.5c0 7.2-6 12.5-13.7 12.5s-13.7-5.4-13.7-12.5v-16.3h-43.8c-8.4 0-14.1-6.4-14.1-13.5 0-.8.8-4.4 2-7L275 84.5c2-4.8 7.2-7.8 12.3-7.8 6.8 0 13.7 6 13.7 12.9 0 1.2 0 2.6-.8 4.4-11.5 26.7-20.9 47.6-32.4 74.2h24.9v-30.4c0-7.2 6-12.5 13.7-12.5 7.4 0 13.7 5.4 13.7 12.5v30.4h2.6c7.6 0 13.3 5.8 13.3 12.3 0 7-5.8 12.5-13.3 12.5h-2.6v16.5zM436.9 123.9v54.7c0 24.3-16.3 43.6-46 43.6s-46-19.3-46-43.6v-54.7c0-26.3 13.9-47.4 46-47.4 32.1.1 46 21.2 46 47.4zm-64.3-1.4v56.1c0 11.3 6.4 19.1 18.3 19.1s18.3-7.8 18.3-19.1v-56.1c0-12.7-5.2-21.7-18.3-21.7s-18.3 9-18.3 21.7zM535 209.5c0 7.2-6 12.5-13.7 12.5s-13.7-5.4-13.7-12.5v-16.3h-43.8c-8.4 0-14.1-6.4-14.1-13.5 0-.8.8-4.4 2-7l38.2-88.2c2-4.8 7.2-7.8 12.3-7.8 6.8 0 13.7 6 13.7 12.9 0 1.2 0 2.6-.8 4.4-11.5 26.7-20.9 47.6-32.4 74.2h24.9v-30.4c0-7.2 6-12.5 13.7-12.5 7.4 0 13.7 5.4 13.7 12.5v30.4h2.6c7.6 0 13.3 5.8 13.3 12.3 0 7-5.8 12.5-13.3 12.5H535v16.5z"],["fill","#FFF"],["d","M326.4 197.5c0 7.2-6 12.5-13.7 12.5s-13.7-5.4-13.7-12.5v-16.3h-43.8c-8.4 0-14.1-6.4-14.1-13.5 0-.8.8-4.4 2-7l38.2-88.2c2-4.8 7.2-7.8 12.3-7.8 6.8 0 13.7 6 13.7 12.9 0 1.2 0 2.6-.8 4.4-11.5 26.7-20.9 47.6-32.4 74.2H299v-30.4c0-7.2 6-12.5 13.7-12.5 7.4 0 13.7 5.4 13.7 12.5v30.4h2.6c7.6 0 13.3 5.8 13.3 12.3 0 7-5.8 12.5-13.3 12.5h-2.6v16.5zM443.2 111.9v54.7c0 24.3-16.3 43.6-46 43.6s-46-19.3-46-43.6v-54.7c0-26.3 13.9-47.4 46-47.4 32.1.1 46 21.2 46 47.4zm-64.2-1.4v56.1c0 11.3 6.4 19.1 18.3 19.1s18.3-7.8 18.3-19.1v-56.1c0-12.7-5.2-21.7-18.3-21.7s-18.3 9-18.3 21.7zM541.4 197.5c0 7.2-6 12.5-13.7 12.5-7.8 0-13.7-5.4-13.7-12.5v-16.3h-43.8c-8.4 0-14.1-6.4-14.1-13.5 0-.8.8-4.4 2-7l38.2-88.2c2-4.8 7.2-7.8 12.3-7.8 6.8 0 13.7 6 13.7 12.9 0 1.2 0 2.6-.8 4.4-11.5 26.7-20.9 47.6-32.4 74.2H514v-30.4c0-7.2 6-12.5 13.7-12.5 7.4 0 13.7 5.4 13.7 12.5v30.4h2.6c7.6 0 13.3 5.8 13.3 12.3 0 7-5.8 12.5-13.3 12.5h-2.6v16.5z"],[3,"routerLink"],["aria-labelledby","Starry sky","alt","Starry sky",1,"starry-sky"],["id","svgtitle2"],["fill","#F6F5BC",1,"all-stars"],["d","M148.9 151.5c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM93.6 ",1,"stars-one"],["d","M148.9 540.6c-4.9-1.6-6.2-6.2-6.2-6.2-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.8-.4-1zM526.3 551.7c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM617.4 291.9c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.6-6.2-6.2-6.2-6.2zM681.9 42.7c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM51.1 83.9c-.3-.3-.6-.4-1-.4s-.7.1-1 .4C47.5 88.8 43 90 43 90c-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5.1-1.6-6.3-6.1-6.3-6.1z",1,"stars-two"],["d","M148.9 151.5c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM93.6 318.5c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM132.3 169c-.2-.2-.4-.3-.6-.3s-.4.1-.6.3c-1 3.1-3.8 3.8-3.8 3.8-.2.2-.3.4-.3.6 0 .2.1.4.3.6 3.1 1 3.8 3.8 3.8 3.8.2.2.4.3.6.3s.4-.1.6-.3c1-3.1 3.8-3.8 3.8-3.8.2-.2.3-.4.3-.6 0-.2-.1-.4-.3-.6-3-.9-3.8-3.8-3.8-3.8zM585.9 269.5c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM723.4 540.6c-4.9-1.6-6.2-6.2-6.2-6.2-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.8-.4-1zM526.3 551.7c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM617.4 291.9c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.6-6.2-6.2-6.2-6.2zM681.9 42.7c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-1.6 4.9-6.2 6.2-6.2 6.2-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5-1.7-6.2-6.2-6.2-6.2zM51.1 83.9c-.3-.3-.6-.4-1-.4s-.7.1-1 .4C47.5 88.8 43 90 43 90c-.3.3-.4.6-.4 1s.1.7.4 1c4.9 1.6 6.2 6.2 6.2 6.2.3.3.6.4 1 .4s.7-.1 1-.4c1.6-4.9 6.2-6.2 6.2-6.2.3-.3.4-.6.4-1s-.1-.7-.4-1c-5.1-1.6-6.3-6.1-6.3-6.1z",1,"all-stars"],[1,"moon"],["opacity",".5","fill","#3B3D3D","d","M122.7 373.9L-237.1 744l283.8 269.4 279.9-492.8z"],["fill","#D1D5D6"],["d","M209 340.6c-70.9 0-128.4 57.5-128.4 128.4S138.1 597.4 209 597.4 337.4 539.9 337.4 469 279.9 340.6 209 340.6zm-41.9 176.1c0 10.9-8.9 19.8-19.8 19.8s-19.8-8.9-19.8-19.8c0-1.4.1-2.7.4-4-18.3-1.7-32.6-17-32.6-35.7 0-19.8 16.1-35.9 35.9-35.9 19.8 0 35.9 16.1 35.9 35.9 0 8.9-3.3 17.1-8.6 23.3 5.1 3.7 8.6 9.7 8.6 16.4zm20.2 3.9c0-8.8 7.1-16 16-16 8.8 0 16 7.1 16 16 0 8.8-7.1 16-16 16-8.9-.1-16-7.2-16-16zm5.8-43.5c0-13.3 10.7-24 24-24s24 10.7 24 24-10.7 24-24 24-24-10.8-24-24zm72.7 86.4c-4.2 0-8.2-.7-11.9-2-.5 12.8-11 23.1-24 23.1-13.3 0-24-10.7-24-24s10.7-24 24-24h1.1c-.7-2.9-1.1-5.8-1.1-8.9 0-19.8 16.1-35.9 35.9-35.9 19.8 0 35.9 16.1 35.9 35.9s-16.1 35.8-35.9 35.8zm10.9-91.1c0 2.6-2.1 4.6-4.6 4.6-2.6 0-4.6-2.1-4.6-4.6 0-2.6 2.1-4.6 4.6-4.6 2.5 0 4.6 2.1 4.6 4.6zm27.7 13.1c-2.1 2-4.9 3.2-8.1 3.2-6.5 0-11.7-5.2-11.7-11.7 0-6.5 5.2-11.7 11.7-11.7.5 0 1.1 0 1.6.1-1.5-3.6-3.2-7.1-5.1-10.5 2.5-4 3.9-8.7 3.9-13.8 0-14.6-11.8-26.4-26.4-26.4-3.6 0-7 .7-10.2 2-4.9-3.8-10.2-7.2-15.7-10.2.1 1 .2 2 .2 3.1 0 17.4-14.1 31.5-31.5 31.5-16.7 0-30.4-13-31.4-29.5 0-.7-.1-1.3-.1-2 0-3.4.5-6.6 1.5-9.6.9-2.8 2.2-5.5 3.8-7.9-2.2 0-4.3.1-6.5.2-3.8-6.7-11-11.2-19.2-11.2-11.8 0-21.5 9.3-22.1 21-17.1 7.5-32.1 18.8-43.9 32.8 14.3-50.3 60.6-87.2 115.6-87.2 66.3 0 120.1 53.8 120.1 120.1 0 29.5-10.6 56.4-28.2 77.3 3-10.5 4.6-21.5 4.6-32.9.1-9.1-.9-18.1-2.9-26.7z"],["cx","256.3","cy","384.3","r","14.1"],["cx","217.1","cy","477.1","r","24"],["d","M265.8 491.7c-19.8 0-35.9 16.1-35.9 35.9 0 3.1.4 6.1 1.1 8.9h-1.1c-13.3 0-24 10.7-24 24s10.7 24 24 24c12.9 0 23.5-10.2 24-23.1 3.7 1.3 7.7 2 11.9 2 19.8 0 35.9-16.1 35.9-35.9s-16.1-35.8-35.9-35.8zM131.2 441.2c-19.8 0-35.9 16.1-35.9 35.9 0 18.7 14.3 34.1 32.6 35.7-.3 1.3-.4 2.6-.4 4 0 10.9 8.9 19.8 19.8 19.8s19.8-8.9 19.8-19.8c0-6.8-3.4-12.8-8.6-16.3 5.4-6.3 8.6-14.4 8.6-23.3 0-20-16.1-36-35.9-36z"],["d","M331 467.9c0-66.3-53.8-120.1-120.1-120.1-54.9 0-101.3 36.9-115.6 87.2 11.8-14.1 26.9-25.4 43.9-32.8.6-11.7 10.2-21 22.1-21 8.2 0 15.4 4.5 19.2 11.2 2.2-.1 4.3-.2 6.5-.2-1.6 2.4-2.9 5.1-3.8 7.9-1 3-1.5 6.3-1.5 9.6 0 .7 0 1.3.1 2 1 16.5 14.7 29.5 31.4 29.5 17.4 0 31.5-14.1 31.5-31.5 0-1-.1-2.1-.2-3.1 5.5 3 10.7 6.4 15.7 10.2 3.1-1.3 6.6-2 10.2-2 14.6 0 26.4 11.8 26.4 26.4 0 5-1.4 9.8-3.9 13.8 1.9 3.4 3.6 6.9 5.1 10.5-.5-.1-1.1-.1-1.6-.1-6.5 0-11.7 5.2-11.7 11.7 0 6.5 5.2 11.7 11.7 11.7 3.1 0 6-1.2 8.1-3.2 2 8.6 3 17.6 3 26.8 0 11.4-1.6 22.5-4.6 32.9 17.5-21 28.1-48 28.1-77.4z"],["cx","203.2","cy","520.6","r","16"],["cx","272.1","cy","472.4","r","4.6"],["opacity",".1","fill-rule","evenodd","clip-rule","evenodd","fill","#3B3D3D","d","M201.2 368.2l-.4-.8c-.4-.7-1.4-1-2.1-.6l-80.5 46.8c-.7.4-1 1.4-.6 2.1l.4.8c.3.5.8.8 1.4.8.3 0 .5-.1.8-.2l1-.6c0 .1.1.3.2.4l24.2 41.7c.2.4.7.7 1.2.7.2 0 .5-.1.7-.2l34.1-19.8c.3-.2.5-.5.6-.8.1-.4 0-.7-.1-1l-24.2-41.7-.3-.3 43.2-25.1c.4-.2.6-.5.7-1-.1-.4-.1-.8-.3-1.2z"],["fill","#acacac","stroke","#B5B5B6","stroke-miterlimit","10","d","M200.8 369.5c-.2.6-.8 1-1.4.8l-.9-.2c-.6-.2-1-.8-.8-1.4l25.5-89.5c.2-.6.8-1 1.4-.8l.9.2c.6.2 1 .8.8 1.4l-25.5 89.5z"],["fill-rule","evenodd","clip-rule","evenodd","fill","#263563","stroke","#B5B5B6","stroke-miterlimit","10","d","M262.9 334c-.1.5-.7.8-1.2.7l-46.4-13.2c-.5-.1-.8-.7-.7-1.2l10.8-38c.1-.5.7-.8 1.2-.7l46.4 13.2c.5.1.8.7.7 1.2l-10.8 38z"],["fill-rule","evenodd","clip-rule","evenodd","fill","#263563"],["d","M249 311.1c.4.6.8 1.1 1.2 1.6.4.5.9.9.3 1.6.8.2 1.6.3 2.3.5-.1.4-.2.6-.2.9 0 .1.1.2.1.3.1-.1.2-.1.2-.2l.3-.9c.7.3 1.4.5 2.1.7.1-.8.1-.8 1-1.2.7-.3 1.3-.5 2-.8-.5-.7-.5-.7 0-1.3.1-.2.2-.4.4-.5-.5-.5-1.6.1-1.6-1.1-.4.3-.7.5-1 .7-.2.1-.4.1-.6.2 0-.2 0-.4.1-.6l.9-1.8c-.3.1-.6.1-.8.2-.2-.7-.3-1.3-.5-2-.5.5-1 .9-1.5 1.4l-.6-.6c-.1.8-.1 1.5-.2 2.3 0 .1-.1.3-.2.4-.1-.1-.3-.2-.3-.3-.2-.4-.3-.8-.5-1.2-.6.5-.6.5-1.3.2-.2-.1-.4-.1-.6-.2-.4.5.4 1.5-1 1.7z"],["d","M260.2 298.6c-.6 1.1-1.2 2.2-1.8 3.4-.6 1.3-1.3 2.5-1.9 3.8-.4.8-.5.9-1.4.4.2-.8.4-1.6.5-2.4.1-.5.1-1 .2-1.5.1-1.8-1.4-3.7-3.2-3.9-.1 0-.4.2-.5.3-.9 1.6-1.7 3.3-2.5 5 0 .1-.1.2-.1.2-.2.2-.1.6-.6.4-.4-.2-.1-.4-.1-.7.2-.9.4-1.8.5-2.8 0-.7-.1-1.4-.3-2.1-.1-.4-.3-.5-.8-.4-1.8.7-3.3 1.7-4.5 3.1-2.5 2.6-4.3 5.6-5.2 9.1-.5 1.9-.5 3.8.3 5.6.8 1.7 1.2 1.8 2.8.8.7-.4 1.3-.9 2-1.4.3-.2.6-.3 1 0-1.2 1-2.4 2-3.7 2.9.7.6 1.6.8 2.6 1 2.5.4 4.6-.7 6.4-2.3.7-.6 1.2-.5 1.9-.2v.1c-2 2.2-4.2 4.1-7.3 4.3-2.3.2-4.4-.4-6.4-1.8-.2-.2-.5-.3-.8-.3-5.5.1-9.3-3.9-9-9.4 0-.7.1-1.4.2-2 .2-.6.4-1.3.5-1.9.1-.2.2-.3.3-.5.6-1.2 1.1-2.5 1.9-3.6 2.5-3.8 5.9-6.4 10.5-7.2 1.9-.3 3.9-.3 5.6.6 1.1.6 2.1.7 3.3.7.6 0 1.2.1 1.8.1.5.1.9.3 1.4.4.2.1.5.3.7.4.8.6 1.6 1.1 2.4 1.7.4.3.8.4 1.2.1.4-.2.7-.5 1.1-.7.3.5.7.6 1 .7zm-13.4-2c-.7-.5-2.1-.7-3.4-.6-2.1.2-3.8 1.2-5.3 2.4-2.4 2-4.2 4.6-5.5 7.5-.8 1.7-1.3 3.5-1.3 5.4 0 2.5.8 4.6 3.1 5.9.6.3 1.2.5 1.9.8 0-.1.1-.1.1-.2s-.1-.2-.1-.2c-1-1.5-1.4-3.1-1.4-4.9-.1-2.3.5-4.5 1.5-6.6 1.6-3.3 3.9-6.1 7.1-8 .9-.5 2.1-.9 3.3-1.5z"],["d","M249 311.1c1.4-.1.5-1.1.8-1.8.2.1.4.1.6.2.7.3.7.3 1.3-.2.2.4.3.8.5 1.2l.3.3c.1-.1.2-.3.2-.4.1-.7.1-1.5.2-2.3l.6.6c.5-.4 1-.9 1.5-1.4.2.7.4 1.3.5 2 .3-.1.5-.1.8-.2-.3.7-.6 1.2-.9 1.8-.1.2-.1.4-.1.6.2-.1.4-.1.6-.2.3-.2.6-.4 1-.7 0 1.2 1.1.7 1.6 1.1-.1.2-.2.3-.4.5-.5.7-.5.7 0 1.3-.7.3-1.3.5-2 .8-.8.3-.8.3-1 1.2-.7-.2-1.3-.5-2.1-.7l-.3.9c0 .1-.2.2-.2.2 0-.1-.1-.2-.1-.3 0-.3.1-.5.2-.9-.7-.2-1.5-.3-2.3-.5.6-.7.1-1.2-.3-1.6-.1-.5-.5-1-1-1.5z"]],template:function(i,o){1&i&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.O4$(),g.TgZ(2,"svg",2),g.TgZ(3,"title",3),g._uU(4,"404 Page not found"),g.qZA(),g.TgZ(5,"g",4),g.TgZ(6,"g",5),g._UZ(7,"path",6),g.qZA(),g.TgZ(8,"g",7),g._UZ(9,"path",8),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(10,"h1"),g._uU(11,"page not found"),g.qZA(),g.TgZ(12,"p"),g.TgZ(13,"a",9),g._uU(14,"Home"),g.qZA(),g.qZA(),g.qZA(),g.O4$(),g.TgZ(15,"svg",10),g.TgZ(16,"title",11),g._uU(17,"Starry sky"),g.qZA(),g.TgZ(18,"g",12),g._UZ(19,"path",13),g._UZ(20,"path",14),g._UZ(21,"path",15),g.qZA(),g.TgZ(22,"g",16),g._UZ(23,"path",17),g.TgZ(24,"g",18),g._UZ(25,"path",19),g._UZ(26,"circle",20),g.qZA(),g.TgZ(27,"g",7),g._UZ(28,"circle",21),g._UZ(29,"path",22),g._UZ(30,"path",23),g._UZ(31,"circle",24),g._UZ(32,"circle",25),g.qZA(),g._UZ(33,"path",26),g.TgZ(34,"g"),g._UZ(35,"path",27),g._UZ(36,"path",28),g.TgZ(37,"g",29),g._UZ(38,"path",30),g._UZ(39,"path",31),g._UZ(40,"path",32),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(13),g.Q6J("routerLink",g.DdM(1,z2)))},directives:[Qm],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#0a1821;height:100vh;width:100vw;font-family:Roboto,Arial,sans-serif;color:#fff;text-align:center}.not-found[_ngcontent-%COMP%]{width:560px;height:225px;margin-right:-10px}.starry-sky[_ngcontent-%COMP%]{display:block;width:100vw;height:100vh;object-fit:cover}.search-icon[_ngcontent-%COMP%]{display:inline-block}.notfound-copy[_ngcontent-%COMP%]{color:#fff;position:fixed;top:25px;right:10%;text-align:right}h1[_ngcontent-%COMP%]{font-weight:700;font-size:40px}a[_ngcontent-%COMP%]{font-weight:300;color:#fff;border-bottom:1.5px solid #5581d4;text-decoration:none}a[_ngcontent-%COMP%]:hover{font-weight:300;color:#fff;border-bottom:2px solid #fff;text-decoration:none}.all-stars[_ngcontent-%COMP%]{animation:blinkblink 7s linear infinite}@keyframes blinkblink{50%{opacity:.1}}input[type=text][_ngcontent-%COMP%]{color:#fff;background-color:#0a1821;padding:5px;border:none;border-bottom:2px solid #ccc;font-size:18px}input[type=text][_ngcontent-%COMP%]:focus{border-color:none;border-bottom:2px solid #ccc}.fondo[_ngcontent-%COMP%]{background-color:#0a1821}"]}),s})()}];let W2=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[Xm.forRoot(q2)],Xm]}),s})();const Hk_firebaseConfig={apiKey:"AIzaSyB6Hlfh5Jcs_mGo39zqVXs0tpt1mtHNTrs",authDomain:"sala-de-juegos-e5892.firebaseapp.com",projectId:"sala-de-juegos-e5892",storageBucket:"sala-de-juegos-e5892.appspot.com",messagingSenderId:"357950147430",appId:"1:357950147430:web:2b3a0e1f12fccd543f56a7"},$k=function(){return["login"]};function Z2(s,r){1&s&&(g.TgZ(0,"a",11),g._uU(1,"Login"),g.qZA()),2&s&&g.Q6J("routerLink",g.DdM(1,$k))}function K2(s,r){if(1&s){const i=g.EpF();g.TgZ(0,"a",13),g.NdJ("click",function(){return g.CHM(i),g.oxw().auth.logOut()}),g._uU(1,"Log out"),g.qZA()}2&s&&g.Q6J("routerLink",g.DdM(1,$k))}const Y2=function(){return[""]},Q2=function(){return["about"]};let J2=(()=>{class s{constructor(i){this.auth=i}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)(g.Y36(TT))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-navbar"]],decls:18,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","/",1,"navbar-brand"],["src","../assets/iconoJuego.png","alt","","width","50","height","50"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"routerLink"],["class","nav-link",3,"routerLink",4,"ngIf"],[1,"nav-link",3,"routerLink"],["class","nav-link",3,"routerLink","click",4,"ngIf"],[1,"nav-link",3,"routerLink","click"]],template:function(i,o){1&i&&(g.TgZ(0,"nav",0),g.TgZ(1,"div",1),g.TgZ(2,"a",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"button",4),g._UZ(5,"span",5),g.qZA(),g.TgZ(6,"div",6),g.TgZ(7,"ul",7),g.TgZ(8,"li",8),g.TgZ(9,"a",9),g._uU(10,"Home"),g.qZA(),g.qZA(),g.TgZ(11,"li",8),g.YNc(12,Z2,2,2,"a",10),g.qZA(),g.TgZ(13,"li",8),g.TgZ(14,"a",11),g._uU(15,"About me"),g.qZA(),g.qZA(),g.TgZ(16,"li",8),g.YNc(17,K2,2,2,"a",12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&i&&(g.xp6(9),g.Q6J("routerLink",g.DdM(4,Y2)),g.xp6(3),g.Q6J("ngIf",!o.auth.isLoggedIn),g.xp6(2),g.Q6J("routerLink",g.DdM(5,Q2)),g.xp6(3),g.Q6J("ngIf",o.auth.isLoggedIn))},directives:[Qm,ns],styles:[""]}),s})(),X2=(()=>{class s{constructor(){this.title="sala-de-juegos"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:0,template:function(i,o){1&i&&(g._UZ(0,"app-navbar"),g._UZ(1,"router-outlet"))},directives:[J2,Jm],styles:[""]}),s})(),eV=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=g.oAB({type:s,bootstrap:[X2]}),s.\u0275inj=g.cJS({providers:[],imports:[[rs,W2,eC,Bs.hO.initializeApp(Hk_firebaseConfig),up,Uk,BL]]}),s})();Sv().bootstrapModule(eV).catch(s=>console.error(s))},4762:(Ge,Te,V)=>{"use strict";V.d(Te,{ZT:()=>ue,pi:()=>G,_T:()=>oe,mG:()=>he,Jh:()=>Q,XA:()=>q,CR:()=>j,ev:()=>ie});var g=function(ge,le){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,Ee){me.__proto__=Ee}||function(me,Ee){for(var _e in Ee)Object.prototype.hasOwnProperty.call(Ee,_e)&&(me[_e]=Ee[_e])})(ge,le)};function ue(ge,le){if("function"!=typeof le&&null!==le)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");function me(){this.constructor=ge}g(ge,le),ge.prototype=null===le?Object.create(le):(me.prototype=le.prototype,new me)}var G=function(){return(G=Object.assign||function(le){for(var me,Ee=1,_e=arguments.length;Ee<_e;Ee++)for(var te in me=arguments[Ee])Object.prototype.hasOwnProperty.call(me,te)&&(le[te]=me[te]);return le}).apply(this,arguments)};function oe(ge,le){var me={};for(var Ee in ge)Object.prototype.hasOwnProperty.call(ge,Ee)&&le.indexOf(Ee)<0&&(me[Ee]=ge[Ee]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(Ee=Object.getOwnPropertySymbols(ge);_e<Ee.length;_e++)le.indexOf(Ee[_e])<0&&Object.prototype.propertyIsEnumerable.call(ge,Ee[_e])&&(me[Ee[_e]]=ge[Ee[_e]])}return me}function he(ge,le,me,Ee){return new(me||(me=Promise))(function(te,Fe){function Ye(St){try{Qe(Ee.next(St))}catch(tn){Fe(tn)}}function kt(St){try{Qe(Ee.throw(St))}catch(tn){Fe(tn)}}function Qe(St){St.done?te(St.value):function(te){return te instanceof me?te:new me(function(Fe){Fe(te)})}(St.value).then(Ye,kt)}Qe((Ee=Ee.apply(ge,le||[])).next())})}function Q(ge,le){var Ee,_e,te,Fe,me={label:0,sent:function(){if(1&te[0])throw te[1];return te[1]},trys:[],ops:[]};return Fe={next:Ye(0),throw:Ye(1),return:Ye(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Ye(Qe){return function(St){return function(Qe){if(Ee)throw new TypeError("Generator is already executing.");for(;me;)try{if(Ee=1,_e&&(te=2&Qe[0]?_e.return:Qe[0]?_e.throw||((te=_e.return)&&te.call(_e),0):_e.next)&&!(te=te.call(_e,Qe[1])).done)return te;switch(_e=0,te&&(Qe=[2&Qe[0],te.value]),Qe[0]){case 0:case 1:te=Qe;break;case 4:return me.label++,{value:Qe[1],done:!1};case 5:me.label++,_e=Qe[1],Qe=[0];continue;case 7:Qe=me.ops.pop(),me.trys.pop();continue;default:if(!(te=(te=me.trys).length>0&&te[te.length-1])&&(6===Qe[0]||2===Qe[0])){me=0;continue}if(3===Qe[0]&&(!te||Qe[1]>te[0]&&Qe[1]<te[3])){me.label=Qe[1];break}if(6===Qe[0]&&me.label<te[1]){me.label=te[1],te=Qe;break}if(te&&me.label<te[2]){me.label=te[2],me.ops.push(Qe);break}te[2]&&me.ops.pop(),me.trys.pop();continue}Qe=le.call(ge,me)}catch(St){Qe=[6,St],_e=0}finally{Ee=te=0}if(5&Qe[0])throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}}([Qe,St])}}}function q(ge){var le="function"==typeof Symbol&&Symbol.iterator,me=le&&ge[le],Ee=0;if(me)return me.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Ee>=ge.length&&(ge=void 0),{value:ge&&ge[Ee++],done:!ge}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(ge,le){var me="function"==typeof Symbol&&ge[Symbol.iterator];if(!me)return ge;var _e,Fe,Ee=me.call(ge),te=[];try{for(;(void 0===le||le-- >0)&&!(_e=Ee.next()).done;)te.push(_e.value)}catch(Ye){Fe={error:Ye}}finally{try{_e&&!_e.done&&(me=Ee.return)&&me.call(Ee)}finally{if(Fe)throw Fe.error}}return te}function ie(ge,le,me){if(me||2===arguments.length)for(var te,Ee=0,_e=le.length;Ee<_e;Ee++)(te||!(Ee in le))&&(te||(te=Array.prototype.slice.call(le,0,Ee)),te[Ee]=le[Ee]);return ge.concat(te||Array.prototype.slice.call(le))}},8239:(Ge,Te,V)=>{"use strict";function g(G,oe,be,ce,se,he,Q){try{var L=G[he](Q),$=L.value}catch(q){return void be(q)}L.done?oe($):Promise.resolve($).then(ce,se)}function ue(G){return function(){var oe=this,be=arguments;return new Promise(function(ce,se){var he=G.apply(oe,be);function Q($){g(he,ce,se,Q,L,"next",$)}function L($){g(he,ce,se,Q,L,"throw",$)}Q(void 0)})}}V.d(Te,{Z:()=>ue})}},Ge=>{Ge(Ge.s=80)}]);